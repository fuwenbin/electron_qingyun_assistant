"use strict";const r=require("electron");require("path");const s=require("fs"),a=require("crypto");require("iconv-lite");function t(e){return Buffer.from(e).toString("base64")}window.addEventListener("DOMContentLoaded",()=>{const e=(i,o)=>{const n=document.getElementById(i);n&&(n.innerText=o)};for(const i of["chrome","node","electron"])e(`${i}-version`,process.versions[i])});r.contextBridge.exposeInMainWorld("electronCrypto",{getRandomValues:e=>a.getRandomValues(e),randomUUID:()=>a.randomUUID()});r.contextBridge.exposeInMainWorld("electronAPI",{saveVideo:e=>r.ipcRenderer.invoke("save-video-blob",e),removeAllListeners:e=>{r.ipcRenderer.removeAllListeners(e)},showSaveDialog:e=>r.ipcRenderer.invoke("show-save-dialog",e),selectDirectory:e=>r.ipcRenderer.invoke("select-directory",e&&t(JSON.stringify(e))),openFile:e=>r.ipcRenderer.invoke("open-file",e),getDefaultSavePath:()=>r.ipcRenderer.invoke("get-default-save-path"),text2voice:e=>r.ipcRenderer.invoke("text2voice",t(JSON.stringify(e))),videoMixAndCut:e=>r.ipcRenderer.invoke("video-mix-and-cut",t(JSON.stringify(e))),openFileDialog:e=>r.ipcRenderer.invoke("open-file-dialog",e),getMediaDuration:e=>r.ipcRenderer.invoke("get-media-duration",t(JSON.stringify({path:e}))),readFile:e=>new Promise((i,o)=>{s.readFile(e,(n,d)=>{n?o(n):i(d)})}),readFileBase64:e=>new Promise((i,o)=>{s.readFile(e,(n,d)=>{n&&o(n),i(Buffer.from(d).toString("base64"))})}),generateAssFile:e=>r.ipcRenderer.invoke("generate-ass-file",t(JSON.stringify(e)))});
//# sourceMappingURL=preload.js.map
