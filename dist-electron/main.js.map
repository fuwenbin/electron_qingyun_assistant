{"version":3,"file":"main.js","sources":["../electron/show-save-dialog.ts","../node_modules/isexe/windows.js","../node_modules/isexe/mode.js","../node_modules/isexe/index.js","../node_modules/fluent-ffmpeg/node_modules/which/which.js","../node_modules/fluent-ffmpeg/lib/utils.js","../node_modules/fluent-ffmpeg/lib/options/inputs.js","../node_modules/fluent-ffmpeg/lib/options/audio.js","../node_modules/fluent-ffmpeg/lib/options/video.js","../node_modules/fluent-ffmpeg/lib/options/videosize.js","../node_modules/fluent-ffmpeg/lib/options/output.js","../node_modules/fluent-ffmpeg/lib/options/custom.js","../node_modules/fluent-ffmpeg/lib/options/misc.js","../node_modules/fluent-ffmpeg/node_modules/async/lib/async.js","../node_modules/fluent-ffmpeg/lib/processor.js","../node_modules/fluent-ffmpeg/lib/capabilities.js","../node_modules/fluent-ffmpeg/lib/ffprobe.js","../node_modules/fluent-ffmpeg/lib/recipes.js","../node_modules/fluent-ffmpeg/lib/fluent-ffmpeg.js","../node_modules/fluent-ffmpeg/index.js","../node_modules/electron-log/src/renderer/electron-log-preload.js","../node_modules/electron-log/src/core/scope.js","../node_modules/electron-log/src/core/Buffering.js","../node_modules/electron-log/src/core/Logger.js","../node_modules/electron-log/src/renderer/lib/RendererErrorHandler.js","../node_modules/electron-log/src/core/transforms/transform.js","../node_modules/electron-log/src/renderer/lib/transports/console.js","../node_modules/electron-log/src/renderer/lib/transports/ipc.js","../node_modules/electron-log/src/renderer/index.js","../node_modules/electron-log/src/node/packageJson.js","../node_modules/electron-log/src/node/NodeExternalApi.js","../node_modules/electron-log/src/main/ElectronExternalApi.js","../node_modules/electron-log/src/main/initialize.js","../node_modules/electron-log/src/node/ErrorHandler.js","../node_modules/electron-log/src/node/EventLogger.js","../node_modules/electron-log/src/core/transforms/format.js","../node_modules/electron-log/src/node/transforms/object.js","../node_modules/electron-log/src/core/transforms/style.js","../node_modules/electron-log/src/node/transports/console.js","../node_modules/electron-log/src/node/transports/file/File.js","../node_modules/electron-log/src/node/transports/file/NullFile.js","../node_modules/electron-log/src/node/transports/file/FileRegistry.js","../node_modules/electron-log/src/node/transports/file/index.js","../node_modules/electron-log/src/node/transports/ipc.js","../node_modules/electron-log/src/node/transports/remote.js","../node_modules/electron-log/src/node/createDefaultLogger.js","../node_modules/electron-log/src/main/index.js","../node_modules/electron-log/src/node/index.js","../node_modules/electron-log/src/index.js","../electron/utils.ts","../electron/merge-media.ts","../electron/open-file.ts","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/regex.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/validate.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/v1.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/parse.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/v35.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/md5.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/v3.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/v4.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/v5.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/nil.js","../node_modules/alibabacloud-nls/node_modules/uuid/dist/esm-browser/version.js","../node_modules/alibabacloud-nls/lib/nls.js","../node_modules/alibabacloud-nls/lib/sr.js","../node_modules/alibabacloud-nls/lib/st.js","../node_modules/alibabacloud-nls/lib/tts.js","../electron/services/aliyun-config.ts","../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../node_modules/has-flag/index.js","../node_modules/supports-color/index.js","../node_modules/debug/src/node.js","../node_modules/debug/src/index.js","../node_modules/httpx/lib/index.js","../node_modules/kitx/lib/index.js","../node_modules/bignumber.js/bignumber.js","../node_modules/json-bigint/lib/stringify.js","../node_modules/json-bigint/lib/parse.js","../node_modules/json-bigint/index.js","../node_modules/@alicloud/pop-core/lib/helper.js","../node_modules/@alicloud/pop-core/lib/rpc.js","../node_modules/xml2js/lib/defaults.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/Utility.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDOMImplementation.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDOMStringList.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDOMConfiguration.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/NodeType.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLAttribute.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLNamedNodeMap.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLElement.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLCharacterData.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLCData.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLComment.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDeclaration.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDTDAttList.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDTDEntity.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDTDElement.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDTDNotation.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDocType.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLRaw.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLText.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDummy.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLNodeList.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/DocumentPosition.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLNode.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLStringifier.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/WriterState.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLWriterBase.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLStringWriter.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDocument.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLDocumentCB.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/XMLStreamWriter.js","../node_modules/xml2js/node_modules/xmlbuilder/lib/index.js","../node_modules/xml2js/lib/builder.js","../node_modules/sax/lib/sax.js","../node_modules/xml2js/lib/bom.js","../node_modules/xml2js/lib/processors.js","../node_modules/xml2js/lib/parser.js","../node_modules/xml2js/lib/xml2js.js","../node_modules/@alicloud/pop-core/node_modules/debug/src/common.js","../node_modules/@alicloud/pop-core/node_modules/debug/src/browser.js","../node_modules/@alicloud/pop-core/node_modules/debug/src/node.js","../node_modules/@alicloud/pop-core/node_modules/debug/src/index.js","../node_modules/@alicloud/pop-core/lib/roa.js","../node_modules/@alicloud/pop-core/index.js","../electron/services/aliyun-token.ts","../electron/utils/ffmpeg-utils.ts","../electron/services/default-save-path.ts","../electron/services/aliyun-tts.ts","../electron/utils/crypto-polyfill.ts","../electron/services/logger.js","../electron/services/video-mix-and-cut.ts","../electron/services/open-file-dialog.ts","../electron/services/protocol-custom.ts","../electron/services/global-shortcut-register.ts","../electron/main.ts"],"sourcesContent":["import { ipcMain, dialog, app } from \"electron\";\r\n\r\nexport default function initShowSaveDialog() {\r\n  // 保存对话框\r\n  ipcMain.handle('show-save-dialog', async (_, options) => {\r\n    const result = await dialog.showSaveDialog({\r\n      title: options.title || '保存文件',\r\n      defaultPath: options.defaultPath || app.getPath('documents'),\r\n      filters: options.filters || [\r\n        { name: 'MP4 Videos', extensions: ['mp4'] },\r\n        { name: 'All Files', extensions: ['*'] }\r\n      ]\r\n    });\r\n    return result;\r\n  });\r\n\r\n  \r\nipcMain.handle('select-directory', async () => {\r\n  const result: any = await dialog.showOpenDialog({\r\n    properties: ['openDirectory'],\r\n    title: '选择保存目录',\r\n    defaultPath: app.getPath('documents') // 默认从文档目录开始\r\n  });\r\n  \r\n  if (!result.canceled && result.filePaths.length > 0) {\r\n    return result.filePaths[0]; // 返回选择的目录路径\r\n  }\r\n  return null; // 用户取消了选择\r\n});\r\n}\r\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n","var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n","module.exports = which\nwhich.sync = whichSync\n\nvar isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nvar path = require('path')\nvar COLON = isWindows ? ';' : ':'\nvar isexe = require('isexe')\n\nfunction getNotFoundError (cmd) {\n  var er = new Error('not found: ' + cmd)\n  er.code = 'ENOENT'\n\n  return er\n}\n\nfunction getPathInfo (cmd, opt) {\n  var colon = opt.colon || COLON\n  var pathEnv = opt.path || process.env.PATH || ''\n  var pathExt = ['']\n\n  pathEnv = pathEnv.split(colon)\n\n  var pathExtExe = ''\n  if (isWindows) {\n    pathEnv.unshift(process.cwd())\n    pathExtExe = (opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM')\n    pathExt = pathExtExe.split(colon)\n\n\n    // Always test the cmd itself first.  isexe will check to make sure\n    // it's found in the pathExt set.\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  if (cmd.match(/\\//) || isWindows && cmd.match(/\\\\/))\n    pathEnv = ['']\n\n  return {\n    env: pathEnv,\n    ext: pathExt,\n    extExe: pathExtExe\n  }\n}\n\nfunction which (cmd, opt, cb) {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  ;(function F (i, l) {\n    if (i === l) {\n      if (opt.all && found.length)\n        return cb(null, found)\n      else\n        return cb(getNotFoundError(cmd))\n    }\n\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && (/^\\.[\\\\\\/]/).test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    ;(function E (ii, ll) {\n      if (ii === ll) return F(i + 1, l)\n      var ext = pathExt[ii]\n      isexe(p + ext, { pathExt: pathExtExe }, function (er, is) {\n        if (!er && is) {\n          if (opt.all)\n            found.push(p + ext)\n          else\n            return cb(null, p + ext)\n        }\n        return E(ii + 1, ll)\n      })\n    })(0, pathExt.length)\n  })(0, pathEnv.length)\n}\n\nfunction whichSync (cmd, opt) {\n  opt = opt || {}\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  for (var i = 0, l = pathEnv.length; i < l; i ++) {\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && /^\\.[\\\\\\/]/.test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    for (var j = 0, ll = pathExt.length; j < ll; j ++) {\n      var cur = p + pathExt[j]\n      var is\n      try {\n        is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n","/*jshint node:true*/\n'use strict';\n\nvar exec = require('child_process').exec;\nvar isWindows = require('os').platform().match(/win(32|64)/);\nvar which = require('which');\n\nvar nlRegexp = /\\r\\n|\\r|\\n/g;\nvar streamRegexp = /^\\[?(.*?)\\]?$/;\nvar filterEscapeRegexp = /[,]/;\nvar whichCache = {};\n\n/**\n * Parse progress line from ffmpeg stderr\n *\n * @param {String} line progress line\n * @return progress object\n * @private\n */\nfunction parseProgressLine(line) {\n  var progress = {};\n\n  // Remove all spaces after = and trim\n  line  = line.replace(/=\\s+/g, '=').trim();\n  var progressParts = line.split(' ');\n\n  // Split every progress part by \"=\" to get key and value\n  for(var i = 0; i < progressParts.length; i++) {\n    var progressSplit = progressParts[i].split('=', 2);\n    var key = progressSplit[0];\n    var value = progressSplit[1];\n\n    // This is not a progress line\n    if(typeof value === 'undefined')\n      return null;\n\n    progress[key] = value;\n  }\n\n  return progress;\n}\n\n\nvar utils = module.exports = {\n  isWindows: isWindows,\n  streamRegexp: streamRegexp,\n\n\n  /**\n   * Copy an object keys into another one\n   *\n   * @param {Object} source source object\n   * @param {Object} dest destination object\n   * @private\n   */\n  copy: function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n      dest[key] = source[key];\n    });\n  },\n\n\n  /**\n   * Create an argument list\n   *\n   * Returns a function that adds new arguments to the list.\n   * It also has the following methods:\n   * - clear() empties the argument list\n   * - get() returns the argument list\n   * - find(arg, count) finds 'arg' in the list and return the following 'count' items, or undefined if not found\n   * - remove(arg, count) remove 'arg' in the list as well as the following 'count' items\n   *\n   * @private\n   */\n  args: function() {\n    var list = [];\n\n    // Append argument(s) to the list\n    var argfunc = function() {\n      if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        list = list.concat(arguments[0]);\n      } else {\n        list = list.concat([].slice.call(arguments));\n      }\n    };\n\n    // Clear argument list\n    argfunc.clear = function() {\n      list = [];\n    };\n\n    // Return argument list\n    argfunc.get = function() {\n      return list;\n    };\n\n    // Find argument 'arg' in list, and if found, return an array of the 'count' items that follow it\n    argfunc.find = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        return list.slice(index + 1, index + 1 + (count || 0));\n      }\n    };\n\n    // Find argument 'arg' in list, and if found, remove it as well as the 'count' items that follow it\n    argfunc.remove = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        list.splice(index, (count || 0) + 1);\n      }\n    };\n\n    // Clone argument list\n    argfunc.clone = function() {\n      var cloned = utils.args();\n      cloned(list);\n      return cloned;\n    };\n\n    return argfunc;\n  },\n\n\n  /**\n   * Generate filter strings\n   *\n   * @param {String[]|Object[]} filters filter specifications. When using objects,\n   *   each must have the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|Array} [filters.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [filters.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [filters.options] filter options, can be omitted to not set any options\n   * @return String[]\n   * @private\n   */\n  makeFilterStrings: function(filters) {\n    return filters.map(function(filterSpec) {\n      if (typeof filterSpec === 'string') {\n        return filterSpec;\n      }\n\n      var filterString = '';\n\n      // Filter string format is:\n      // [input1][input2]...filter[output1][output2]...\n      // The 'filter' part can optionaly have arguments:\n      //   filter=arg1:arg2:arg3\n      //   filter=arg1=v1:arg2=v2:arg3=v3\n\n      // Add inputs\n      if (Array.isArray(filterSpec.inputs)) {\n        filterString += filterSpec.inputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.inputs === 'string') {\n        filterString += filterSpec.inputs.replace(streamRegexp, '[$1]');\n      }\n\n      // Add filter\n      filterString += filterSpec.filter;\n\n      // Add options\n      if (filterSpec.options) {\n        if (typeof filterSpec.options === 'string' || typeof filterSpec.options === 'number') {\n          // Option string\n          filterString += '=' + filterSpec.options;\n        } else if (Array.isArray(filterSpec.options)) {\n          // Option array (unnamed options)\n          filterString += '=' + filterSpec.options.map(function(option) {\n            if (typeof option === 'string' && option.match(filterEscapeRegexp)) {\n              return '\\'' + option + '\\'';\n            } else {\n              return option;\n            }\n          }).join(':');\n        } else if (Object.keys(filterSpec.options).length) {\n          // Option object (named options)\n          filterString += '=' + Object.keys(filterSpec.options).map(function(option) {\n            var value = filterSpec.options[option];\n\n            if (typeof value === 'string' && value.match(filterEscapeRegexp)) {\n              value = '\\'' + value + '\\'';\n            }\n\n            return option + '=' + value;\n          }).join(':');\n        }\n      }\n\n      // Add outputs\n      if (Array.isArray(filterSpec.outputs)) {\n        filterString += filterSpec.outputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.outputs === 'string') {\n        filterString += filterSpec.outputs.replace(streamRegexp, '[$1]');\n      }\n\n      return filterString;\n    });\n  },\n\n\n  /**\n   * Search for an executable\n   *\n   * Uses 'which' or 'where' depending on platform\n   *\n   * @param {String} name executable name\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  which: function(name, callback) {\n    if (name in whichCache) {\n      return callback(null, whichCache[name]);\n    }\n\n    which(name, function(err, result){\n      if (err) {\n        // Treat errors as not found\n        return callback(null, whichCache[name] = '');\n      }\n      callback(null, whichCache[name] = result);\n    });\n  },\n\n\n  /**\n   * Convert a [[hh:]mm:]ss[.xxx] timemark into seconds\n   *\n   * @param {String} timemark timemark string\n   * @return Number\n   * @private\n   */\n  timemarkToSeconds: function(timemark) {\n    if (typeof timemark === 'number') {\n      return timemark;\n    }\n\n    if (timemark.indexOf(':') === -1 && timemark.indexOf('.') >= 0) {\n      return Number(timemark);\n    }\n\n    var parts = timemark.split(':');\n\n    // add seconds\n    var secs = Number(parts.pop());\n\n    if (parts.length) {\n      // add minutes\n      secs += Number(parts.pop()) * 60;\n    }\n\n    if (parts.length) {\n      // add hours\n      secs += Number(parts.pop()) * 3600;\n    }\n\n    return secs;\n  },\n\n\n  /**\n   * Extract codec data from ffmpeg stderr and emit 'codecData' event if appropriate\n   * Call it with an initially empty codec object once with each line of stderr output until it returns true\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr output line\n   * @param {Object} codecObject object used to accumulate codec data between calls\n   * @return {Boolean} true if codec data is complete (and event was emitted), false otherwise\n   * @private\n   */\n  extractCodecData: function(command, stderrLine, codecsObject) {\n    var inputPattern = /Input #[0-9]+, ([^ ]+),/;\n    var durPattern = /Duration\\: ([^,]+)/;\n    var audioPattern = /Audio\\: (.*)/;\n    var videoPattern = /Video\\: (.*)/;\n\n    if (!('inputStack' in codecsObject)) {\n      codecsObject.inputStack = [];\n      codecsObject.inputIndex = -1;\n      codecsObject.inInput = false;\n    }\n\n    var inputStack = codecsObject.inputStack;\n    var inputIndex = codecsObject.inputIndex;\n    var inInput = codecsObject.inInput;\n\n    var format, dur, audio, video;\n\n    if (format = stderrLine.match(inputPattern)) {\n      inInput = codecsObject.inInput = true;\n      inputIndex = codecsObject.inputIndex = codecsObject.inputIndex + 1;\n\n      inputStack[inputIndex] = { format: format[1], audio: '', video: '', duration: '' };\n    } else if (inInput && (dur = stderrLine.match(durPattern))) {\n      inputStack[inputIndex].duration = dur[1];\n    } else if (inInput && (audio = stderrLine.match(audioPattern))) {\n      audio = audio[1].split(', ');\n      inputStack[inputIndex].audio = audio[0];\n      inputStack[inputIndex].audio_details = audio;\n    } else if (inInput && (video = stderrLine.match(videoPattern))) {\n      video = video[1].split(', ');\n      inputStack[inputIndex].video = video[0];\n      inputStack[inputIndex].video_details = video;\n    } else if (/Output #\\d+/.test(stderrLine)) {\n      inInput = codecsObject.inInput = false;\n    } else if (/Stream mapping:|Press (\\[q\\]|ctrl-c) to stop/.test(stderrLine)) {\n      command.emit.apply(command, ['codecData'].concat(inputStack));\n      return true;\n    }\n\n    return false;\n  },\n\n\n  /**\n   * Extract progress data from ffmpeg stderr and emit 'progress' event if appropriate\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr data\n   * @private\n   */\n  extractProgress: function(command, stderrLine) {\n    var progress = parseProgressLine(stderrLine);\n\n    if (progress) {\n      // build progress report object\n      var ret = {\n        frames: parseInt(progress.frame, 10),\n        currentFps: parseInt(progress.fps, 10),\n        currentKbps: progress.bitrate ? parseFloat(progress.bitrate.replace('kbits/s', '')) : 0,\n        targetSize: parseInt(progress.size || progress.Lsize, 10),\n        timemark: progress.time\n      };\n\n      // calculate percent progress using duration\n      if (command._ffprobeData && command._ffprobeData.format && command._ffprobeData.format.duration) {\n        var duration = Number(command._ffprobeData.format.duration);\n        if (!isNaN(duration))\n          ret.percent = (utils.timemarkToSeconds(ret.timemark) / duration) * 100;\n      }\n      command.emit('progress', ret);\n    }\n  },\n\n\n  /**\n   * Extract error message(s) from ffmpeg stderr\n   *\n   * @param {String} stderr ffmpeg stderr data\n   * @return {String}\n   * @private\n   */\n  extractError: function(stderr) {\n    // Only return the last stderr lines that don't start with a space or a square bracket\n    return stderr.split(nlRegexp).reduce(function(messages, message) {\n      if (message.charAt(0) === ' ' || message.charAt(0) === '[') {\n        return [];\n      } else {\n        messages.push(message);\n        return messages;\n      }\n    }, []).join('\\n');\n  },\n\n\n  /**\n   * Creates a line ring buffer object with the following methods:\n   * - append(str) : appends a string or buffer\n   * - get() : returns the whole string\n   * - close() : prevents further append() calls and does a last call to callbacks\n   * - callback(cb) : calls cb for each line (incl. those already in the ring)\n   *\n   * @param {Number} maxLines maximum number of lines to store (<= 0 for unlimited)\n   */\n  linesRing: function(maxLines) {\n    var cbs = [];\n    var lines = [];\n    var current = null;\n    var closed = false\n    var max = maxLines - 1;\n\n    function emit(line) {\n      cbs.forEach(function(cb) { cb(line); });\n    }\n\n    return {\n      callback: function(cb) {\n        lines.forEach(function(l) { cb(l); });\n        cbs.push(cb);\n      },\n\n      append: function(str) {\n        if (closed) return;\n        if (str instanceof Buffer) str = '' + str;\n        if (!str || str.length === 0) return;\n\n        var newLines = str.split(nlRegexp);\n\n        if (newLines.length === 1) {\n          if (current !== null) {\n            current = current + newLines.shift();\n          } else {\n            current = newLines.shift();\n          }\n        } else {\n          if (current !== null) {\n            current = current + newLines.shift();\n            emit(current);\n            lines.push(current);\n          }\n\n          current = newLines.pop();\n\n          newLines.forEach(function(l) {\n            emit(l);\n            lines.push(l);\n          });\n\n          if (max > -1 && lines.length > max) {\n            lines.splice(0, lines.length - max);\n          }\n        }\n      },\n\n      get: function() {\n        if (current !== null) {\n          return lines.concat([current]).join('\\n');\n        } else {\n          return lines.join('\\n');\n        }\n      },\n\n      close: function() {\n        if (closed) return;\n\n        if (current !== null) {\n          emit(current);\n          lines.push(current);\n\n          if (max > -1 && lines.length > max) {\n            lines.shift();\n          }\n\n          current = null;\n        }\n\n        closed = true;\n      }\n    };\n  }\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n/*\n *! Input-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add an input to command\n   *\n   * Also switches \"current input\", that is the input that will be affected\n   * by subsequent input-related methods.\n   *\n   * Note: only one stream input is supported for now.\n   *\n   * @method FfmpegCommand#input\n   * @category Input\n   * @aliases mergeAdd,addInput\n   *\n   * @param {String|Readable} source input file path or readable stream\n   * @return FfmpegCommand\n   */\n  proto.mergeAdd =\n  proto.addInput =\n  proto.input = function(source) {\n    var isFile = false;\n    var isStream = false;\n\n    if (typeof source !== 'string') {\n      if (!('readable' in source) || !(source.readable)) {\n        throw new Error('Invalid input');\n      }\n\n      var hasInputStream = this._inputs.some(function(input) {\n        return input.isStream;\n      });\n\n      if (hasInputStream) {\n        throw new Error('Only one input stream is supported');\n      }\n\n      isStream = true;\n      source.pause();\n    } else {\n      var protocol = source.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    this._inputs.push(this._currentInput = {\n      source: source,\n      isFile: isFile,\n      isStream: isStream,\n      options: utils.args()\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Specify input format for the last specified input\n   *\n   * @method FfmpegCommand#inputFormat\n   * @category Input\n   * @aliases withInputFormat,fromFormat\n   *\n   * @param {String} format input format\n   * @return FfmpegCommand\n   */\n  proto.withInputFormat =\n  proto.inputFormat =\n  proto.fromFormat = function(format) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Specify input FPS for the last specified input\n   * (only valid for raw video formats)\n   *\n   * @method FfmpegCommand#inputFps\n   * @category Input\n   * @aliases withInputFps,withInputFPS,withFpsInput,withFPSInput,inputFPS,inputFps,fpsInput\n   *\n   * @param {Number} fps input FPS\n   * @return FfmpegCommand\n   */\n  proto.withInputFps =\n  proto.withInputFPS =\n  proto.withFpsInput =\n  proto.withFPSInput =\n  proto.inputFPS =\n  proto.inputFps =\n  proto.fpsInput =\n  proto.FPSInput = function(fps) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Use native framerate for the last specified input\n   *\n   * @method FfmpegCommand#native\n   * @category Input\n   * @aliases nativeFramerate,withNativeFramerate\n   *\n   * @return FfmmegCommand\n   */\n  proto.nativeFramerate =\n  proto.withNativeFramerate =\n  proto.native = function() {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-re');\n    return this;\n  };\n\n\n  /**\n   * Specify input seek time for the last specified input\n   *\n   * @method FfmpegCommand#seekInput\n   * @category Input\n   * @aliases setStartTime,seekTo\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.setStartTime =\n  proto.seekInput = function(seek) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-ss', seek);\n\n    return this;\n  };\n\n\n  /**\n   * Loop over the last specified input\n   *\n   * @method FfmpegCommand#loop\n   * @category Input\n   *\n   * @param {String|Number} [duration] loop duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.loop = function(duration) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-loop', '1');\n\n    if (typeof duration !== 'undefined') {\n      this.duration(duration);\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Audio-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable audio in the output\n   *\n   * @method FfmpegCommand#noAudio\n   * @category Audio\n   * @aliases withNoAudio\n   * @return FfmpegCommand\n   */\n  proto.withNoAudio =\n  proto.noAudio = function() {\n    this._currentOutput.audio.clear();\n    this._currentOutput.audioFilters.clear();\n    this._currentOutput.audio('-an');\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio codec\n   *\n   * @method FfmpegCommand#audioCodec\n   * @category Audio\n   * @aliases withAudioCodec\n   *\n   * @param {String} codec audio codec name\n   * @return FfmpegCommand\n   */\n  proto.withAudioCodec =\n  proto.audioCodec = function(codec) {\n    this._currentOutput.audio('-acodec', codec);\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio bitrate\n   *\n   * @method FfmpegCommand#audioBitrate\n   * @category Audio\n   * @aliases withAudioBitrate\n   *\n   * @param {String|Number} bitrate audio bitrate in kbps (with an optional 'k' suffix)\n   * @return FfmpegCommand\n   */\n  proto.withAudioBitrate =\n  proto.audioBitrate = function(bitrate) {\n    this._currentOutput.audio('-b:a', ('' + bitrate).replace(/k?$/, 'k'));\n    return this;\n  };\n\n\n  /**\n   * Specify audio channel count\n   *\n   * @method FfmpegCommand#audioChannels\n   * @category Audio\n   * @aliases withAudioChannels\n   *\n   * @param {Number} channels channel count\n   * @return FfmpegCommand\n   */\n  proto.withAudioChannels =\n  proto.audioChannels = function(channels) {\n    this._currentOutput.audio('-ac', channels);\n    return this;\n  };\n\n\n  /**\n   * Specify audio frequency\n   *\n   * @method FfmpegCommand#audioFrequency\n   * @category Audio\n   * @aliases withAudioFrequency\n   *\n   * @param {Number} freq audio frequency in Hz\n   * @return FfmpegCommand\n   */\n  proto.withAudioFrequency =\n  proto.audioFrequency = function(freq) {\n    this._currentOutput.audio('-ar', freq);\n    return this;\n  };\n\n\n  /**\n   * Specify audio quality\n   *\n   * @method FfmpegCommand#audioQuality\n   * @category Audio\n   * @aliases withAudioQuality\n   *\n   * @param {Number} quality audio quality factor\n   * @return FfmpegCommand\n   */\n  proto.withAudioQuality =\n  proto.audioQuality = function(quality) {\n    this._currentOutput.audio('-aq', quality);\n    return this;\n  };\n\n\n  /**\n   * Specify custom audio filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.audioFilters('filter1');\n   *\n   * @example\n   * command.audioFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.audioFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.audioFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.audioFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#audioFilters\n   * @aliases withAudioFilter,withAudioFilters,audioFilter\n   * @category Audio\n   *\n   * @param {...String|String[]|Object[]} filters audio filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withAudioFilter =\n  proto.withAudioFilters =\n  proto.audioFilter =\n  proto.audioFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.audioFilters(utils.makeFilterStrings(filters));\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Video-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable video in the output\n   *\n   * @method FfmpegCommand#noVideo\n   * @category Video\n   * @aliases withNoVideo\n   *\n   * @return FfmpegCommand\n   */\n  proto.withNoVideo =\n  proto.noVideo = function() {\n    this._currentOutput.video.clear();\n    this._currentOutput.videoFilters.clear();\n    this._currentOutput.video('-vn');\n\n    return this;\n  };\n\n\n  /**\n   * Specify video codec\n   *\n   * @method FfmpegCommand#videoCodec\n   * @category Video\n   * @aliases withVideoCodec\n   *\n   * @param {String} codec video codec name\n   * @return FfmpegCommand\n   */\n  proto.withVideoCodec =\n  proto.videoCodec = function(codec) {\n    this._currentOutput.video('-vcodec', codec);\n    return this;\n  };\n\n\n  /**\n   * Specify video bitrate\n   *\n   * @method FfmpegCommand#videoBitrate\n   * @category Video\n   * @aliases withVideoBitrate\n   *\n   * @param {String|Number} bitrate video bitrate in kbps (with an optional 'k' suffix)\n   * @param {Boolean} [constant=false] enforce constant bitrate\n   * @return FfmpegCommand\n   */\n  proto.withVideoBitrate =\n  proto.videoBitrate = function(bitrate, constant) {\n    bitrate = ('' + bitrate).replace(/k?$/, 'k');\n\n    this._currentOutput.video('-b:v', bitrate);\n    if (constant) {\n      this._currentOutput.video(\n        '-maxrate', bitrate,\n        '-minrate', bitrate,\n        '-bufsize', '3M'\n      );\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify custom video filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.videoFilters('filter1');\n   *\n   * @example\n   * command.videoFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.videoFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.videoFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.videoFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#videoFilters\n   * @category Video\n   * @aliases withVideoFilter,withVideoFilters,videoFilter\n   *\n   * @param {...String|String[]|Object[]} filters video filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withVideoFilter =\n  proto.withVideoFilters =\n  proto.videoFilter =\n  proto.videoFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.videoFilters(utils.makeFilterStrings(filters));\n\n    return this;\n  };\n\n\n  /**\n   * Specify output FPS\n   *\n   * @method FfmpegCommand#fps\n   * @category Video\n   * @aliases withOutputFps,withOutputFPS,withFpsOutput,withFPSOutput,withFps,withFPS,outputFPS,outputFps,fpsOutput,FPSOutput,FPS\n   *\n   * @param {Number} fps output FPS\n   * @return FfmpegCommand\n   */\n  proto.withOutputFps =\n  proto.withOutputFPS =\n  proto.withFpsOutput =\n  proto.withFPSOutput =\n  proto.withFps =\n  proto.withFPS =\n  proto.outputFPS =\n  proto.outputFps =\n  proto.fpsOutput =\n  proto.FPSOutput =\n  proto.fps =\n  proto.FPS = function(fps) {\n    this._currentOutput.video('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Only transcode a certain number of frames\n   *\n   * @method FfmpegCommand#frames\n   * @category Video\n   * @aliases takeFrames,withFrames\n   *\n   * @param {Number} frames frame count\n   * @return FfmpegCommand\n   */\n  proto.takeFrames =\n  proto.withFrames =\n  proto.frames = function(frames) {\n    this._currentOutput.video('-vframes', frames);\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\n/*\n *! Size helpers\n */\n\n\n/**\n * Return filters to pad video to width*height,\n *\n * @param {Number} width output width\n * @param {Number} height output height\n * @param {Number} aspect video aspect ratio (without padding)\n * @param {Number} color padding color\n * @return scale/pad filters\n * @private\n */\nfunction getScalePadFilters(width, height, aspect, color) {\n  /*\n    let a be the input aspect ratio, A be the requested aspect ratio\n\n    if a > A, padding is done on top and bottom\n    if a < A, padding is done on left and right\n   */\n\n  return [\n    /*\n      In both cases, we first have to scale the input to match the requested size.\n      When using computed width/height, we truncate them to multiples of 2\n     */\n    {\n      filter: 'scale',\n      options: {\n        w: 'if(gt(a,' + aspect + '),' + width + ',trunc(' + height + '*a/2)*2)',\n        h: 'if(lt(a,' + aspect + '),' + height + ',trunc(' + width + '/a/2)*2)'\n      }\n    },\n\n    /*\n      Then we pad the scaled input to match the target size\n      (here iw and ih refer to the padding input, i.e the scaled output)\n     */\n\n    {\n      filter: 'pad',\n      options: {\n        w: width,\n        h: height,\n        x: 'if(gt(a,' + aspect + '),0,(' + width + '-iw)/2)',\n        y: 'if(lt(a,' + aspect + '),0,(' + height + '-ih)/2)',\n        color: color\n      }\n    }\n  ];\n}\n\n\n/**\n * Recompute size filters\n *\n * @param {Object} output\n * @param {String} key newly-added parameter name ('size', 'aspect' or 'pad')\n * @param {String} value newly-added parameter value\n * @return filter string array\n * @private\n */\nfunction createSizeFilters(output, key, value) {\n  // Store parameters\n  var data = output.sizeData = output.sizeData || {};\n  data[key] = value;\n\n  if (!('size' in data)) {\n    // No size requested, keep original size\n    return [];\n  }\n\n  // Try to match the different size string formats\n  var fixedSize = data.size.match(/([0-9]+)x([0-9]+)/);\n  var fixedWidth = data.size.match(/([0-9]+)x\\?/);\n  var fixedHeight = data.size.match(/\\?x([0-9]+)/);\n  var percentRatio = data.size.match(/\\b([0-9]{1,3})%/);\n  var width, height, aspect;\n\n  if (percentRatio) {\n    var ratio = Number(percentRatio[1]) / 100;\n    return [{\n      filter: 'scale',\n      options: {\n        w: 'trunc(iw*' + ratio + '/2)*2',\n        h: 'trunc(ih*' + ratio + '/2)*2'\n      }\n    }];\n  } else if (fixedSize) {\n    // Round target size to multiples of 2\n    width = Math.round(Number(fixedSize[1]) / 2) * 2;\n    height = Math.round(Number(fixedSize[2]) / 2) * 2;\n\n    aspect = width / height;\n\n    if (data.pad) {\n      return getScalePadFilters(width, height, aspect, data.pad);\n    } else {\n      // No autopad requested, rescale to target size\n      return [{ filter: 'scale', options: { w: width, h: height }}];\n    }\n  } else if (fixedWidth || fixedHeight) {\n    if ('aspect' in data) {\n      // Specified aspect ratio\n      width = fixedWidth ? fixedWidth[1] : Math.round(Number(fixedHeight[1]) * data.aspect);\n      height = fixedHeight ? fixedHeight[1] : Math.round(Number(fixedWidth[1]) / data.aspect);\n\n      // Round to multiples of 2\n      width = Math.round(width / 2) * 2;\n      height = Math.round(height / 2) * 2;\n\n      if (data.pad) {\n        return getScalePadFilters(width, height, data.aspect, data.pad);\n      } else {\n        // No autopad requested, rescale to target size\n        return [{ filter: 'scale', options: { w: width, h: height }}];\n      }\n    } else {\n      // Keep input aspect ratio\n\n      if (fixedWidth) {\n        return [{\n          filter: 'scale',\n          options: {\n            w: Math.round(Number(fixedWidth[1]) / 2) * 2,\n            h: 'trunc(ow/a/2)*2'\n          }\n        }];\n      } else {\n        return [{\n          filter: 'scale',\n          options: {\n            w: 'trunc(oh*a/2)*2',\n            h: Math.round(Number(fixedHeight[1]) / 2) * 2\n          }\n        }];\n      }\n    }\n  } else {\n    throw new Error('Invalid size specified: ' + data.size);\n  }\n}\n\n\n/*\n *! Video size-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Keep display aspect ratio\n   *\n   * This method is useful when converting an input with non-square pixels to an output format\n   * that does not support non-square pixels.  It rescales the input so that the display aspect\n   * ratio is the same.\n   *\n   * @method FfmpegCommand#keepDAR\n   * @category Video size\n   * @aliases keepPixelAspect,keepDisplayAspect,keepDisplayAspectRatio\n   *\n   * @return FfmpegCommand\n   */\n  proto.keepPixelAspect = // Only for compatibility, this is not about keeping _pixel_ aspect ratio\n  proto.keepDisplayAspect =\n  proto.keepDisplayAspectRatio =\n  proto.keepDAR = function() {\n    return this.videoFilters([\n      {\n        filter: 'scale',\n        options: {\n          w: 'if(gt(sar,1),iw*sar,iw)',\n          h: 'if(lt(sar,1),ih/sar,ih)'\n        }\n      },\n      {\n        filter: 'setsar',\n        options: '1'\n      }\n    ]);\n  };\n\n\n  /**\n   * Set output size\n   *\n   * The 'size' parameter can have one of 4 forms:\n   * - 'X%': rescale to xx % of the original size\n   * - 'WxH': specify width and height\n   * - 'Wx?': specify width and compute height from input aspect ratio\n   * - '?xH': specify height and compute width from input aspect ratio\n   *\n   * Note: both dimensions will be truncated to multiples of 2.\n   *\n   * @method FfmpegCommand#size\n   * @category Video size\n   * @aliases withSize,setSize\n   *\n   * @param {String} size size string, eg. '33%', '320x240', '320x?', '?x240'\n   * @return FfmpegCommand\n   */\n  proto.withSize =\n  proto.setSize =\n  proto.size = function(size) {\n    var filters = createSizeFilters(this._currentOutput, 'size', size);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Set output aspect ratio\n   *\n   * @method FfmpegCommand#aspect\n   * @category Video size\n   * @aliases withAspect,withAspectRatio,setAspect,setAspectRatio,aspectRatio\n   *\n   * @param {String|Number} aspect aspect ratio (number or 'X:Y' string)\n   * @return FfmpegCommand\n   */\n  proto.withAspect =\n  proto.withAspectRatio =\n  proto.setAspect =\n  proto.setAspectRatio =\n  proto.aspect =\n  proto.aspectRatio = function(aspect) {\n    var a = Number(aspect);\n    if (isNaN(a)) {\n      var match = aspect.match(/^(\\d+):(\\d+)$/);\n      if (match) {\n        a = Number(match[1]) / Number(match[2]);\n      } else {\n        throw new Error('Invalid aspect ratio: ' + aspect);\n      }\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'aspect', a);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Enable auto-padding the output\n   *\n   * @method FfmpegCommand#autopad\n   * @category Video size\n   * @aliases applyAutopadding,applyAutoPadding,applyAutopad,applyAutoPad,withAutopadding,withAutoPadding,withAutopad,withAutoPad,autoPad\n   *\n   * @param {Boolean} [pad=true] enable/disable auto-padding\n   * @param {String} [color='black'] pad color\n   */\n  proto.applyAutopadding =\n  proto.applyAutoPadding =\n  proto.applyAutopad =\n  proto.applyAutoPad =\n  proto.withAutopadding =\n  proto.withAutoPadding =\n  proto.withAutopad =\n  proto.withAutoPad =\n  proto.autoPad =\n  proto.autopad = function(pad, color) {\n    // Allow autopad(color)\n    if (typeof pad === 'string') {\n      color = pad;\n      pad = true;\n    }\n\n    // Allow autopad() and autopad(undefined, color)\n    if (typeof pad === 'undefined') {\n      pad = true;\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'pad', pad ? color || 'black' : false);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Output-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add output\n   *\n   * @method FfmpegCommand#output\n   * @category Output\n   * @aliases addOutput\n   *\n   * @param {String|Writable} target target file path or writable stream\n   * @param {Object} [pipeopts={}] pipe options (only applies to streams)\n   * @return FfmpegCommand\n   */\n  proto.addOutput =\n  proto.output = function(target, pipeopts) {\n    var isFile = false;\n\n    if (!target && this._currentOutput) {\n      // No target is only allowed when called from constructor\n      throw new Error('Invalid output');\n    }\n\n    if (target && typeof target !== 'string') {\n      if (!('writable' in target) || !(target.writable)) {\n        throw new Error('Invalid output');\n      }\n    } else if (typeof target === 'string') {\n      var protocol = target.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    if (target && !('target' in this._currentOutput)) {\n      // For backwards compatibility, set target for first output\n      this._currentOutput.target = target;\n      this._currentOutput.isFile = isFile;\n      this._currentOutput.pipeopts = pipeopts || {};\n    } else {\n      if (target && typeof target !== 'string') {\n        var hasOutputStream = this._outputs.some(function(output) {\n          return typeof output.target !== 'string';\n        });\n\n        if (hasOutputStream) {\n          throw new Error('Only one output stream is supported');\n        }\n      }\n\n      this._outputs.push(this._currentOutput = {\n        target: target,\n        isFile: isFile,\n        flags: {},\n        pipeopts: pipeopts || {}\n      });\n\n      var self = this;\n      ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n        self._currentOutput[key] = utils.args();\n      });\n\n      if (!target) {\n        // Call from constructor: remove target key\n        delete this._currentOutput.target;\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify output seek time\n   *\n   * @method FfmpegCommand#seek\n   * @category Input\n   * @aliases seekOutput\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.seekOutput =\n  proto.seek = function(seek) {\n    this._currentOutput.options('-ss', seek);\n    return this;\n  };\n\n\n  /**\n   * Set output duration\n   *\n   * @method FfmpegCommand#duration\n   * @category Output\n   * @aliases withDuration,setDuration\n   *\n   * @param {String|Number} duration duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.withDuration =\n  proto.setDuration =\n  proto.duration = function(duration) {\n    this._currentOutput.options('-t', duration);\n    return this;\n  };\n\n\n  /**\n   * Set output format\n   *\n   * @method FfmpegCommand#format\n   * @category Output\n   * @aliases toFormat,withOutputFormat,outputFormat\n   *\n   * @param {String} format output format name\n   * @return FfmpegCommand\n   */\n  proto.toFormat =\n  proto.withOutputFormat =\n  proto.outputFormat =\n  proto.format = function(format) {\n    this._currentOutput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Add stream mapping to output\n   *\n   * @method FfmpegCommand#map\n   * @category Output\n   *\n   * @param {String} spec stream specification string, with optional square brackets\n   * @return FfmpegCommand\n   */\n  proto.map = function(spec) {\n    this._currentOutput.options('-map', spec.replace(utils.streamRegexp, '[$1]'));\n    return this;\n  };\n\n\n  /**\n   * Run flvtool2/flvmeta on output\n   *\n   * @method FfmpegCommand#flvmeta\n   * @category Output\n   * @aliases updateFlvMetadata\n   *\n   * @return FfmpegCommand\n   */\n  proto.updateFlvMetadata =\n  proto.flvmeta = function() {\n    this._currentOutput.flags.flvmeta = true;\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Custom options methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add custom input option(s)\n   *\n   * When passing a single string or an array, each string containing two\n   * words is split (eg. inputOptions('-option value') is supported) for\n   * compatibility reasons.  This is not the case when passing more than\n   * one argument.\n   *\n   * @example\n   * command.inputOptions('option1');\n   *\n   * @example\n   * command.inputOptions('option1', 'option2');\n   *\n   * @example\n   * command.inputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#inputOptions\n   * @category Custom options\n   * @aliases addInputOption,addInputOptions,withInputOption,withInputOptions,inputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addInputOption =\n  proto.addInputOptions =\n  proto.withInputOption =\n  proto.withInputOptions =\n  proto.inputOption =\n  proto.inputOptions = function(options) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentInput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Add custom output option(s)\n   *\n   * @example\n   * command.outputOptions('option1');\n   *\n   * @example\n   * command.outputOptions('option1', 'option2');\n   *\n   * @example\n   * command.outputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#outputOptions\n   * @category Custom options\n   * @aliases addOutputOption,addOutputOptions,addOption,addOptions,withOutputOption,withOutputOptions,withOption,withOptions,outputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addOutputOption =\n  proto.addOutputOptions =\n  proto.addOption =\n  proto.addOptions =\n  proto.withOutputOption =\n  proto.withOutputOptions =\n  proto.withOption =\n  proto.withOptions =\n  proto.outputOption =\n  proto.outputOptions = function(options) {\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentOutput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Specify a complex filtergraph\n   *\n   * Calling this method will override any previously set filtergraph, but you can set\n   * as many filters as needed in one call.\n   *\n   * @example <caption>Overlay an image over a video (using a filtergraph string)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter('[0:v][1:v]overlay[out]', ['out']);\n   *\n   * @example <caption>Overlay an image over a video (using a filter array)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter([{\n   *       filter: 'overlay',\n   *       inputs: ['0:v', '1:v'],\n   *       outputs: ['out']\n   *     }], ['out']);\n   *\n   * @example <caption>Split video into RGB channels and output a 3x1 video with channels side to side</caption>\n   *  ffmpeg()\n   *    .input('video.avi')\n   *    .complexFilter([\n   *      // Duplicate video stream 3 times into streams a, b, and c\n   *      { filter: 'split', options: '3', outputs: ['a', 'b', 'c'] },\n   *\n   *      // Create stream 'red' by cancelling green and blue channels from stream 'a'\n   *      { filter: 'lutrgb', options: { g: 0, b: 0 }, inputs: 'a', outputs: 'red' },\n   *\n   *      // Create stream 'green' by cancelling red and blue channels from stream 'b'\n   *      { filter: 'lutrgb', options: { r: 0, b: 0 }, inputs: 'b', outputs: 'green' },\n   *\n   *      // Create stream 'blue' by cancelling red and green channels from stream 'c'\n   *      { filter: 'lutrgb', options: { r: 0, g: 0 }, inputs: 'c', outputs: 'blue' },\n   *\n   *      // Pad stream 'red' to 3x width, keeping the video on the left, and name output 'padded'\n   *      { filter: 'pad', options: { w: 'iw*3', h: 'ih' }, inputs: 'red', outputs: 'padded' },\n   *\n   *      // Overlay 'green' onto 'padded', moving it to the center, and name output 'redgreen'\n   *      { filter: 'overlay', options: { x: 'w', y: 0 }, inputs: ['padded', 'green'], outputs: 'redgreen'},\n   *\n   *      // Overlay 'blue' onto 'redgreen', moving it to the right\n   *      { filter: 'overlay', options: { x: '2*w', y: 0 }, inputs: ['redgreen', 'blue']},\n   *    ]);\n   *\n   * @method FfmpegCommand#complexFilter\n   * @category Custom options\n   * @aliases filterGraph\n   *\n   * @param {String|Array} spec filtergraph string or array of filter specification\n   *   objects, each having the following properties:\n   * @param {String} spec.filter filter name\n   * @param {String|Array} [spec.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [spec.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [spec.options] filter options, can be omitted to not set any options\n   * @param {Array} [map] (array of) stream specifier(s) from the graph to include in\n   *   ffmpeg output, defaults to ffmpeg automatically choosing the first matching streams.\n   * @return FfmpegCommand\n   */\n  proto.filterGraph =\n  proto.complexFilter = function(spec, map) {\n    this._complexFilters.clear();\n\n    if (!Array.isArray(spec)) {\n      spec = [spec];\n    }\n\n    this._complexFilters('-filter_complex', utils.makeFilterStrings(spec).join(';'));\n\n    if (Array.isArray(map)) {\n      var self = this;\n      map.forEach(function(streamSpec) {\n        self._complexFilters('-map', streamSpec.replace(utils.streamRegexp, '[$1]'));\n      });\n    } else if (typeof map === 'string') {\n      this._complexFilters('-map', map.replace(utils.streamRegexp, '[$1]'));\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\n\n/*\n *! Miscellaneous methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Use preset\n   *\n   * @method FfmpegCommand#preset\n   * @category Miscellaneous\n   * @aliases usingPreset\n   *\n   * @param {String|Function} preset preset name or preset function\n   */\n  proto.usingPreset =\n  proto.preset = function(preset) {\n    if (typeof preset === 'function') {\n      preset(this);\n    } else {\n      try {\n        var modulePath = path.join(this.options.presets, preset);\n        var module = require(modulePath);\n\n        if (typeof module.load === 'function') {\n          module.load(this);\n        } else {\n          throw new Error('preset ' + modulePath + ' has no load() function');\n        }\n      } catch (err) {\n        throw new Error('preset ' + modulePath + ' could not be loaded: ' + err.message);\n      }\n    }\n\n    return this;\n  };\n};\n","/*global setImmediate: false, setTimeout: false, console: false */\n(function () {\n\n    var async = {};\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    root = this;\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(root, arguments);\n        }\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _each = function (arr, iterator) {\n        if (arr.forEach) {\n            return arr.forEach(iterator);\n        }\n        for (var i = 0; i < arr.length; i += 1) {\n            iterator(arr[i], i, arr);\n        }\n    };\n\n    var _map = function (arr, iterator) {\n        if (arr.map) {\n            return arr.map(iterator);\n        }\n        var results = [];\n        _each(arr, function (x, i, a) {\n            results.push(iterator(x, i, a));\n        });\n        return results;\n    };\n\n    var _reduce = function (arr, iterator, memo) {\n        if (arr.reduce) {\n            return arr.reduce(iterator, memo);\n        }\n        _each(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    };\n\n    var _keys = function (obj) {\n        if (Object.keys) {\n            return Object.keys(obj);\n        }\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (typeof setImmediate === 'function') {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (typeof setImmediate !== 'undefined') {\n            async.setImmediate = function (fn) {\n              // not a direct alias for IE10 compatibility\n              setImmediate(fn);\n            };\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.each = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        _each(arr, function (x) {\n            iterator(x, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                }\n            }));\n        });\n    };\n    async.forEach = async.each;\n\n    async.eachSeries = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        var iterate = function () {\n            iterator(arr[completed], function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                    else {\n                        iterate();\n                    }\n                }\n            });\n        };\n        iterate();\n    };\n    async.forEachSeries = async.eachSeries;\n\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        var fn = _eachLimit(limit);\n        fn.apply(null, [arr, iterator, callback]);\n    };\n    async.forEachLimit = async.eachLimit;\n\n    var _eachLimit = function (limit) {\n\n        return function (arr, iterator, callback) {\n            callback = callback || function () {};\n            if (!arr.length || limit <= 0) {\n                return callback();\n            }\n            var completed = 0;\n            var started = 0;\n            var running = 0;\n\n            (function replenish () {\n                if (completed >= arr.length) {\n                    return callback();\n                }\n\n                while (running < limit && started < arr.length) {\n                    started += 1;\n                    running += 1;\n                    iterator(arr[started - 1], function (err) {\n                        if (err) {\n                            callback(err);\n                            callback = function () {};\n                        }\n                        else {\n                            completed += 1;\n                            running -= 1;\n                            if (completed >= arr.length) {\n                                callback();\n                            }\n                            else {\n                                replenish();\n                            }\n                        }\n                    });\n                }\n            })();\n        };\n    };\n\n\n    var doParallel = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.each].concat(args));\n        };\n    };\n    var doParallelLimit = function(limit, fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [_eachLimit(limit)].concat(args));\n        };\n    };\n    var doSeries = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.eachSeries].concat(args));\n        };\n    };\n\n\n    var _asyncMap = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (err, v) {\n                results[x.index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    var _mapLimit = function(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    };\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachSeries(arr, function (x, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n    // inject alias\n    async.inject = async.reduce;\n    // foldl alias\n    async.foldl = async.reduce;\n\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n    // foldr alias\n    async.foldr = async.reduceRight;\n\n    var _filter = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.filter = doParallel(_filter);\n    async.filterSeries = doSeries(_filter);\n    // select alias\n    async.select = async.filter;\n    async.selectSeries = async.filterSeries;\n\n    var _reject = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    var _detect = function (eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = function () {};\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            main_callback();\n        });\n    };\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.some = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(false);\n        });\n    };\n    // any alias\n    async.any = async.some;\n\n    async.every = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(true);\n        });\n    };\n    // all alias\n    async.all = async.every;\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                var fn = function (left, right) {\n                    var a = left.criteria, b = right.criteria;\n                    return a < b ? -1 : a > b ? 1 : 0;\n                };\n                callback(null, _map(results.sort(fn), function (x) {\n                    return x.value;\n                }));\n            }\n        });\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = callback || function () {};\n        var keys = _keys(tasks);\n        if (!keys.length) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        var addListener = function (fn) {\n            listeners.unshift(fn);\n        };\n        var removeListener = function (fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        };\n        var taskComplete = function () {\n            _each(listeners.slice(0), function (fn) {\n                fn();\n            });\n        };\n\n        addListener(function () {\n            if (_keys(results).length === keys.length) {\n                callback(null, results);\n                callback = function () {};\n            }\n        });\n\n        _each(keys, function (k) {\n            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n            var taskCallback = function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _each(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                    // stop subsequent errors hitting callback multiple times\n                    callback = function () {};\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            };\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            var ready = function () {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            };\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                var listener = function () {\n                    if (ready()) {\n                        removeListener(listener);\n                        task[task.length - 1](taskCallback, results);\n                    }\n                };\n                addListener(listener);\n            }\n        });\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor !== Array) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        var wrapIterator = function (iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    async.setImmediate(function () {\n                        iterator.apply(null, args);\n                    });\n                }\n            };\n        };\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    var _parallel = function(eachfn, tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            eachfn.map(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            eachfn.each(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.parallel = function (tasks, callback) {\n        _parallel({ map: async.map, each: async.each }, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.mapSeries(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.eachSeries(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.iterator = function (tasks) {\n        var makeCallback = function (index) {\n            var fn = function () {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            };\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        };\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(Array.prototype.slice.call(arguments))\n            );\n        };\n    };\n\n    var _concat = function (eachfn, arr, fn, callback) {\n        var r = [];\n        eachfn(arr, function (x, cb) {\n            fn(x, function (err, y) {\n                r = r.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, r);\n        });\n    };\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (test()) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (!test()) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.queue = function (worker, concurrency) {\n        if (concurrency === undefined) {\n            concurrency = 1;\n        }\n        function _insert(q, data, pos, callback) {\n          if(data.constructor !== Array) {\n              data = [data];\n          }\n          _each(data, function(task) {\n              var item = {\n                  data: task,\n                  callback: typeof callback === 'function' ? callback : null\n              };\n\n              if (pos) {\n                q.tasks.unshift(item);\n              } else {\n                q.tasks.push(item);\n              }\n\n              if (q.saturated && q.tasks.length === concurrency) {\n                  q.saturated();\n              }\n              async.setImmediate(q.process);\n          });\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n              _insert(q, data, false, callback);\n            },\n            unshift: function (data, callback) {\n              _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (workers < q.concurrency && q.tasks.length) {\n                    var task = q.tasks.shift();\n                    if (q.empty && q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    var next = function () {\n                        workers -= 1;\n                        if (task.callback) {\n                            task.callback.apply(task, arguments);\n                        }\n                        if (q.drain && q.tasks.length + workers === 0) {\n                            q.drain();\n                        }\n                        q.process();\n                    };\n                    var cb = only_once(next);\n                    worker(task.data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            }\n        };\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        var working     = false,\n            tasks       = [];\n\n        var cargo = {\n            tasks: tasks,\n            payload: payload,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n                if(data.constructor !== Array) {\n                    data = [data];\n                }\n                _each(data, function(task) {\n                    tasks.push({\n                        data: task,\n                        callback: typeof callback === 'function' ? callback : null\n                    });\n                    if (cargo.saturated && tasks.length === payload) {\n                        cargo.saturated();\n                    }\n                });\n                async.setImmediate(cargo.process);\n            },\n            process: function process() {\n                if (working) return;\n                if (tasks.length === 0) {\n                    if(cargo.drain) cargo.drain();\n                    return;\n                }\n\n                var ts = typeof payload === 'number'\n                            ? tasks.splice(0, payload)\n                            : tasks.splice(0);\n\n                var ds = _map(ts, function (task) {\n                    return task.data;\n                });\n\n                if(cargo.empty) cargo.empty();\n                working = true;\n                worker(ds, function () {\n                    working = false;\n\n                    var args = arguments;\n                    _each(ts, function (data) {\n                        if (data.callback) {\n                            data.callback.apply(null, args);\n                        }\n                    });\n\n                    process();\n                });\n            },\n            length: function () {\n                return tasks.length;\n            },\n            running: function () {\n                return working;\n            }\n        };\n        return cargo;\n    };\n\n    var _console_fn = function (name) {\n        return function (fn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _each(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    };\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        var memoized = function () {\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                callback.apply(null, memo[key]);\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = arguments;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        };\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    async.times = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.map(counter, iterator, callback);\n    };\n\n    async.timesSeries = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.mapSeries(counter, iterator, callback);\n    };\n\n    async.compose = function (/* functions... */) {\n        var fns = Array.prototype.reverse.call(arguments);\n        return function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = Array.prototype.slice.call(arguments, 1);\n                    cb(err, nextargs);\n                }]))\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    var _applyEach = function (eachfn, fns /*args...*/) {\n        var go = function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        };\n        if (arguments.length > 2) {\n            var args = Array.prototype.slice.call(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    };\n    async.applyEach = doParallel(_applyEach);\n    async.applyEachSeries = doSeries(_applyEach);\n\n    async.forever = function (fn, callback) {\n        function next(err) {\n            if (err) {\n                if (callback) {\n                    return callback(err);\n                }\n                throw err;\n            }\n            fn(next);\n        }\n        next();\n    };\n\n    // AMD / RequireJS\n    if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // Node.js\n    else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","/*jshint node:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\nvar path = require('path');\nvar fs = require('fs');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Processor methods\n */\n\n\n/**\n * Run ffprobe asynchronously and store data in command\n *\n * @param {FfmpegCommand} command\n * @private\n */\nfunction runFfprobe(command) {\n  const inputProbeIndex = 0;\n  if (command._inputs[inputProbeIndex].isStream) {\n    // Don't probe input streams as this will consume them\n    return;\n  }\n  command.ffprobe(inputProbeIndex, function(err, data) {\n    command._ffprobeData = data;\n  });\n}\n\n\nmodule.exports = function(proto) {\n  /**\n   * Emitted just after ffmpeg has been spawned.\n   *\n   * @event FfmpegCommand#start\n   * @param {String} command ffmpeg command line\n   */\n\n  /**\n   * Emitted when ffmpeg reports progress information\n   *\n   * @event FfmpegCommand#progress\n   * @param {Object} progress progress object\n   * @param {Number} progress.frames number of frames transcoded\n   * @param {Number} progress.currentFps current processing speed in frames per second\n   * @param {Number} progress.currentKbps current output generation speed in kilobytes per second\n   * @param {Number} progress.targetSize current output file size\n   * @param {String} progress.timemark current video timemark\n   * @param {Number} [progress.percent] processing progress (may not be available depending on input)\n   */\n\n  /**\n   * Emitted when ffmpeg outputs to stderr\n   *\n   * @event FfmpegCommand#stderr\n   * @param {String} line stderr output line\n   */\n\n  /**\n   * Emitted when ffmpeg reports input codec data\n   *\n   * @event FfmpegCommand#codecData\n   * @param {Object} codecData codec data object\n   * @param {String} codecData.format input format name\n   * @param {String} codecData.audio input audio codec name\n   * @param {String} codecData.audio_details input audio codec parameters\n   * @param {String} codecData.video input video codec name\n   * @param {String} codecData.video_details input video codec parameters\n   */\n\n  /**\n   * Emitted when an error happens when preparing or running a command\n   *\n   * @event FfmpegCommand#error\n   * @param {Error} error error object, with optional properties 'inputStreamError' / 'outputStreamError' for errors on their respective streams\n   * @param {String|null} stdout ffmpeg stdout, unless outputting to a stream\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n  /**\n   * Emitted when a command finishes processing\n   *\n   * @event FfmpegCommand#end\n   * @param {Array|String|null} [filenames|stdout] generated filenames when taking screenshots, ffmpeg stdout when not outputting to a stream, null otherwise\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n\n  /**\n   * Spawn an ffmpeg process\n   *\n   * The 'options' argument may contain the following keys:\n   * - 'niceness': specify process niceness, ignored on Windows (default: 0)\n   * - `cwd`: change working directory\n   * - 'captureStdout': capture stdout and pass it to 'endCB' as its 2nd argument (default: false)\n   * - 'stdoutLines': override command limit (default: use command limit)\n   *\n   * The 'processCB' callback, if present, is called as soon as the process is created and\n   * receives a nodejs ChildProcess object.  It may not be called at all if an error happens\n   * before spawning the process.\n   *\n   * The 'endCB' callback is called either when an error occurs or when the ffmpeg process finishes.\n   *\n   * @method FfmpegCommand#_spawnFfmpeg\n   * @param {Array} args ffmpeg command line argument list\n   * @param {Object} [options] spawn options (see above)\n   * @param {Function} [processCB] callback called with process object and stdout/stderr ring buffers when process has been created\n   * @param {Function} endCB callback called with error (if applicable) and stdout/stderr ring buffers when process finished\n   * @private\n   */\n  proto._spawnFfmpeg = function(args, options, processCB, endCB) {\n    // Enable omitting options\n    if (typeof options === 'function') {\n      endCB = processCB;\n      processCB = options;\n      options = {};\n    }\n\n    // Enable omitting processCB\n    if (typeof endCB === 'undefined') {\n      endCB = processCB;\n      processCB = function() {};\n    }\n\n    var maxLines = 'stdoutLines' in options ? options.stdoutLines : this.options.stdoutLines;\n\n    // Find ffmpeg\n    this._getFfmpegPath(function(err, command) {\n      if (err) {\n        return endCB(err);\n      } else if (!command || command.length === 0) {\n        return endCB(new Error('Cannot find ffmpeg'));\n      }\n\n      // Apply niceness\n      if (options.niceness && options.niceness !== 0 && !utils.isWindows) {\n        args.unshift('-n', options.niceness, command);\n        command = 'nice';\n      }\n\n      var stdoutRing = utils.linesRing(maxLines);\n      var stdoutClosed = false;\n\n      var stderrRing = utils.linesRing(maxLines);\n      var stderrClosed = false;\n\n      // Spawn process\n      var ffmpegProc = spawn(command, args, options);\n\n      if (ffmpegProc.stderr) {\n        ffmpegProc.stderr.setEncoding('utf8');\n      }\n\n      ffmpegProc.on('error', function(err) {\n        endCB(err);\n      });\n\n      // Ensure we wait for captured streams to end before calling endCB\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && (stdoutClosed || !options.captureStdout) && stderrClosed) {\n          endCB(exitError, stdoutRing, stderrRing);\n        }\n      }\n\n      // Handle process exit\n      var processExited = false;\n      ffmpegProc.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (signal) {\n          handleExit(new Error('ffmpeg was killed with signal ' + signal));\n        } else if (code) {\n          handleExit(new Error('ffmpeg exited with code ' + code));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Capture stdout if specified\n      if (options.captureStdout) {\n        ffmpegProc.stdout.on('data', function(data) {\n          stdoutRing.append(data);\n        });\n\n        ffmpegProc.stdout.on('close', function() {\n          stdoutRing.close();\n          stdoutClosed = true;\n          handleExit();\n        });\n      }\n\n      // Capture stderr if specified\n      ffmpegProc.stderr.on('data', function(data) {\n        stderrRing.append(data);\n      });\n\n      ffmpegProc.stderr.on('close', function() {\n        stderrRing.close();\n        stderrClosed = true;\n        handleExit();\n      });\n\n      // Call process callback\n      processCB(ffmpegProc, stdoutRing, stderrRing);\n    });\n  };\n\n\n  /**\n   * Build the argument list for an ffmpeg command\n   *\n   * @method FfmpegCommand#_getArguments\n   * @return argument list\n   * @private\n   */\n  proto._getArguments = function() {\n    var complexFilters = this._complexFilters.get();\n\n    var fileOutput = this._outputs.some(function(output) {\n      return output.isFile;\n    });\n\n    return [].concat(\n        // Inputs and input options\n        this._inputs.reduce(function(args, input) {\n          var source = (typeof input.source === 'string') ? input.source : 'pipe:0';\n\n          // For each input, add input options, then '-i <source>'\n          return args.concat(\n            input.options.get(),\n            ['-i', source]\n          );\n        }, []),\n\n        // Global options\n        this._global.get(),\n\n        // Overwrite if we have file outputs\n        fileOutput ? ['-y'] : [],\n\n        // Complex filters\n        complexFilters,\n\n        // Outputs, filters and output options\n        this._outputs.reduce(function(args, output) {\n          var sizeFilters = utils.makeFilterStrings(output.sizeFilters.get());\n          var audioFilters = output.audioFilters.get();\n          var videoFilters = output.videoFilters.get().concat(sizeFilters);\n          var outputArg;\n\n          if (!output.target) {\n            outputArg = [];\n          } else if (typeof output.target === 'string') {\n            outputArg = [output.target];\n          } else {\n            outputArg = ['pipe:1'];\n          }\n\n          return args.concat(\n            output.audio.get(),\n            audioFilters.length ? ['-filter:a', audioFilters.join(',')] : [],\n            output.video.get(),\n            videoFilters.length ? ['-filter:v', videoFilters.join(',')] : [],\n            output.options.get(),\n            outputArg\n          );\n        }, [])\n      );\n  };\n\n\n  /**\n   * Prepare execution of an ffmpeg command\n   *\n   * Checks prerequisites for the execution of the command (codec/format availability, flvtool...),\n   * then builds the argument list for ffmpeg and pass them to 'callback'.\n   *\n   * @method FfmpegCommand#_prepare\n   * @param {Function} callback callback with signature (err, args)\n   * @param {Boolean} [readMetadata=false] read metadata before processing\n   * @private\n   */\n  proto._prepare = function(callback, readMetadata) {\n    var self = this;\n\n    async.waterfall([\n      // Check codecs and formats\n      function(cb) {\n        self._checkCapabilities(cb);\n      },\n\n      // Read metadata if required\n      function(cb) {\n        if (!readMetadata) {\n          return cb();\n        }\n\n        self.ffprobe(0, function(err, data) {\n          if (!err) {\n            self._ffprobeData = data;\n          }\n\n          cb();\n        });\n      },\n\n      // Check for flvtool2/flvmeta if necessary\n      function(cb) {\n        var flvmeta = self._outputs.some(function(output) {\n          // Remove flvmeta flag on non-file output\n          if (output.flags.flvmeta && !output.isFile) {\n            self.logger.warn('Updating flv metadata is only supported for files');\n            output.flags.flvmeta = false;\n          }\n\n          return output.flags.flvmeta;\n        });\n\n        if (flvmeta) {\n          self._getFlvtoolPath(function(err) {\n            cb(err);\n          });\n        } else {\n          cb();\n        }\n      },\n\n      // Build argument list\n      function(cb) {\n        var args;\n        try {\n          args = self._getArguments();\n        } catch(e) {\n          return cb(e);\n        }\n\n        cb(null, args);\n      },\n\n      // Add \"-strict experimental\" option where needed\n      function(args, cb) {\n        self.availableEncoders(function(err, encoders) {\n          for (var i = 0; i < args.length; i++) {\n            if (args[i] === '-acodec' || args[i] === '-vcodec') {\n              i++;\n\n              if ((args[i] in encoders) && encoders[args[i]].experimental) {\n                args.splice(i + 1, 0, '-strict', 'experimental');\n                i += 2;\n              }\n            }\n          }\n\n          cb(null, args);\n        });\n      }\n    ], callback);\n\n    if (!readMetadata) {\n      // Read metadata as soon as 'progress' listeners are added\n\n      if (this.listeners('progress').length > 0) {\n        // Read metadata in parallel\n        runFfprobe(this);\n      } else {\n        // Read metadata as soon as the first 'progress' listener is added\n        this.once('newListener', function(event) {\n          if (event === 'progress') {\n            runFfprobe(this);\n          }\n        });\n      }\n    }\n  };\n\n\n  /**\n   * Run ffmpeg command\n   *\n   * @method FfmpegCommand#run\n   * @category Processing\n   * @aliases exec,execute\n   */\n  proto.exec =\n  proto.execute =\n  proto.run = function() {\n    var self = this;\n\n    // Check if at least one output is present\n    var outputPresent = this._outputs.some(function(output) {\n      return 'target' in output;\n    });\n\n    if (!outputPresent) {\n      throw new Error('No output specified');\n    }\n\n    // Get output stream if any\n    var outputStream = this._outputs.filter(function(output) {\n      return typeof output.target !== 'string';\n    })[0];\n\n    // Get input stream if any\n    var inputStream = this._inputs.filter(function(input) {\n      return typeof input.source !== 'string';\n    })[0];\n\n    // Ensure we send 'end' or 'error' only once\n    var ended = false;\n    function emitEnd(err, stdout, stderr) {\n      if (!ended) {\n        ended = true;\n\n        if (err) {\n          self.emit('error', err, stdout, stderr);\n        } else {\n          self.emit('end', stdout, stderr);\n        }\n      }\n    }\n\n    self._prepare(function(err, args) {\n      if (err) {\n        return emitEnd(err);\n      }\n\n      // Run ffmpeg\n      self._spawnFfmpeg(\n        args,\n        {\n          captureStdout: !outputStream,\n          niceness: self.options.niceness,\n          cwd: self.options.cwd,\n          windowsHide: true\n        }, \n\n        function processCB(ffmpegProc, stdoutRing, stderrRing) {\n          self.ffmpegProc = ffmpegProc;\n          self.emit('start', 'ffmpeg ' + args.join(' '));\n\n          // Pipe input stream if any\n          if (inputStream) {\n            inputStream.source.on('error', function(err) {\n              var reportingErr = new Error('Input stream error: ' + err.message);\n              reportingErr.inputStreamError = err;\n              emitEnd(reportingErr);\n              ffmpegProc.kill();\n            });\n\n            inputStream.source.resume();\n            inputStream.source.pipe(ffmpegProc.stdin);\n\n            // Set stdin error handler on ffmpeg (prevents nodejs catching the error, but\n            // ffmpeg will fail anyway, so no need to actually handle anything)\n            ffmpegProc.stdin.on('error', function() {});\n          }\n\n          // Setup timeout if requested\n          if (self.options.timeout) {\n            self.processTimer = setTimeout(function() {\n              var msg = 'process ran into a timeout (' + self.options.timeout + 's)';\n\n              emitEnd(new Error(msg), stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill();\n            }, self.options.timeout * 1000);\n          }\n\n\n          if (outputStream) {\n            // Pipe ffmpeg stdout to output stream\n            ffmpegProc.stdout.pipe(outputStream.target, outputStream.pipeopts);\n\n            // Handle output stream events\n            outputStream.target.on('close', function() {\n              self.logger.debug('Output stream closed, scheduling kill for ffmpeg process');\n\n              // Don't kill process yet, to give a chance to ffmpeg to\n              // terminate successfully first  This is necessary because\n              // under load, the process 'exit' event sometimes happens\n              // after the output stream 'close' event.\n              setTimeout(function() {\n                emitEnd(new Error('Output stream closed'));\n                ffmpegProc.kill();\n              }, 20);\n            });\n\n            outputStream.target.on('error', function(err) {\n              self.logger.debug('Output stream error, killing ffmpeg process');\n              var reportingErr = new Error('Output stream error: ' + err.message);\n              reportingErr.outputStreamError = err;\n              emitEnd(reportingErr, stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill('SIGKILL');\n            });\n          }\n\n          // Setup stderr handling\n          if (stderrRing) {\n\n            // 'stderr' event\n            if (self.listeners('stderr').length) {\n              stderrRing.callback(function(line) {\n                self.emit('stderr', line);\n              });\n            }\n\n            // 'codecData' event\n            if (self.listeners('codecData').length) {\n              var codecDataSent = false;\n              var codecObject = {};\n\n              stderrRing.callback(function(line) {\n                if (!codecDataSent)\n                  codecDataSent = utils.extractCodecData(self, line, codecObject);\n              });\n            }\n\n            // 'progress' event\n            if (self.listeners('progress').length) {\n              stderrRing.callback(function(line) {\n                utils.extractProgress(self, line);\n              });\n            }\n          }\n        },\n\n        function endCB(err, stdoutRing, stderrRing) {\n          clearTimeout(self.processTimer);\n          delete self.ffmpegProc;\n\n          if (err) {\n            if (err.message.match(/ffmpeg exited with code/)) {\n              // Add ffmpeg error message\n              err.message += ': ' + utils.extractError(stderrRing.get());\n            }\n\n            emitEnd(err, stdoutRing.get(), stderrRing.get());\n          } else {\n            // Find out which outputs need flv metadata\n            var flvmeta = self._outputs.filter(function(output) {\n              return output.flags.flvmeta;\n            });\n\n            if (flvmeta.length) {\n              self._getFlvtoolPath(function(err, flvtool) {\n                if (err) {\n                  return emitEnd(err);\n                }\n\n                async.each(\n                  flvmeta,\n                  function(output, cb) {\n                    spawn(flvtool, ['-U', output.target], {windowsHide: true})\n                      .on('error', function(err) {\n                        cb(new Error('Error running ' + flvtool + ' on ' + output.target + ': ' + err.message));\n                      })\n                      .on('exit', function(code, signal) {\n                        if (code !== 0 || signal) {\n                          cb(\n                            new Error(flvtool + ' ' +\n                              (signal ? 'received signal ' + signal\n                                      : 'exited with code ' + code)) +\n                              ' when running on ' + output.target\n                          );\n                        } else {\n                          cb();\n                        }\n                      });\n                  },\n                  function(err) {\n                    if (err) {\n                      emitEnd(err);\n                    } else {\n                      emitEnd(null, stdoutRing.get(), stderrRing.get());\n                    }\n                  }\n                );\n              });\n            } else {\n              emitEnd(null, stdoutRing.get(), stderrRing.get());\n            }\n          }\n        }\n      );\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Renice current and/or future ffmpeg processes\n   *\n   * Ignored on Windows platforms.\n   *\n   * @method FfmpegCommand#renice\n   * @category Processing\n   *\n   * @param {Number} [niceness=0] niceness value between -20 (highest priority) and 20 (lowest priority)\n   * @return FfmpegCommand\n   */\n  proto.renice = function(niceness) {\n    if (!utils.isWindows) {\n      niceness = niceness || 0;\n\n      if (niceness < -20 || niceness > 20) {\n        this.logger.warn('Invalid niceness value: ' + niceness + ', must be between -20 and 20');\n      }\n\n      niceness = Math.min(20, Math.max(-20, niceness));\n      this.options.niceness = niceness;\n\n      if (this.ffmpegProc) {\n        var logger = this.logger;\n        var pid = this.ffmpegProc.pid;\n        var renice = spawn('renice', [niceness, '-p', pid], {windowsHide: true});\n\n        renice.on('error', function(err) {\n          logger.warn('could not renice process ' + pid + ': ' + err.message);\n        });\n\n        renice.on('exit', function(code, signal) {\n          if (signal) {\n            logger.warn('could not renice process ' + pid + ': renice was killed by signal ' + signal);\n          } else if (code) {\n            logger.warn('could not renice process ' + pid + ': renice exited with ' + code);\n          } else {\n            logger.info('successfully reniced process ' + pid + ' to ' + niceness + ' niceness');\n          }\n        });\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Kill current ffmpeg process, if any\n   *\n   * @method FfmpegCommand#kill\n   * @category Processing\n   *\n   * @param {String} [signal=SIGKILL] signal name\n   * @return FfmpegCommand\n   */\n  proto.kill = function(signal) {\n    if (!this.ffmpegProc) {\n      this.logger.warn('No running ffmpeg process, cannot send signal');\n    } else {\n      this.ffmpegProc.kill(signal || 'SIGKILL');\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Capability helpers\n */\n\nvar avCodecRegexp = /^\\s*([D ])([E ])([VAS])([S ])([D ])([T ]) ([^ ]+) +(.*)$/;\nvar ffCodecRegexp = /^\\s*([D\\.])([E\\.])([VAS])([I\\.])([L\\.])([S\\.]) ([^ ]+) +(.*)$/;\nvar ffEncodersRegexp = /\\(encoders:([^\\)]+)\\)/;\nvar ffDecodersRegexp = /\\(decoders:([^\\)]+)\\)/;\nvar encodersRegexp = /^\\s*([VAS\\.])([F\\.])([S\\.])([X\\.])([B\\.])([D\\.]) ([^ ]+) +(.*)$/;\nvar formatRegexp = /^\\s*([D ])([E ])\\s+([^ ]+)\\s+(.*)$/;\nvar lineBreakRegexp = /\\r\\n|\\r|\\n/;\nvar filterRegexp = /^(?: [T\\.][S\\.][C\\.] )?([^ ]+) +(AA?|VV?|\\|)->(AA?|VV?|\\|) +(.*)$/;\n\nvar cache = {};\n\nmodule.exports = function(proto) {\n  /**\n   * Manually define the ffmpeg binary full path.\n   *\n   * @method FfmpegCommand#setFfmpegPath\n   *\n   * @param {String} ffmpegPath The full path to the ffmpeg binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfmpegPath = function(ffmpegPath) {\n    cache.ffmpegPath = ffmpegPath;\n    return this;\n  };\n\n  /**\n   * Manually define the ffprobe binary full path.\n   *\n   * @method FfmpegCommand#setFfprobePath\n   *\n   * @param {String} ffprobePath The full path to the ffprobe binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfprobePath = function(ffprobePath) {\n    cache.ffprobePath = ffprobePath;\n    return this;\n  };\n\n  /**\n   * Manually define the flvtool2/flvmeta binary full path.\n   *\n   * @method FfmpegCommand#setFlvtoolPath\n   *\n   * @param {String} flvtool The full path to the flvtool2 or flvmeta binary.\n   * @return FfmpegCommand\n   */\n  proto.setFlvtoolPath = function(flvtool) {\n    cache.flvtoolPath = flvtool;\n    return this;\n  };\n\n  /**\n   * Forget executable paths\n   *\n   * (only used for testing purposes)\n   *\n   * @method FfmpegCommand#_forgetPaths\n   * @private\n   */\n  proto._forgetPaths = function() {\n    delete cache.ffmpegPath;\n    delete cache.ffprobePath;\n    delete cache.flvtoolPath;\n  };\n\n  /**\n   * Check for ffmpeg availability\n   *\n   * If the FFMPEG_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffmpeg in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFfmpegPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfmpegPath = function(callback) {\n    if ('ffmpegPath' in cache) {\n      return callback(null, cache.ffmpegPath);\n    }\n\n    async.waterfall([\n      // Try FFMPEG_PATH\n      function(cb) {\n        if (process.env.FFMPEG_PATH) {\n          fs.exists(process.env.FFMPEG_PATH, function(exists) {\n            if (exists) {\n              cb(null, process.env.FFMPEG_PATH);\n            } else {\n              cb(null, '');\n            }\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffmpeg, cb) {\n        if (ffmpeg.length) {\n          return cb(null, ffmpeg);\n        }\n\n        utils.which('ffmpeg', function(err, ffmpeg) {\n          cb(err, ffmpeg);\n        });\n      }\n    ], function(err, ffmpeg) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffmpegPath = (ffmpeg || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for ffprobe availability\n   *\n   * If the FFPROBE_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffprobe in the PATH instead.\n   * If this still fails, try to find ffprobe in the same directory as ffmpeg.\n   *\n   * @method FfmpegCommand#_getFfprobePath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfprobePath = function(callback) {\n    var self = this;\n\n    if ('ffprobePath' in cache) {\n      return callback(null, cache.ffprobePath);\n    }\n\n    async.waterfall([\n      // Try FFPROBE_PATH\n      function(cb) {\n        if (process.env.FFPROBE_PATH) {\n          fs.exists(process.env.FFPROBE_PATH, function(exists) {\n            cb(null, exists ? process.env.FFPROBE_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        utils.which('ffprobe', function(err, ffprobe) {\n          cb(err, ffprobe);\n        });\n      },\n\n      // Search in the same directory as ffmpeg\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        self._getFfmpegPath(function(err, ffmpeg) {\n          if (err) {\n            cb(err);\n          } else if (ffmpeg.length) {\n            var name = utils.isWindows ? 'ffprobe.exe' : 'ffprobe';\n            var ffprobe = path.join(path.dirname(ffmpeg), name);\n            fs.exists(ffprobe, function(exists) {\n              cb(null, exists ? ffprobe : '');\n            });\n          } else {\n            cb(null, '');\n          }\n        });\n      }\n    ], function(err, ffprobe) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffprobePath = (ffprobe || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for flvtool2/flvmeta availability\n   *\n   * If the FLVTOOL2_PATH or FLVMETA_PATH environment variable are set, try to use them.\n   * If both are either unset or incorrect, try to find flvtool2 or flvmeta in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFlvtoolPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n   proto._getFlvtoolPath = function(callback) {\n    if ('flvtoolPath' in cache) {\n      return callback(null, cache.flvtoolPath);\n    }\n\n    async.waterfall([\n      // Try FLVMETA_PATH\n      function(cb) {\n        if (process.env.FLVMETA_PATH) {\n          fs.exists(process.env.FLVMETA_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVMETA_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Try FLVTOOL2_PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        if (process.env.FLVTOOL2_PATH) {\n          fs.exists(process.env.FLVTOOL2_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVTOOL2_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search for flvmeta in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvmeta', function(err, flvmeta) {\n          cb(err, flvmeta);\n        });\n      },\n\n      // Search for flvtool2 in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvtool2', function(err, flvtool2) {\n          cb(err, flvtool2);\n        });\n      },\n    ], function(err, flvtool) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.flvtoolPath = (flvtool || ''));\n      }\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFilters}.\n   *\n   * @callback FfmpegCommand~filterCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} filters filter object with filter names as keys and the following\n   *   properties for each filter:\n   * @param {String} filters.description filter description\n   * @param {String} filters.input input type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleInputs whether the filter supports multiple inputs\n   * @param {String} filters.output output type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleOutputs whether the filter supports multiple outputs\n   */\n\n  /**\n   * Query ffmpeg for available filters\n   *\n   * @method FfmpegCommand#availableFilters\n   * @category Capabilities\n   * @aliases getAvailableFilters\n   *\n   * @param {FfmpegCommand~filterCallback} callback callback function\n   */\n  proto.availableFilters =\n  proto.getAvailableFilters = function(callback) {\n    if ('filters' in cache) {\n      return callback(null, cache.filters);\n    }\n\n    this._spawnFfmpeg(['-filters'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split('\\n');\n      var data = {};\n      var types = { A: 'audio', V: 'video', '|': 'none' };\n\n      lines.forEach(function(line) {\n        var match = line.match(filterRegexp);\n        if (match) {\n          data[match[1]] = {\n            description: match[4],\n            input: types[match[2].charAt(0)],\n            multipleInputs: match[2].length > 1,\n            output: types[match[3].charAt(0)],\n            multipleOutputs: match[3].length > 1\n          };\n        }\n      });\n\n      callback(null, cache.filters = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableCodecs}.\n   *\n   * @callback FfmpegCommand~codecCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} codecs codec object with codec names as keys and the following\n   *   properties for each codec (more properties may be available depending on the\n   *   ffmpeg version used):\n   * @param {String} codecs.description codec description\n   * @param {Boolean} codecs.canDecode whether the codec is able to decode streams\n   * @param {Boolean} codecs.canEncode whether the codec is able to encode streams\n   */\n\n  /**\n   * Query ffmpeg for available codecs\n   *\n   * @method FfmpegCommand#availableCodecs\n   * @category Capabilities\n   * @aliases getAvailableCodecs\n   *\n   * @param {FfmpegCommand~codecCallback} callback callback function\n   */\n  proto.availableCodecs =\n  proto.getAvailableCodecs = function(callback) {\n    if ('codecs' in cache) {\n      return callback(null, cache.codecs);\n    }\n\n    this._spawnFfmpeg(['-codecs'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(avCodecRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            drawHorizBand: match[4] === 'S',\n            directRendering: match[5] === 'D',\n            weirdFrameTruncation: match[6] === 'T'\n          };\n        }\n\n        match = line.match(ffCodecRegexp);\n        if (match && match[7] !== '=') {\n          var codecData = data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            intraFrameOnly: match[4] === 'I',\n            isLossy: match[5] === 'L',\n            isLossless: match[6] === 'S'\n          };\n\n          var encoders = codecData.description.match(ffEncodersRegexp);\n          encoders = encoders ? encoders[1].trim().split(' ') : [];\n\n          var decoders = codecData.description.match(ffDecodersRegexp);\n          decoders = decoders ? decoders[1].trim().split(' ') : [];\n\n          if (encoders.length || decoders.length) {\n            var coderData = {};\n            utils.copy(codecData, coderData);\n            delete coderData.canEncode;\n            delete coderData.canDecode;\n\n            encoders.forEach(function(name) {\n              data[name] = {};\n              utils.copy(coderData, data[name]);\n              data[name].canEncode = true;\n            });\n\n            decoders.forEach(function(name) {\n              if (name in data) {\n                data[name].canDecode = true;\n              } else {\n                data[name] = {};\n                utils.copy(coderData, data[name]);\n                data[name].canDecode = true;\n              }\n            });\n          }\n        }\n      });\n\n      callback(null, cache.codecs = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableEncoders}.\n   *\n   * @callback FfmpegCommand~encodersCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} encoders encoders object with encoder names as keys and the following\n   *   properties for each encoder:\n   * @param {String} encoders.description codec description\n   * @param {Boolean} encoders.type \"audio\", \"video\" or \"subtitle\"\n   * @param {Boolean} encoders.frameMT whether the encoder is able to do frame-level multithreading\n   * @param {Boolean} encoders.sliceMT whether the encoder is able to do slice-level multithreading\n   * @param {Boolean} encoders.experimental whether the encoder is experimental\n   * @param {Boolean} encoders.drawHorizBand whether the encoder supports draw_horiz_band\n   * @param {Boolean} encoders.directRendering whether the encoder supports direct encoding method 1\n   */\n\n  /**\n   * Query ffmpeg for available encoders\n   *\n   * @method FfmpegCommand#availableEncoders\n   * @category Capabilities\n   * @aliases getAvailableEncoders\n   *\n   * @param {FfmpegCommand~encodersCallback} callback callback function\n   */\n  proto.availableEncoders =\n  proto.getAvailableEncoders = function(callback) {\n    if ('encoders' in cache) {\n      return callback(null, cache.encoders);\n    }\n\n    this._spawnFfmpeg(['-encoders'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(encodersRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[1]],\n            description: match[8],\n            frameMT: match[2] === 'F',\n            sliceMT: match[3] === 'S',\n            experimental: match[4] === 'X',\n            drawHorizBand: match[5] === 'B',\n            directRendering: match[6] === 'D'\n          };\n        }\n      });\n\n      callback(null, cache.encoders = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFormats}.\n   *\n   * @callback FfmpegCommand~formatCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} formats format object with format names as keys and the following\n   *   properties for each format:\n   * @param {String} formats.description format description\n   * @param {Boolean} formats.canDemux whether the format is able to demux streams from an input file\n   * @param {Boolean} formats.canMux whether the format is able to mux streams into an output file\n   */\n\n  /**\n   * Query ffmpeg for available formats\n   *\n   * @method FfmpegCommand#availableFormats\n   * @category Capabilities\n   * @aliases getAvailableFormats\n   *\n   * @param {FfmpegCommand~formatCallback} callback callback function\n   */\n  proto.availableFormats =\n  proto.getAvailableFormats = function(callback) {\n    if ('formats' in cache) {\n      return callback(null, cache.formats);\n    }\n\n    // Run ffmpeg -formats\n    this._spawnFfmpeg(['-formats'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      // Parse output\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(formatRegexp);\n        if (match) {\n          match[3].split(',').forEach(function(format) {\n            if (!(format in data)) {\n              data[format] = {\n                description: match[4],\n                canDemux: false,\n                canMux: false\n              };\n            }\n\n            if (match[1] === 'D') {\n              data[format].canDemux = true;\n            }\n            if (match[2] === 'E') {\n              data[format].canMux = true;\n            }\n          });\n        }\n      });\n\n      callback(null, cache.formats = data);\n    });\n  };\n\n\n  /**\n   * Check capabilities before executing a command\n   *\n   * Checks whether all used codecs and formats are indeed available\n   *\n   * @method FfmpegCommand#_checkCapabilities\n   * @param {Function} callback callback with signature (err)\n   * @private\n   */\n  proto._checkCapabilities = function(callback) {\n    var self = this;\n    async.waterfall([\n      // Get available formats\n      function(cb) {\n        self.availableFormats(cb);\n      },\n\n      // Check whether specified formats are available\n      function(formats, cb) {\n        var unavailable;\n\n        // Output format(s)\n        unavailable = self._outputs\n          .reduce(function(fmts, output) {\n            var format = output.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canMux)) {\n                fmts.push(format);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Output format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Output formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Input format(s)\n        unavailable = self._inputs\n          .reduce(function(fmts, input) {\n            var format = input.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canDemux)) {\n                fmts.push(format[0]);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Input format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Input formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      },\n\n      // Get available codecs\n      function(cb) {\n        self.availableEncoders(cb);\n      },\n\n      // Check whether specified codecs are available and add strict experimental options if needed\n      function(encoders, cb) {\n        var unavailable;\n\n        // Audio codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var acodec = output.audio.find('-acodec', 1);\n          if (acodec && acodec[0] !== 'copy') {\n            if (!(acodec[0] in encoders) || encoders[acodec[0]].type !== 'audio') {\n              cdcs.push(acodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Audio codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Audio codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Video codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var vcodec = output.video.find('-vcodec', 1);\n          if (vcodec && vcodec[0] !== 'copy') {\n            if (!(vcodec[0] in encoders) || encoders[vcodec[0]].type !== 'video') {\n              cdcs.push(vcodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Video codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Video codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      }\n    ], callback);\n  };\n};\n","/*jshint node:true, laxcomma:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\n\n\nfunction legacyTag(key) { return key.match(/^TAG:/); }\nfunction legacyDisposition(key) { return key.match(/^DISPOSITION:/); }\n\nfunction parseFfprobeOutput(out) {\n  var lines = out.split(/\\r\\n|\\r|\\n/);\n\n  lines = lines.filter(function (line) {\n    return line.length > 0;\n  });\n\n  var data = {\n    streams: [],\n    format: {},\n    chapters: []\n  };\n\n  function parseBlock(name) {\n    var data = {};\n\n    var line = lines.shift();\n    while (typeof line !== 'undefined') {\n      if (line.toLowerCase() == '[/'+name+']') {\n        return data;\n      } else if (line.match(/^\\[/)) {\n        line = lines.shift();\n        continue;\n      }\n\n      var kv = line.match(/^([^=]+)=(.*)$/);\n      if (kv) {\n        if (!(kv[1].match(/^TAG:/)) && kv[2].match(/^[0-9]+(\\.[0-9]+)?$/)) {\n          data[kv[1]] = Number(kv[2]);\n        } else {\n          data[kv[1]] = kv[2];\n        }\n      }\n\n      line = lines.shift();\n    }\n\n    return data;\n  }\n\n  var line = lines.shift();\n  while (typeof line !== 'undefined') {\n    if (line.match(/^\\[stream/i)) {\n      var stream = parseBlock('stream');\n      data.streams.push(stream);\n    } else if (line.match(/^\\[chapter/i)) {\n      var chapter = parseBlock('chapter');\n      data.chapters.push(chapter);\n    } else if (line.toLowerCase() === '[format]') {\n      data.format = parseBlock('format');\n    }\n\n    line = lines.shift();\n  }\n\n  return data;\n}\n\n\n\nmodule.exports = function(proto) {\n  /**\n   * A callback passed to the {@link FfmpegCommand#ffprobe} method.\n   *\n   * @callback FfmpegCommand~ffprobeCallback\n   *\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} ffprobeData ffprobe output data; this object\n   *   has the same format as what the following command returns:\n   *\n   *     `ffprobe -print_format json -show_streams -show_format INPUTFILE`\n   * @param {Array} ffprobeData.streams stream information\n   * @param {Object} ffprobeData.format format information\n   */\n\n  /**\n   * Run ffprobe on last specified input\n   *\n   * @method FfmpegCommand#ffprobe\n   * @category Metadata\n   *\n   * @param {?Number} [index] 0-based index of input to probe (defaults to last input)\n   * @param {?String[]} [options] array of output options to return\n   * @param {FfmpegCommand~ffprobeCallback} callback callback function\n   *\n   */\n  proto.ffprobe = function() {\n    var input, index = null, options = [], callback;\n\n    // the last argument should be the callback\n    var callback = arguments[arguments.length - 1];\n\n    var ended = false\n    function handleCallback(err, data) {\n      if (!ended) {\n        ended = true;\n        callback(err, data);\n      }\n    };\n\n    // map the arguments to the correct variable names\n    switch (arguments.length) {\n      case 3:\n        index = arguments[0];\n        options = arguments[1];\n        break;\n      case 2:\n        if (typeof arguments[0] === 'number') {\n          index = arguments[0];\n        } else if (Array.isArray(arguments[0])) {\n          options = arguments[0];\n        }\n        break;\n    }\n\n\n    if (index === null) {\n      if (!this._currentInput) {\n        return handleCallback(new Error('No input specified'));\n      }\n\n      input = this._currentInput;\n    } else {\n      input = this._inputs[index];\n\n      if (!input) {\n        return handleCallback(new Error('Invalid input index'));\n      }\n    }\n\n    // Find ffprobe\n    this._getFfprobePath(function(err, path) {\n      if (err) {\n        return handleCallback(err);\n      } else if (!path) {\n        return handleCallback(new Error('Cannot find ffprobe'));\n      }\n\n      var stdout = '';\n      var stdoutClosed = false;\n      var stderr = '';\n      var stderrClosed = false;\n\n      // Spawn ffprobe\n      var src = input.isStream ? 'pipe:0' : input.source;\n      var ffprobe = spawn(path, ['-show_streams', '-show_format'].concat(options, src), {windowsHide: true});\n\n      if (input.isStream) {\n        // Skip errors on stdin. These get thrown when ffprobe is complete and\n        // there seems to be no way hook in and close stdin before it throws.\n        ffprobe.stdin.on('error', function(err) {\n          if (['ECONNRESET', 'EPIPE', 'EOF'].indexOf(err.code) >= 0) { return; }\n          handleCallback(err);\n        });\n\n        // Once ffprobe's input stream closes, we need no more data from the\n        // input\n        ffprobe.stdin.on('close', function() {\n            input.source.pause();\n            input.source.unpipe(ffprobe.stdin);\n        });\n\n        input.source.pipe(ffprobe.stdin);\n      }\n\n      ffprobe.on('error', callback);\n\n      // Ensure we wait for captured streams to end before calling callback\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && stdoutClosed && stderrClosed) {\n          if (exitError) {\n            if (stderr) {\n              exitError.message += '\\n' + stderr;\n            }\n\n            return handleCallback(exitError);\n          }\n\n          // Process output\n          var data = parseFfprobeOutput(stdout);\n\n          // Handle legacy output with \"TAG:x\" and \"DISPOSITION:x\" keys\n          [data.format].concat(data.streams).forEach(function(target) {\n            if (target) {\n              var legacyTagKeys = Object.keys(target).filter(legacyTag);\n\n              if (legacyTagKeys.length) {\n                target.tags = target.tags || {};\n\n                legacyTagKeys.forEach(function(tagKey) {\n                  target.tags[tagKey.substr(4)] = target[tagKey];\n                  delete target[tagKey];\n                });\n              }\n\n              var legacyDispositionKeys = Object.keys(target).filter(legacyDisposition);\n\n              if (legacyDispositionKeys.length) {\n                target.disposition = target.disposition || {};\n\n                legacyDispositionKeys.forEach(function(dispositionKey) {\n                  target.disposition[dispositionKey.substr(12)] = target[dispositionKey];\n                  delete target[dispositionKey];\n                });\n              }\n            }\n          });\n\n          handleCallback(null, data);\n        }\n      }\n\n      // Handle ffprobe exit\n      var processExited = false;\n      ffprobe.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (code) {\n          handleExit(new Error('ffprobe exited with code ' + code));\n        } else if (signal) {\n          handleExit(new Error('ffprobe was killed with signal ' + signal));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Handle stdout/stderr streams\n      ffprobe.stdout.on('data', function(data) {\n        stdout += data;\n      });\n\n      ffprobe.stdout.on('close', function() {\n        stdoutClosed = true;\n        handleExit();\n      });\n\n      ffprobe.stderr.on('data', function(data) {\n        stderr += data;\n      });\n\n      ffprobe.stderr.on('close', function() {\n        stderrClosed = true;\n        handleExit();\n      });\n    });\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar PassThrough = require('stream').PassThrough;\nvar async = require('async');\nvar utils = require('./utils');\n\n\n/*\n * Useful recipes for commands\n */\n\nmodule.exports = function recipes(proto) {\n  /**\n   * Execute ffmpeg command and save output to a file\n   *\n   * @method FfmpegCommand#save\n   * @category Processing\n   * @aliases saveToFile\n   *\n   * @param {String} output file path\n   * @return FfmpegCommand\n   */\n  proto.saveToFile =\n  proto.save = function(output) {\n    this.output(output).run();\n    return this;\n  };\n\n\n  /**\n   * Execute ffmpeg command and save output to a stream\n   *\n   * If 'stream' is not specified, a PassThrough stream is created and returned.\n   * 'options' will be used when piping ffmpeg output to the output stream\n   * (@see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options)\n   *\n   * @method FfmpegCommand#pipe\n   * @category Processing\n   * @aliases stream,writeToStream\n   *\n   * @param {stream.Writable} [stream] output stream\n   * @param {Object} [options={}] pipe options\n   * @return Output stream\n   */\n  proto.writeToStream =\n  proto.pipe =\n  proto.stream = function(stream, options) {\n    if (stream && !('writable' in stream)) {\n      options = stream;\n      stream = undefined;\n    }\n\n    if (!stream) {\n      if (process.version.match(/v0\\.8\\./)) {\n        throw new Error('PassThrough stream is not supported on node v0.8');\n      }\n\n      stream = new PassThrough();\n    }\n\n    this.output(stream, options).run();\n    return stream;\n  };\n\n\n  /**\n   * Generate images from a video\n   *\n   * Note: this method makes the command emit a 'filenames' event with an array of\n   * the generated image filenames.\n   *\n   * @method FfmpegCommand#screenshots\n   * @category Processing\n   * @aliases takeScreenshots,thumbnail,thumbnails,screenshot\n   *\n   * @param {Number|Object} [config=1] screenshot count or configuration object with\n   *   the following keys:\n   * @param {Number} [config.count] number of screenshots to take; using this option\n   *   takes screenshots at regular intervals (eg. count=4 would take screens at 20%, 40%,\n   *   60% and 80% of the video length).\n   * @param {String} [config.folder='.'] output folder\n   * @param {String} [config.filename='tn.png'] output filename pattern, may contain the following\n   *   tokens:\n   *   - '%s': offset in seconds\n   *   - '%w': screenshot width\n   *   - '%h': screenshot height\n   *   - '%r': screenshot resolution (same as '%wx%h')\n   *   - '%f': input filename\n   *   - '%b': input basename (filename w/o extension)\n   *   - '%i': index of screenshot in timemark array (can be zero-padded by using it like `%000i`)\n   * @param {Number[]|String[]} [config.timemarks] array of timemarks to take screenshots\n   *   at; each timemark may be a number of seconds, a '[[hh:]mm:]ss[.xxx]' string or a\n   *   'XX%' string.  Overrides 'count' if present.\n   * @param {Number[]|String[]} [config.timestamps] alias for 'timemarks'\n   * @param {Boolean} [config.fastSeek] use fast seek (less accurate)\n   * @param {String} [config.size] screenshot size, with the same syntax as {@link FfmpegCommand#size}\n   * @param {String} [folder] output folder (legacy alias for 'config.folder')\n   * @return FfmpegCommand\n   */\n  proto.takeScreenshots =\n  proto.thumbnail =\n  proto.thumbnails =\n  proto.screenshot =\n  proto.screenshots = function(config, folder) {\n    var self = this;\n    var source = this._currentInput.source;\n    config = config || { count: 1 };\n\n    // Accept a number of screenshots instead of a config object\n    if (typeof config === 'number') {\n      config = {\n        count: config\n      };\n    }\n\n    // Accept a second 'folder' parameter instead of config.folder\n    if (!('folder' in config)) {\n      config.folder = folder || '.';\n    }\n\n    // Accept 'timestamps' instead of 'timemarks'\n    if ('timestamps' in config) {\n      config.timemarks = config.timestamps;\n    }\n\n    // Compute timemarks from count if not present\n    if (!('timemarks' in config)) {\n      if (!config.count) {\n        throw new Error('Cannot take screenshots: neither a count nor a timemark list are specified');\n      }\n\n      var interval = 100 / (1 + config.count);\n      config.timemarks = [];\n      for (var i = 0; i < config.count; i++) {\n        config.timemarks.push((interval * (i + 1)) + '%');\n      }\n    }\n\n    // Parse size option\n    if ('size' in config) {\n      var fixedSize = config.size.match(/^(\\d+)x(\\d+)$/);\n      var fixedWidth = config.size.match(/^(\\d+)x\\?$/);\n      var fixedHeight = config.size.match(/^\\?x(\\d+)$/);\n      var percentSize = config.size.match(/^(\\d+)%$/);\n\n      if (!fixedSize && !fixedWidth && !fixedHeight && !percentSize) {\n        throw new Error('Invalid size parameter: ' + config.size);\n      }\n    }\n\n    // Metadata helper\n    var metadata;\n    function getMetadata(cb) {\n      if (metadata) {\n        cb(null, metadata);\n      } else {\n        self.ffprobe(function(err, meta) {\n          metadata = meta;\n          cb(err, meta);\n        });\n      }\n    }\n\n    async.waterfall([\n      // Compute percent timemarks if any\n      function computeTimemarks(next) {\n        if (config.timemarks.some(function(t) { return ('' + t).match(/^[\\d.]+%$/); })) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot compute screenshot timemarks with an input stream, please specify fixed timemarks'));\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              next(err);\n            } else {\n              // Select video stream with the highest resolution\n              var vstream = meta.streams.reduce(function(biggest, stream) {\n                if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                  return stream;\n                } else {\n                  return biggest;\n                }\n              }, { width: 0, height: 0 });\n\n              if (vstream.width === 0) {\n                return next(new Error('No video stream in input, cannot take screenshots'));\n              }\n\n              var duration = Number(vstream.duration);\n              if (isNaN(duration)) {\n                duration = Number(meta.format.duration);\n              }\n\n              if (isNaN(duration)) {\n                return next(new Error('Could not get input duration, please specify fixed timemarks'));\n              }\n\n              config.timemarks = config.timemarks.map(function(mark) {\n                if (('' + mark).match(/^([\\d.]+)%$/)) {\n                  return duration * parseFloat(mark) / 100;\n                } else {\n                  return mark;\n                }\n              });\n\n              next();\n            }\n          });\n        } else {\n          next();\n        }\n      },\n\n      // Turn all timemarks into numbers and sort them\n      function normalizeTimemarks(next) {\n        config.timemarks = config.timemarks.map(function(mark) {\n          return utils.timemarkToSeconds(mark);\n        }).sort(function(a, b) { return a - b; });\n\n        next();\n      },\n\n      // Add '_%i' to pattern when requesting multiple screenshots and no variable token is present\n      function fixPattern(next) {\n        var pattern = config.filename || 'tn.png';\n\n        if (pattern.indexOf('.') === -1) {\n          pattern += '.png';\n        }\n\n        if (config.timemarks.length > 1 && !pattern.match(/%(s|0*i)/)) {\n          var ext = path.extname(pattern);\n          pattern = path.join(path.dirname(pattern), path.basename(pattern, ext) + '_%i' + ext);\n        }\n\n        next(null, pattern);\n      },\n\n      // Replace filename tokens (%f, %b) in pattern\n      function replaceFilenameTokens(pattern, next) {\n        if (pattern.match(/%[bf]/)) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot replace %f or %b when using an input stream'));\n          }\n\n          pattern = pattern\n            .replace(/%f/g, path.basename(source))\n            .replace(/%b/g, path.basename(source, path.extname(source)));\n        }\n\n        next(null, pattern);\n      },\n\n      // Compute size if needed\n      function getSize(pattern, next) {\n        if (pattern.match(/%[whr]/)) {\n          if (fixedSize) {\n            return next(null, pattern, fixedSize[1], fixedSize[2]);\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              return next(new Error('Could not determine video resolution to replace %w, %h or %r'));\n            }\n\n            var vstream = meta.streams.reduce(function(biggest, stream) {\n              if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                return stream;\n              } else {\n                return biggest;\n              }\n            }, { width: 0, height: 0 });\n\n            if (vstream.width === 0) {\n              return next(new Error('No video stream in input, cannot replace %w, %h or %r'));\n            }\n\n            var width = vstream.width;\n            var height = vstream.height;\n\n            if (fixedWidth) {\n              height = height * Number(fixedWidth[1]) / width;\n              width = Number(fixedWidth[1]);\n            } else if (fixedHeight) {\n              width = width * Number(fixedHeight[1]) / height;\n              height = Number(fixedHeight[1]);\n            } else if (percentSize) {\n              width = width * Number(percentSize[1]) / 100;\n              height = height * Number(percentSize[1]) / 100;\n            }\n\n            next(null, pattern, Math.round(width / 2) * 2, Math.round(height / 2) * 2);\n          });\n        } else {\n          next(null, pattern, -1, -1);\n        }\n      },\n\n      // Replace size tokens (%w, %h, %r) in pattern\n      function replaceSizeTokens(pattern, width, height, next) {\n        pattern = pattern\n          .replace(/%r/g, '%wx%h')\n          .replace(/%w/g, width)\n          .replace(/%h/g, height);\n\n        next(null, pattern);\n      },\n\n      // Replace variable tokens in pattern (%s, %i) and generate filename list\n      function replaceVariableTokens(pattern, next) {\n        var filenames = config.timemarks.map(function(t, i) {\n          return pattern\n            .replace(/%s/g, utils.timemarkToSeconds(t))\n            .replace(/%(0*)i/g, function(match, padding) {\n              var idx = '' + (i + 1);\n              return padding.substr(0, Math.max(0, padding.length + 1 - idx.length)) + idx;\n            });\n        });\n\n        self.emit('filenames', filenames);\n        next(null, filenames);\n      },\n\n      // Create output directory\n      function createDirectory(filenames, next) {\n        fs.exists(config.folder, function(exists) {\n          if (!exists) {\n            fs.mkdir(config.folder, function(err) {\n              if (err) {\n                next(err);\n              } else {\n                next(null, filenames);\n              }\n            });\n          } else {\n            next(null, filenames);\n          }\n        });\n      }\n    ], function runCommand(err, filenames) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var count = config.timemarks.length;\n      var split;\n      var filters = [split = {\n        filter: 'split',\n        options: count,\n        outputs: []\n      }];\n\n      if ('size' in config) {\n        // Set size to generate size filters\n        self.size(config.size);\n\n        // Get size filters and chain them with 'sizeN' stream names\n        var sizeFilters =  self._currentOutput.sizeFilters.get().map(function(f, i) {\n          if (i > 0) {\n            f.inputs = 'size' + (i - 1);\n          }\n\n          f.outputs = 'size' + i;\n\n          return f;\n        });\n\n        // Input last size filter output into split filter\n        split.inputs = 'size' + (sizeFilters.length - 1);\n\n        // Add size filters in front of split filter\n        filters = sizeFilters.concat(filters);\n\n        // Remove size filters\n        self._currentOutput.sizeFilters.clear();\n      }\n\n      var first = 0;\n      for (var i = 0; i < count; i++) {\n        var stream = 'screen' + i;\n        split.outputs.push(stream);\n\n        if (i === 0) {\n          first = config.timemarks[i];\n          self.seekInput(first);\n        }\n\n        self.output(path.join(config.folder, filenames[i]))\n          .frames(1)\n          .map(stream);\n\n        if (i > 0) {\n          self.seek(config.timemarks[i] - first);\n        }\n      }\n\n      self.complexFilter(filters);\n      self.run();\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Merge (concatenate) inputs to a single file\n   *\n   * @method FfmpegCommand#concat\n   * @category Processing\n   * @aliases concatenate,mergeToFile\n   *\n   * @param {String|Writable} target output file or writable stream\n   * @param {Object} [options] pipe options (only used when outputting to a writable stream)\n   * @return FfmpegCommand\n   */\n  proto.mergeToFile =\n  proto.concatenate =\n  proto.concat = function(target, options) {\n    // Find out which streams are present in the first non-stream input\n    var fileInput = this._inputs.filter(function(input) {\n      return !input.isStream;\n    })[0];\n\n    var self = this;\n    this.ffprobe(this._inputs.indexOf(fileInput), function(err, data) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var hasAudioStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'audio';\n      });\n\n      var hasVideoStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'video';\n      });\n\n      // Setup concat filter and start processing\n      self.output(target, options)\n        .complexFilter({\n          filter: 'concat',\n          options: {\n            n: self._inputs.length,\n            v: hasVideoStreams ? 1 : 0,\n            a: hasAudioStreams ? 1 : 0\n          }\n        })\n        .run();\n    });\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nvar utils = require('./utils');\nvar ARGLISTS = ['_global', '_audio', '_audioFilters', '_video', '_videoFilters', '_sizeFilters', '_complexFilters'];\n\n\n/**\n * Create an ffmpeg command\n *\n * Can be called with or without the 'new' operator, and the 'input' parameter\n * may be specified as 'options.source' instead (or passed later with the\n * addInput method).\n *\n * @constructor\n * @param {String|ReadableStream} [input] input file path or readable stream\n * @param {Object} [options] command options\n * @param {Object} [options.logger=<no logging>] logger object with 'error', 'warning', 'info' and 'debug' methods\n * @param {Number} [options.niceness=0] ffmpeg process niceness, ignored on Windows\n * @param {Number} [options.priority=0] alias for `niceness`\n * @param {String} [options.presets=\"fluent-ffmpeg/lib/presets\"] directory to load presets from\n * @param {String} [options.preset=\"fluent-ffmpeg/lib/presets\"] alias for `presets`\n * @param {String} [options.stdoutLines=100] maximum lines of ffmpeg output to keep in memory, use 0 for unlimited\n * @param {Number} [options.timeout=<no timeout>] ffmpeg processing timeout in seconds\n * @param {String|ReadableStream} [options.source=<no input>] alias for the `input` parameter\n */\nfunction FfmpegCommand(input, options) {\n  // Make 'new' optional\n  if (!(this instanceof FfmpegCommand)) {\n    return new FfmpegCommand(input, options);\n  }\n\n  EventEmitter.call(this);\n\n  if (typeof input === 'object' && !('readable' in input)) {\n    // Options object passed directly\n    options = input;\n  } else {\n    // Input passed first\n    options = options || {};\n    options.source = input;\n  }\n\n  // Add input if present\n  this._inputs = [];\n  if (options.source) {\n    this.input(options.source);\n  }\n\n  // Add target-less output for backwards compatibility\n  this._outputs = [];\n  this.output();\n\n  // Create argument lists\n  var self = this;\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    self[prop] = utils.args();\n  });\n\n  // Set default option values\n  options.stdoutLines = 'stdoutLines' in options ? options.stdoutLines : 100;\n  options.presets = options.presets || options.preset || path.join(__dirname, 'presets');\n  options.niceness = options.niceness || options.priority || 0;\n\n  // Save options\n  this.options = options;\n\n  // Setup logger\n  this.logger = options.logger || {\n    debug: function() {},\n    info: function() {},\n    warn: function() {},\n    error: function() {}\n  };\n}\nutil.inherits(FfmpegCommand, EventEmitter);\nmodule.exports = FfmpegCommand;\n\n\n/**\n * Clone an ffmpeg command\n *\n * This method is useful when you want to process the same input multiple times.\n * It returns a new FfmpegCommand instance with the exact same options.\n *\n * All options set _after_ the clone() call will only be applied to the instance\n * it has been called on.\n *\n * @example\n *   var command = ffmpeg('/path/to/source.avi')\n *     .audioCodec('libfaac')\n *     .videoCodec('libx264')\n *     .format('mp4');\n *\n *   command.clone()\n *     .size('320x200')\n *     .save('/path/to/output-small.mp4');\n *\n *   command.clone()\n *     .size('640x400')\n *     .save('/path/to/output-medium.mp4');\n *\n *   command.save('/path/to/output-original-size.mp4');\n *\n * @method FfmpegCommand#clone\n * @return FfmpegCommand\n */\nFfmpegCommand.prototype.clone = function() {\n  var clone = new FfmpegCommand();\n  var self = this;\n\n  // Clone options and logger\n  clone.options = this.options;\n  clone.logger = this.logger;\n\n  // Clone inputs\n  clone._inputs = this._inputs.map(function(input) {\n    return {\n      source: input.source,\n      options: input.options.clone()\n    };\n  });\n\n  // Create first output\n  if ('target' in this._outputs[0]) {\n    // We have outputs set, don't clone them and create first output\n    clone._outputs = [];\n    clone.output();\n  } else {\n    // No outputs set, clone first output options\n    clone._outputs = [\n      clone._currentOutput = {\n        flags: {}\n      }\n    ];\n\n    ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n      clone._currentOutput[key] = self._currentOutput[key].clone();\n    });\n\n    if (this._currentOutput.sizeData) {\n      clone._currentOutput.sizeData = {};\n      utils.copy(this._currentOutput.sizeData, clone._currentOutput.sizeData);\n    }\n\n    utils.copy(this._currentOutput.flags, clone._currentOutput.flags);\n  }\n\n  // Clone argument lists\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    clone[prop] = self[prop].clone();\n  });\n\n  return clone;\n};\n\n\n/* Add methods from options submodules */\n\nrequire('./options/inputs')(FfmpegCommand.prototype);\nrequire('./options/audio')(FfmpegCommand.prototype);\nrequire('./options/video')(FfmpegCommand.prototype);\nrequire('./options/videosize')(FfmpegCommand.prototype);\nrequire('./options/output')(FfmpegCommand.prototype);\nrequire('./options/custom')(FfmpegCommand.prototype);\nrequire('./options/misc')(FfmpegCommand.prototype);\n\n\n/* Add processor methods */\n\nrequire('./processor')(FfmpegCommand.prototype);\n\n\n/* Add capabilities methods */\n\nrequire('./capabilities')(FfmpegCommand.prototype);\n\nFfmpegCommand.setFfmpegPath = function(path) {\n  (new FfmpegCommand()).setFfmpegPath(path);\n};\n\nFfmpegCommand.setFfprobePath = function(path) {\n  (new FfmpegCommand()).setFfprobePath(path);\n};\n\nFfmpegCommand.setFlvtoolPath = function(path) {\n  (new FfmpegCommand()).setFlvtoolPath(path);\n};\n\nFfmpegCommand.availableFilters =\nFfmpegCommand.getAvailableFilters = function(callback) {\n  (new FfmpegCommand()).availableFilters(callback);\n};\n\nFfmpegCommand.availableCodecs =\nFfmpegCommand.getAvailableCodecs = function(callback) {\n  (new FfmpegCommand()).availableCodecs(callback);\n};\n\nFfmpegCommand.availableFormats =\nFfmpegCommand.getAvailableFormats = function(callback) {\n  (new FfmpegCommand()).availableFormats(callback);\n};\n\nFfmpegCommand.availableEncoders =\nFfmpegCommand.getAvailableEncoders = function(callback) {\n  (new FfmpegCommand()).availableEncoders(callback);\n};\n\n\n/* Add ffprobe methods */\n\nrequire('./ffprobe')(FfmpegCommand.prototype);\n\nFfmpegCommand.ffprobe = function(file) {\n  var instance = new FfmpegCommand(file);\n  instance.ffprobe.apply(instance, Array.prototype.slice.call(arguments, 1));\n};\n\n/* Add processing recipes */\n\nrequire('./recipes')(FfmpegCommand.prototype);\n","module.exports = require('./lib/fluent-ffmpeg');\n","'use strict';\n\nlet electron = {};\n\ntry {\n  // eslint-disable-next-line global-require,import/no-extraneous-dependencies\n  electron = require('electron');\n} catch (e) {\n  // require isn't available, not from a preload script\n}\n\nif (electron.ipcRenderer) {\n  initialize(electron);\n}\n\nif (typeof module === 'object') {\n  module.exports = initialize;\n}\n\n/**\n * @param {Electron.ContextBridge} contextBridge\n * @param {Electron.IpcRenderer} ipcRenderer\n */\nfunction initialize({ contextBridge, ipcRenderer }) {\n  if (!ipcRenderer) {\n    return;\n  }\n\n  ipcRenderer.on('__ELECTRON_LOG_IPC__', (_, message) => {\n    window.postMessage({ cmd: 'message', ...message });\n  });\n\n  ipcRenderer\n    .invoke('__ELECTRON_LOG__', { cmd: 'getOptions' })\n    // eslint-disable-next-line no-console\n    .catch((e) => console.error(new Error(\n      'electron-log isn\\'t initialized in the main process. '\n      + `Please call log.initialize() before. ${e.message}`,\n    )));\n\n  const electronLog = {\n    sendToMain(message) {\n      try {\n        ipcRenderer.send('__ELECTRON_LOG__', message);\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.error('electronLog.sendToMain ', e, 'data:', message);\n\n        ipcRenderer.send('__ELECTRON_LOG__', {\n          cmd: 'errorHandler',\n          error: { message: e?.message, stack: e?.stack },\n          errorName: 'sendToMain',\n        });\n      }\n    },\n\n    log(...data) {\n      electronLog.sendToMain({ data, level: 'info' });\n    },\n  };\n\n  for (const level of ['error', 'warn', 'info', 'verbose', 'debug', 'silly']) {\n    electronLog[level] = (...data) => electronLog.sendToMain({\n      data,\n      level,\n    });\n  }\n\n  if (contextBridge && process.contextIsolated) {\n    try {\n      contextBridge.exposeInMainWorld('__electronLog', electronLog);\n    } catch {\n      // Sometimes this files can be included twice\n    }\n  }\n\n  if (typeof window === 'object') {\n    window.__electronLog = electronLog;\n  } else {\n    // noinspection JSConstantReassignment\n    __electronLog = electronLog;\n  }\n}\n","'use strict';\n\nmodule.exports = scopeFactory;\n\nfunction scopeFactory(logger) {\n  return Object.defineProperties(scope, {\n    defaultLabel: { value: '', writable: true },\n    labelPadding: { value: true, writable: true },\n    maxLabelLength: { value: 0, writable: true },\n    labelLength: {\n      get() {\n        switch (typeof scope.labelPadding) {\n          case 'boolean': return scope.labelPadding ? scope.maxLabelLength : 0;\n          case 'number': return scope.labelPadding;\n          default: return 0;\n        }\n      },\n    },\n  });\n\n  function scope(label) {\n    scope.maxLabelLength = Math.max(scope.maxLabelLength, label.length);\n\n    const newScope = {};\n    for (const level of logger.levels) {\n      newScope[level] = (...d) => logger.logData(d, { level, scope: label });\n    }\n    newScope.log = newScope.info;\n    return newScope;\n  }\n}\n","'use strict';\n\nclass Buffering {\n  constructor({ processMessage }) {\n    this.processMessage = processMessage;\n    this.buffer = [];\n    this.enabled = false;\n\n    this.begin = this.begin.bind(this);\n    this.commit = this.commit.bind(this);\n    this.reject = this.reject.bind(this);\n  }\n\n  addMessage(message) {\n    this.buffer.push(message);\n  }\n\n  begin() {\n    this.enabled = [];\n  }\n\n  commit() {\n    this.enabled = false;\n    this.buffer.forEach((item) => this.processMessage(item));\n    this.buffer = [];\n  }\n\n  reject() {\n    this.enabled = false;\n    this.buffer = [];\n  }\n}\n\nmodule.exports = Buffering;\n","'use strict';\n\nconst scopeFactory = require('./scope');\nconst Buffering = require('./Buffering');\n\n/**\n * @property {Function} error\n * @property {Function} warn\n * @property {Function} info\n * @property {Function} verbose\n * @property {Function} debug\n * @property {Function} silly\n */\nclass Logger {\n  static instances = {};\n\n  dependencies = {};\n  errorHandler = null;\n  eventLogger = null;\n  functions = {};\n  hooks = [];\n  isDev = false;\n  levels = null;\n  logId = null;\n  scope = null;\n  transports = {};\n  variables = {};\n\n  constructor({\n    allowUnknownLevel = false,\n    dependencies = {},\n    errorHandler,\n    eventLogger,\n    initializeFn,\n    isDev = false,\n    levels = ['error', 'warn', 'info', 'verbose', 'debug', 'silly'],\n    logId,\n    transportFactories = {},\n    variables,\n  } = {}) {\n    this.addLevel = this.addLevel.bind(this);\n    this.create = this.create.bind(this);\n    this.initialize = this.initialize.bind(this);\n    this.logData = this.logData.bind(this);\n    this.processMessage = this.processMessage.bind(this);\n\n    this.allowUnknownLevel = allowUnknownLevel;\n    this.buffering = new Buffering(this);\n    this.dependencies = dependencies;\n    this.initializeFn = initializeFn;\n    this.isDev = isDev;\n    this.levels = levels;\n    this.logId = logId;\n    this.scope = scopeFactory(this);\n    this.transportFactories = transportFactories;\n    this.variables = variables || {};\n\n    for (const name of this.levels) {\n      this.addLevel(name, false);\n    }\n    this.log = this.info;\n    this.functions.log = this.log;\n\n    this.errorHandler = errorHandler;\n    errorHandler?.setOptions({ ...dependencies, logFn: this.error });\n\n    this.eventLogger = eventLogger;\n    eventLogger?.setOptions({ ...dependencies, logger: this });\n\n    for (const [name, factory] of Object.entries(transportFactories)) {\n      this.transports[name] = factory(this, dependencies);\n    }\n\n    Logger.instances[logId] = this;\n  }\n\n  static getInstance({ logId }) {\n    return this.instances[logId] || this.instances.default;\n  }\n\n  addLevel(level, index = this.levels.length) {\n    if (index !== false) {\n      this.levels.splice(index, 0, level);\n    }\n\n    this[level] = (...args) => this.logData(args, { level });\n    this.functions[level] = this[level];\n  }\n\n  catchErrors(options) {\n    this.processMessage(\n      {\n        data: ['log.catchErrors is deprecated. Use log.errorHandler instead'],\n        level: 'warn',\n      },\n      { transports: ['console'] },\n    );\n    return this.errorHandler.startCatching(options);\n  }\n\n  create(options) {\n    if (typeof options === 'string') {\n      options = { logId: options };\n    }\n\n    return new Logger({\n      dependencies: this.dependencies,\n      errorHandler: this.errorHandler,\n      initializeFn: this.initializeFn,\n      isDev: this.isDev,\n      transportFactories: this.transportFactories,\n      variables: { ...this.variables },\n      ...options,\n    });\n  }\n\n  compareLevels(passLevel, checkLevel, levels = this.levels) {\n    const pass = levels.indexOf(passLevel);\n    const check = levels.indexOf(checkLevel);\n\n    if (check === -1 || pass === -1) {\n      return true;\n    }\n\n    return check <= pass;\n  }\n\n  initialize(options = {}) {\n    this.initializeFn({ logger: this, ...this.dependencies, ...options });\n  }\n\n  logData(data, options = {}) {\n    if (this.buffering.enabled) {\n      this.buffering.addMessage({ data, date: new Date(), ...options });\n    } else {\n      this.processMessage({ data, ...options });\n    }\n  }\n\n  processMessage(message, { transports = this.transports } = {}) {\n    if (message.cmd === 'errorHandler') {\n      this.errorHandler.handle(message.error, {\n        errorName: message.errorName,\n        processType: 'renderer',\n        showDialog: Boolean(message.showDialog),\n      });\n      return;\n    }\n\n    let level = message.level;\n    if (!this.allowUnknownLevel) {\n      level = this.levels.includes(message.level) ? message.level : 'info';\n    }\n\n    const normalizedMessage = {\n      date: new Date(),\n      logId: this.logId,\n      ...message,\n      level,\n      variables: {\n        ...this.variables,\n        ...message.variables,\n      },\n    };\n\n    for (const [transName, transFn] of this.transportEntries(transports)) {\n      if (typeof transFn !== 'function' || transFn.level === false) {\n        continue;\n      }\n\n      if (!this.compareLevels(transFn.level, message.level)) {\n        continue;\n      }\n\n      try {\n        // eslint-disable-next-line arrow-body-style\n        const transformedMsg = this.hooks.reduce((msg, hook) => {\n          return msg ? hook(msg, transFn, transName) : msg;\n        }, normalizedMessage);\n\n        if (transformedMsg) {\n          transFn({ ...transformedMsg, data: [...transformedMsg.data] });\n        }\n      } catch (e) {\n        this.processInternalErrorFn(e);\n      }\n    }\n  }\n\n  processInternalErrorFn(_e) {\n    // Do nothing by default\n  }\n\n  transportEntries(transports = this.transports) {\n    const transportArray = Array.isArray(transports)\n      ? transports\n      : Object.entries(transports);\n\n    return transportArray\n      .map((item) => {\n        switch (typeof item) {\n          case 'string':\n            return this.transports[item] ? [item, this.transports[item]] : null;\n          case 'function':\n            return [item.name, item];\n          default:\n            return Array.isArray(item) ? item : null;\n        }\n      })\n      .filter(Boolean);\n  }\n}\n\nmodule.exports = Logger;\n","'use strict';\n\n// eslint-disable-next-line no-console\nconst consoleError = console.error;\n\nclass RendererErrorHandler {\n  logFn = null;\n  onError = null;\n  showDialog = false;\n  preventDefault = true;\n\n  constructor({ logFn = null } = {}) {\n    this.handleError = this.handleError.bind(this);\n    this.handleRejection = this.handleRejection.bind(this);\n    this.startCatching = this.startCatching.bind(this);\n    this.logFn = logFn;\n  }\n\n  handle(error, {\n    logFn = this.logFn,\n    errorName = '',\n    onError = this.onError,\n    showDialog = this.showDialog,\n  } = {}) {\n    try {\n      if (onError?.({ error, errorName, processType: 'renderer' }) !== false) {\n        logFn({ error, errorName, showDialog });\n      }\n    } catch {\n      consoleError(error);\n    }\n  }\n\n  setOptions({ logFn, onError, preventDefault, showDialog }) {\n    if (typeof logFn === 'function') {\n      this.logFn = logFn;\n    }\n\n    if (typeof onError === 'function') {\n      this.onError = onError;\n    }\n\n    if (typeof preventDefault === 'boolean') {\n      this.preventDefault = preventDefault;\n    }\n\n    if (typeof showDialog === 'boolean') {\n      this.showDialog = showDialog;\n    }\n  }\n\n  startCatching({ onError, showDialog } = {}) {\n    if (this.isActive) {\n      return;\n    }\n\n    this.isActive = true;\n    this.setOptions({ onError, showDialog });\n\n    window.addEventListener('error', (event) => {\n      this.preventDefault && event.preventDefault?.();\n      this.handleError(event.error || event);\n    });\n    window.addEventListener('unhandledrejection', (event) => {\n      this.preventDefault && event.preventDefault?.();\n      this.handleRejection(event.reason || event);\n    });\n  }\n\n  handleError(error) {\n    this.handle(error, { errorName: 'Unhandled' });\n  }\n\n  handleRejection(reason) {\n    const error = reason instanceof Error\n      ? reason\n      : new Error(JSON.stringify(reason));\n    this.handle(error, { errorName: 'Unhandled rejection' });\n  }\n}\n\nmodule.exports = RendererErrorHandler;\n","'use strict';\n\nmodule.exports = { transform };\n\nfunction transform({\n  logger,\n  message,\n  transport,\n\n  initialData = message?.data || [],\n  transforms = transport?.transforms,\n}) {\n  return transforms.reduce((data, trans) => {\n    if (typeof trans === 'function') {\n      return trans({ data, logger, message, transport });\n    }\n\n    return data;\n  }, initialData);\n}\n","'use strict';\n\n/* eslint-disable no-console */\n\nconst { transform } = require('../../../core/transforms/transform');\n\nmodule.exports = consoleTransportRendererFactory;\n\nconst consoleMethods = {\n  error: console.error,\n  warn: console.warn,\n  info: console.info,\n  verbose: console.info,\n  debug: console.debug,\n  silly: console.debug,\n  log: console.log,\n};\n\nfunction consoleTransportRendererFactory(logger) {\n  return Object.assign(transport, {\n    format: '{h}:{i}:{s}.{ms}{scope} › {text}',\n    transforms: [formatDataFn],\n\n    writeFn({ message: { level, data } }) {\n      const consoleLogFn = consoleMethods[level] || consoleMethods.info;\n\n      // make an empty call stack\n      setTimeout(() => consoleLogFn(...data));\n    },\n  });\n\n  function transport(message) {\n    transport.writeFn({\n      message: { ...message, data: transform({ logger, message, transport }) },\n    });\n  }\n}\n\nfunction formatDataFn({\n  data = [],\n  logger = {},\n  message = {},\n  transport = {},\n}) {\n  if (typeof transport.format === 'function') {\n    return transport.format({\n      data,\n      level: message?.level || 'info',\n      logger,\n      message,\n      transport,\n    });\n  }\n\n  if (typeof transport.format !== 'string') {\n    return data;\n  }\n\n  data.unshift(transport.format);\n\n  // Concatenate the first two data items to support printf-like templates\n  if (typeof data[1] === 'string' && data[1].match(/%[1cdfiOos]/)) {\n    data = [`${data[0]} ${data[1]}`, ...data.slice(2)];\n  }\n\n  const date = message.date || new Date();\n  data[0] = data[0]\n    .replace(/\\{(\\w+)}/g, (substring, name) => {\n      switch (name) {\n        case 'level': return message.level;\n        case 'logId': return message.logId;\n        case 'scope': {\n          const scope = message.scope || logger.scope?.defaultLabel;\n          return scope ? ` (${scope})` : '';\n        }\n        case 'text': return '';\n\n        case 'y': return date.getFullYear().toString(10);\n        case 'm': return (date.getMonth() + 1).toString(10)\n          .padStart(2, '0');\n        case 'd': return date.getDate().toString(10).padStart(2, '0');\n        case 'h': return date.getHours().toString(10).padStart(2, '0');\n        case 'i': return date.getMinutes().toString(10).padStart(2, '0');\n        case 's': return date.getSeconds().toString(10).padStart(2, '0');\n        case 'ms': return date.getMilliseconds().toString(10)\n          .padStart(3, '0');\n        case 'iso': return date.toISOString();\n\n        default: return message.variables?.[name] || substring;\n      }\n    })\n    .trim();\n\n  return data;\n}\n","'use strict';\n\nconst { transform } = require('../../../core/transforms/transform');\n\nmodule.exports = ipcTransportRendererFactory;\n\nconst RESTRICTED_TYPES = new Set([Promise, WeakMap, WeakSet]);\n\nfunction ipcTransportRendererFactory(logger) {\n  return Object.assign(transport, {\n    depth: 5,\n    transforms: [serializeFn],\n  });\n\n  function transport(message) {\n    if (!window.__electronLog) {\n      logger.processMessage(\n        {\n          data: ['electron-log: logger isn\\'t initialized in the main process'],\n          level: 'error',\n        },\n        { transports: ['console'] },\n      );\n      return;\n    }\n\n    try {\n      const serialized = transform({\n        initialData: message,\n        logger,\n        message,\n        transport,\n      });\n\n      __electronLog.sendToMain(serialized);\n    } catch (e) {\n      logger.transports.console({\n        data: ['electronLog.transports.ipc', e, 'data:', message.data],\n        level: 'error',\n      });\n    }\n  }\n}\n\n/**\n * Is type primitive, including null and undefined\n * @param {any} value\n * @returns {boolean}\n */\nfunction isPrimitive(value) {\n  return Object(value) !== value;\n}\n\nfunction serializeFn({\n  data,\n  depth,\n  seen = new WeakSet(),\n  transport = {},\n} = {}) {\n  const actualDepth = depth || transport.depth || 5;\n\n  if (seen.has(data)) {\n    return '[Circular]';\n  }\n\n  if (actualDepth < 1) {\n    if (isPrimitive(data)) {\n      return data;\n    }\n\n    if (Array.isArray(data)) {\n      return '[Array]';\n    }\n\n    return `[${typeof data}]`;\n  }\n\n  if (['function', 'symbol'].includes(typeof data)) {\n    return data.toString();\n  }\n\n  if (isPrimitive(data)) {\n    return data;\n  }\n\n  // Object types\n\n  if (RESTRICTED_TYPES.has(data.constructor)) {\n    return `[${data.constructor.name}]`;\n  }\n\n  if (Array.isArray(data)) {\n    return data.map((item) => serializeFn({\n      data: item,\n      depth: actualDepth - 1,\n      seen,\n    }));\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof Error) {\n    return data.stack;\n  }\n\n  if (data instanceof Map) {\n    return new Map(\n      Array\n        .from(data)\n        .map(([key, value]) => [\n          serializeFn({ data: key, depth: actualDepth - 1, seen }),\n          serializeFn({ data: value, depth: actualDepth - 1, seen }),\n        ]),\n    );\n  }\n\n  if (data instanceof Set) {\n    return new Set(\n      Array.from(data).map(\n        (val) => serializeFn({ data: val, depth: actualDepth - 1, seen }),\n      ),\n    );\n  }\n\n  seen.add(data);\n\n  return Object.fromEntries(\n    Object.entries(data).map(\n      ([key, value]) => [\n        key,\n        serializeFn({ data: value, depth: actualDepth - 1, seen }),\n      ],\n    ),\n  );\n}\n","'use strict';\n\nconst Logger = require('../core/Logger');\nconst RendererErrorHandler = require('./lib/RendererErrorHandler');\nconst transportConsole = require('./lib/transports/console');\nconst transportIpc = require('./lib/transports/ipc');\n\nmodule.exports = createLogger();\nmodule.exports.Logger = Logger;\nmodule.exports.default = module.exports;\n\nfunction createLogger() {\n  const logger = new Logger({\n    allowUnknownLevel: true,\n    errorHandler: new RendererErrorHandler(),\n    initializeFn: () => {},\n    logId: 'default',\n    transportFactories: {\n      console: transportConsole,\n      ipc: transportIpc,\n    },\n    variables: {\n      processType: 'renderer',\n    },\n  });\n\n  logger.errorHandler.setOptions({\n    logFn({ error, errorName, showDialog }) {\n      logger.transports.console({\n        data: [errorName, error].filter(Boolean),\n        level: 'error',\n      });\n      logger.transports.ipc({\n        cmd: 'errorHandler',\n        error: {\n          cause: error?.cause,\n          code: error?.code,\n          name: error?.name,\n          message: error?.message,\n          stack: error?.stack,\n        },\n        errorName,\n        logId: logger.logId,\n        showDialog,\n      });\n    },\n  });\n\n  if (typeof window === 'object') {\n    window.addEventListener('message', (event) => {\n      const { cmd, logId, ...message } = event.data || {};\n      const instance = Logger.getInstance({ logId });\n\n      if (cmd === 'message') {\n        instance.processMessage(message, { transports: ['console'] });\n      }\n    });\n  }\n\n  // To support custom levels\n  return new Proxy(logger, {\n    get(target, prop) {\n      if (typeof target[prop] !== 'undefined') {\n        return target[prop];\n      }\n\n      return (...data) => logger.logData(data, { level: prop });\n    },\n  });\n}\n","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\n\nmodule.exports = {\n  findAndReadPackageJson,\n  tryReadJsonAt,\n};\n\n/**\n * @return {{ name?: string, version?: string}}\n */\nfunction findAndReadPackageJson() {\n  return tryReadJsonAt(getMainModulePath())\n    || tryReadJsonAt(extractPathFromArgs())\n    || tryReadJsonAt(process.resourcesPath, 'app.asar')\n    || tryReadJsonAt(process.resourcesPath, 'app')\n    || tryReadJsonAt(process.cwd())\n    || { name: undefined, version: undefined };\n}\n\n/**\n * @param {...string} searchPaths\n * @return {{ name?: string, version?: string } | undefined}\n */\nfunction tryReadJsonAt(...searchPaths) {\n  if (!searchPaths[0]) {\n    return undefined;\n  }\n\n  try {\n    const searchPath = path.join(...searchPaths);\n    const fileName = findUp('package.json', searchPath);\n    if (!fileName) {\n      return undefined;\n    }\n\n    const json = JSON.parse(fs.readFileSync(fileName, 'utf8'));\n    const name = json?.productName || json?.name;\n    if (!name || name.toLowerCase() === 'electron') {\n      return undefined;\n    }\n\n    if (name) {\n      return { name, version: json?.version };\n    }\n\n    return undefined;\n  } catch (e) {\n    return undefined;\n  }\n}\n\n/**\n * @param {string} fileName\n * @param {string} [cwd]\n * @return {string | null}\n */\nfunction findUp(fileName, cwd) {\n  let currentPath = cwd;\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const parsedPath = path.parse(currentPath);\n    const root = parsedPath.root;\n    const dir = parsedPath.dir;\n\n    if (fs.existsSync(path.join(currentPath, fileName))) {\n      return path.resolve(path.join(currentPath, fileName));\n    }\n\n    if (currentPath === root) {\n      return null;\n    }\n\n    currentPath = dir;\n  }\n}\n\n/**\n * Get app path from --user-data-dir cmd arg, passed to a renderer process\n * @return {string|null}\n */\nfunction extractPathFromArgs() {\n  const matchedArgs = process.argv.filter((arg) => {\n    return arg.indexOf('--user-data-dir=') === 0;\n  });\n\n  if (matchedArgs.length === 0 || typeof matchedArgs[0] !== 'string') {\n    return null;\n  }\n\n  const userDataDir = matchedArgs[0];\n  return userDataDir.replace('--user-data-dir=', '');\n}\n\nfunction getMainModulePath() {\n  try {\n    // Requires isn't available in ESM\n    return require.main?.filename;\n  } catch {\n    return undefined;\n  }\n}\n","'use strict';\n\n/* eslint-disable no-unused-vars */\n\nconst childProcess = require('child_process');\nconst os = require('os');\nconst path = require('path');\nconst packageJson = require('./packageJson');\n\nclass NodeExternalApi {\n  appName = undefined;\n  appPackageJson = undefined;\n  platform = process.platform;\n\n  getAppLogPath(appName = this.getAppName()) {\n    if (this.platform === 'darwin') {\n      return path.join(this.getSystemPathHome(), 'Library/Logs', appName);\n    }\n\n    return path.join(this.getAppUserDataPath(appName), 'logs');\n  }\n\n  getAppName() {\n    const appName = this.appName || this.getAppPackageJson()?.name;\n    if (!appName) {\n      throw new Error(\n        'electron-log can\\'t determine the app name. It tried these methods:\\n'\n        + '1. Use `electron.app.name`\\n'\n        + '2. Use productName or name from the nearest package.json`\\n'\n        + 'You can also set it through log.transports.file.setAppName()',\n      );\n    }\n\n    return appName;\n  }\n\n  /**\n   * @private\n   * @returns {undefined}\n   */\n  getAppPackageJson() {\n    if (typeof this.appPackageJson !== 'object') {\n      this.appPackageJson = packageJson.findAndReadPackageJson();\n    }\n\n    return this.appPackageJson;\n  }\n\n  getAppUserDataPath(appName = this.getAppName()) {\n    return appName\n      ? path.join(this.getSystemPathAppData(), appName)\n      : undefined;\n  }\n\n  getAppVersion() {\n    return this.getAppPackageJson()?.version;\n  }\n\n  getElectronLogPath() {\n    return this.getAppLogPath();\n  }\n\n  getMacOsVersion() {\n    const release = Number(os.release().split('.')[0]);\n    if (release <= 19) {\n      return `10.${release - 4}`;\n    }\n\n    return release - 9;\n  }\n\n  /**\n   * @protected\n   * @returns {string}\n   */\n  getOsVersion() {\n    let osName = os.type().replace('_', ' ');\n    let osVersion = os.release();\n\n    if (osName === 'Darwin') {\n      osName = 'macOS';\n      osVersion = this.getMacOsVersion();\n    }\n\n    return `${osName} ${osVersion}`;\n  }\n\n  /**\n   * @return {PathVariables}\n   */\n  getPathVariables() {\n    const appName = this.getAppName();\n    const appVersion = this.getAppVersion();\n\n    const self = this;\n\n    return {\n      appData: this.getSystemPathAppData(),\n      appName,\n      appVersion,\n      get electronDefaultDir() {\n        return self.getElectronLogPath();\n      },\n      home: this.getSystemPathHome(),\n      libraryDefaultDir: this.getAppLogPath(appName),\n      libraryTemplate: this.getAppLogPath('{appName}'),\n      temp: this.getSystemPathTemp(),\n      userData: this.getAppUserDataPath(appName),\n    };\n  }\n\n  getSystemPathAppData() {\n    const home = this.getSystemPathHome();\n\n    switch (this.platform) {\n      case 'darwin': {\n        return path.join(home, 'Library/Application Support');\n      }\n\n      case 'win32': {\n        return process.env.APPDATA || path.join(home, 'AppData/Roaming');\n      }\n\n      default: {\n        return process.env.XDG_CONFIG_HOME || path.join(home, '.config');\n      }\n    }\n  }\n\n  getSystemPathHome() {\n    return os.homedir?.() || process.env.HOME;\n  }\n\n  getSystemPathTemp() {\n    return os.tmpdir();\n  }\n\n  getVersions() {\n    return {\n      app: `${this.getAppName()} ${this.getAppVersion()}`,\n      electron: undefined,\n      os: this.getOsVersion(),\n    };\n  }\n\n  isDev() {\n    return process.env.NODE_ENV === 'development'\n      || process.env.ELECTRON_IS_DEV === '1';\n  }\n\n  isElectron() {\n    return Boolean(process.versions.electron);\n  }\n\n  onAppEvent(_eventName, _handler) {\n    // Ignored in node.js\n  }\n\n  onAppReady(handler) {\n    handler();\n  }\n\n  onEveryWebContentsEvent(eventName, handler) {\n    // Ignored in node.js\n  }\n\n  /**\n   * Listen to async messages sent from opposite process\n   * @param {string} channel\n   * @param {function} listener\n   */\n  onIpc(channel, listener) {\n    // Ignored in node.js\n  }\n\n  onIpcInvoke(channel, listener) {\n    // Ignored in node.js\n  }\n\n  /**\n   * @param {string} url\n   * @param {Function} [logFunction]\n   */\n  openUrl(url, logFunction = console.error) { // eslint-disable-line no-console\n    const startMap = { darwin: 'open', win32: 'start', linux: 'xdg-open' };\n    const start = startMap[process.platform] || 'xdg-open';\n    childProcess.exec(`${start} ${url}`, {}, (err) => {\n      if (err) {\n        logFunction(err);\n      }\n    });\n  }\n\n  setAppName(appName) {\n    this.appName = appName;\n  }\n\n  setPlatform(platform) {\n    this.platform = platform;\n  }\n\n  setPreloadFileForSessions({\n    filePath, // eslint-disable-line no-unused-vars\n    includeFutureSession = true, // eslint-disable-line no-unused-vars\n    getSessions = () => [], // eslint-disable-line no-unused-vars\n  }) {\n    // Ignored in node.js\n  }\n\n  /**\n   * Sent a message to opposite process\n   * @param {string} channel\n   * @param {any} message\n   */\n  sendIpc(channel, message) {\n    // Ignored in node.js\n  }\n\n  showErrorBox(title, message) {\n    // Ignored in node.js\n  }\n}\n\nmodule.exports = NodeExternalApi;\n","'use strict';\n\nconst path = require('path');\nconst NodeExternalApi = require('../node/NodeExternalApi');\n\nclass ElectronExternalApi extends NodeExternalApi {\n  /**\n   * @type {typeof Electron}\n   */\n  electron = undefined;\n\n  /**\n   * @param {object} options\n   * @param {typeof Electron} [options.electron]\n   */\n  constructor({ electron } = {}) {\n    super();\n    this.electron = electron;\n  }\n\n  getAppName() {\n    let appName;\n    try {\n      appName = this.appName\n        || this.electron.app?.name\n        || this.electron.app?.getName();\n    } catch {\n      // fallback to default value below\n    }\n    return appName || super.getAppName();\n  }\n\n  getAppUserDataPath(appName) {\n    return this.getPath('userData') || super.getAppUserDataPath(appName);\n  }\n\n  getAppVersion() {\n    let appVersion;\n    try {\n      appVersion = this.electron.app?.getVersion();\n    } catch {\n      // fallback to default value below\n    }\n    return appVersion || super.getAppVersion();\n  }\n\n  getElectronLogPath() {\n    return this.getPath('logs') || super.getElectronLogPath();\n  }\n\n  /**\n   * @private\n   * @param {any} name\n   * @returns {string|undefined}\n   */\n  getPath(name) {\n    try {\n      return this.electron.app?.getPath(name);\n    } catch {\n      return undefined;\n    }\n  }\n\n  getVersions() {\n    return {\n      app: `${this.getAppName()} ${this.getAppVersion()}`,\n      electron: `Electron ${process.versions.electron}`,\n      os: this.getOsVersion(),\n    };\n  }\n\n  getSystemPathAppData() {\n    return this.getPath('appData') || super.getSystemPathAppData();\n  }\n\n  isDev() {\n    if (this.electron.app?.isPackaged !== undefined) {\n      return !this.electron.app.isPackaged;\n    }\n\n    if (typeof process.execPath === 'string') {\n      const execFileName = path.basename(process.execPath).toLowerCase();\n      return execFileName.startsWith('electron');\n    }\n\n    return super.isDev();\n  }\n\n  onAppEvent(eventName, handler) {\n    this.electron.app?.on(eventName, handler);\n\n    return () => {\n      this.electron.app?.off(eventName, handler);\n    };\n  }\n\n  onAppReady(handler) {\n    if (this.electron.app?.isReady()) {\n      handler();\n    } else if (this.electron.app?.once) {\n      this.electron.app?.once('ready', handler);\n    } else {\n      handler();\n    }\n  }\n\n  onEveryWebContentsEvent(eventName, handler) {\n    this.electron.webContents?.getAllWebContents()?.forEach((webContents) => {\n      webContents.on(eventName, handler);\n    });\n\n    this.electron.app?.on('web-contents-created', onWebContentsCreated);\n\n    return () => {\n      this.electron.webContents?.getAllWebContents().forEach((webContents) => {\n        webContents.off(eventName, handler);\n      });\n\n      this.electron.app?.off('web-contents-created', onWebContentsCreated);\n    };\n\n    function onWebContentsCreated(_, webContents) {\n      webContents.on(eventName, handler);\n    }\n  }\n\n  /**\n   * Listen to async messages sent from opposite process\n   * @param {string} channel\n   * @param {function} listener\n   */\n  onIpc(channel, listener) {\n    this.electron.ipcMain?.on(channel, listener);\n  }\n\n  onIpcInvoke(channel, listener) {\n    this.electron.ipcMain?.handle?.(channel, listener);\n  }\n\n  /**\n   * @param {string} url\n   * @param {Function} [logFunction]\n   */\n  openUrl(url, logFunction = console.error) { // eslint-disable-line no-console\n    this.electron.shell?.openExternal(url).catch(logFunction);\n  }\n\n  setPreloadFileForSessions({\n    filePath,\n    includeFutureSession = true,\n    getSessions = () => [this.electron.session?.defaultSession],\n  }) {\n    for (const session of getSessions().filter(Boolean)) {\n      setPreload(session);\n    }\n\n    if (includeFutureSession) {\n      this.onAppEvent('session-created', (session) => {\n        setPreload(session);\n      });\n    }\n\n    /**\n     * @param {Session} session\n     */\n    function setPreload(session) {\n      if (typeof session.registerPreloadScript === 'function') {\n        session.registerPreloadScript({\n          filePath,\n          id: 'electron-log-preload',\n          type: 'frame',\n        });\n      } else {\n        session.setPreloads([...session.getPreloads(), filePath]);\n      }\n    }\n  }\n\n  /**\n   * Sent a message to opposite process\n   * @param {string} channel\n   * @param {any} message\n   */\n  sendIpc(channel, message) {\n    this.electron.BrowserWindow?.getAllWindows()?.forEach((wnd) => {\n      if (\n        wnd.webContents?.isDestroyed() === false\n        && wnd.webContents?.isCrashed() === false\n      ) {\n        wnd.webContents.send(channel, message);\n      }\n    });\n  }\n\n  showErrorBox(title, message) {\n    this.electron.dialog?.showErrorBox(title, message);\n  }\n}\n\nmodule.exports = ElectronExternalApi;\n","'use strict';\n\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst preloadInitializeFn = require('../renderer/electron-log-preload');\n\nmodule.exports = {\n  initialize({\n    externalApi,\n    getSessions,\n    includeFutureSession,\n    logger,\n    preload = true,\n    spyRendererConsole = false,\n  }) {\n    externalApi.onAppReady(() => {\n      try {\n        if (preload) {\n          initializePreload({\n            externalApi,\n            getSessions,\n            includeFutureSession,\n            preloadOption: preload,\n          });\n        }\n\n        if (spyRendererConsole) {\n          initializeSpyRendererConsole({ externalApi, logger });\n        }\n      } catch (err) {\n        logger.warn(err);\n      }\n    });\n  },\n};\n\nfunction initializePreload({\n  externalApi,\n  getSessions,\n  includeFutureSession,\n  preloadOption,\n}) {\n  let preloadPath = typeof preloadOption === 'string'\n    ? preloadOption\n    : undefined;\n\n  try {\n    preloadPath = path.resolve(\n      __dirname,\n      '../renderer/electron-log-preload.js',\n    );\n  } catch {\n    // Ignore, the file is bundled to ESM\n  }\n\n  if (!preloadPath || !fs.existsSync(preloadPath)) {\n    preloadPath = path.join(\n      externalApi.getAppUserDataPath() || os.tmpdir(),\n      'electron-log-preload.js',\n    );\n    const preloadCode = `\n      try {\n        (${preloadInitializeFn.toString()})(require('electron'));\n      } catch(e) {\n        console.error(e);\n      }\n    `;\n    fs.writeFileSync(preloadPath, preloadCode, 'utf8');\n  }\n\n  externalApi.setPreloadFileForSessions({\n    filePath: preloadPath,\n    includeFutureSession,\n    getSessions,\n  });\n}\n\nfunction initializeSpyRendererConsole({ externalApi, logger }) {\n  const levels = ['debug', 'info', 'warn', 'error'];\n  externalApi.onEveryWebContentsEvent(\n    'console-message',\n    (event, level, message) => {\n      logger.processMessage({\n        data: [message],\n        level: levels[level],\n        variables: { processType: 'renderer' },\n      });\n    },\n  );\n}\n","'use strict';\n\nclass ErrorHandler {\n  externalApi = undefined;\n  isActive = false;\n  logFn = undefined;\n  onError = undefined;\n  showDialog = true;\n\n  constructor({\n    externalApi,\n    logFn = undefined,\n    onError = undefined,\n    showDialog = undefined,\n  } = {}) {\n    this.createIssue = this.createIssue.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.handleRejection = this.handleRejection.bind(this);\n    this.setOptions({ externalApi, logFn, onError, showDialog });\n    this.startCatching = this.startCatching.bind(this);\n    this.stopCatching = this.stopCatching.bind(this);\n  }\n\n  handle(error, {\n    logFn = this.logFn,\n    onError = this.onError,\n    processType = 'browser',\n    showDialog = this.showDialog,\n    errorName = '',\n  } = {}) {\n    error = normalizeError(error);\n\n    try {\n      if (typeof onError === 'function') {\n        const versions = this.externalApi?.getVersions() || {};\n        const createIssue = this.createIssue;\n        const result = onError({\n          createIssue,\n          error,\n          errorName,\n          processType,\n          versions,\n        });\n        if (result === false) {\n          return;\n        }\n      }\n\n      errorName ? logFn(errorName, error) : logFn(error);\n\n      if (showDialog && !errorName.includes('rejection') && this.externalApi) {\n        this.externalApi.showErrorBox(\n          `A JavaScript error occurred in the ${processType} process`,\n          error.stack,\n        );\n      }\n    } catch {\n      console.error(error); // eslint-disable-line no-console\n    }\n  }\n\n  setOptions({ externalApi, logFn, onError, showDialog }) {\n    if (typeof externalApi === 'object') {\n      this.externalApi = externalApi;\n    }\n\n    if (typeof logFn === 'function') {\n      this.logFn = logFn;\n    }\n\n    if (typeof onError === 'function') {\n      this.onError = onError;\n    }\n\n    if (typeof showDialog === 'boolean') {\n      this.showDialog = showDialog;\n    }\n  }\n\n  startCatching({ onError, showDialog } = {}) {\n    if (this.isActive) {\n      return;\n    }\n\n    this.isActive = true;\n    this.setOptions({ onError, showDialog });\n    process.on('uncaughtException', this.handleError);\n    process.on('unhandledRejection', this.handleRejection);\n  }\n\n  stopCatching() {\n    this.isActive = false;\n    process.removeListener('uncaughtException', this.handleError);\n    process.removeListener('unhandledRejection', this.handleRejection);\n  }\n\n  createIssue(pageUrl, queryParams) {\n    this.externalApi?.openUrl(\n      `${pageUrl}?${new URLSearchParams(queryParams).toString()}`,\n    );\n  }\n\n  handleError(error) {\n    this.handle(error, { errorName: 'Unhandled' });\n  }\n\n  handleRejection(reason) {\n    const error = reason instanceof Error\n      ? reason\n      : new Error(JSON.stringify(reason));\n    this.handle(error, { errorName: 'Unhandled rejection' });\n  }\n}\n\nfunction normalizeError(e) {\n  if (e instanceof Error) {\n    return e;\n  }\n\n  if (e && typeof e === 'object') {\n    if (e.message) {\n      return Object.assign(new Error(e.message), e);\n    }\n    try {\n      return new Error(JSON.stringify(e));\n    } catch (serErr) {\n      return new Error(`Couldn't normalize error ${String(e)}: ${serErr}`);\n    }\n  }\n\n  return new Error(`Can't normalize error ${String(e)}`);\n}\n\nmodule.exports = ErrorHandler;\n","'use strict';\n\nclass EventLogger {\n  disposers = [];\n  format = '{eventSource}#{eventName}:';\n  formatters = {\n    app: {\n      'certificate-error': ({ args }) => {\n        return this.arrayToObject(args.slice(1, 4), [\n          'url',\n          'error',\n          'certificate',\n        ]);\n      },\n      'child-process-gone': ({ args }) => {\n        return args.length === 1 ? args[0] : args;\n      },\n      'render-process-gone': ({ args: [webContents, details] }) => {\n        return details && typeof details === 'object'\n          ? { ...details, ...this.getWebContentsDetails(webContents) }\n          : [];\n      },\n    },\n\n    webContents: {\n      'console-message': ({ args: [level, message, line, sourceId] }) => {\n        // 0: debug, 1: info, 2: warning, 3: error\n        if (level < 3) {\n          return undefined;\n        }\n\n        return { message, source: `${sourceId}:${line}` };\n      },\n      'did-fail-load': ({ args }) => {\n        return this.arrayToObject(args, [\n          'errorCode',\n          'errorDescription',\n          'validatedURL',\n          'isMainFrame',\n          'frameProcessId',\n          'frameRoutingId',\n        ]);\n      },\n      'did-fail-provisional-load': ({ args }) => {\n        return this.arrayToObject(args, [\n          'errorCode',\n          'errorDescription',\n          'validatedURL',\n          'isMainFrame',\n          'frameProcessId',\n          'frameRoutingId',\n        ]);\n      },\n      'plugin-crashed': ({ args }) => {\n        return this.arrayToObject(args, ['name', 'version']);\n      },\n      'preload-error': ({ args }) => {\n        return this.arrayToObject(args, ['preloadPath', 'error']);\n      },\n    },\n  };\n\n  events = {\n    app: {\n      'certificate-error': true,\n      'child-process-gone': true,\n      'render-process-gone': true,\n    },\n\n    webContents: {\n      // 'console-message': true,\n      'did-fail-load': true,\n      'did-fail-provisional-load': true,\n      'plugin-crashed': true,\n      'preload-error': true,\n      'unresponsive': true,\n    },\n  };\n\n  externalApi = undefined;\n  level = 'error';\n  scope = '';\n\n  constructor(options = {}) {\n    this.setOptions(options);\n  }\n\n  setOptions({\n    events,\n    externalApi,\n    level,\n    logger,\n    format,\n    formatters,\n    scope,\n  }) {\n    if (typeof events === 'object') {\n      this.events = events;\n    }\n\n    if (typeof externalApi === 'object') {\n      this.externalApi = externalApi;\n    }\n\n    if (typeof level === 'string') {\n      this.level = level;\n    }\n\n    if (typeof logger === 'object') {\n      this.logger = logger;\n    }\n\n    if (typeof format === 'string' || typeof format === 'function') {\n      this.format = format;\n    }\n\n    if (typeof formatters === 'object') {\n      this.formatters = formatters;\n    }\n\n    if (typeof scope === 'string') {\n      this.scope = scope;\n    }\n  }\n\n  startLogging(options = {}) {\n    this.setOptions(options);\n\n    this.disposeListeners();\n\n    for (const eventName of this.getEventNames(this.events.app)) {\n      this.disposers.push(\n        this.externalApi.onAppEvent(eventName, (...handlerArgs) => {\n          this.handleEvent({ eventSource: 'app', eventName, handlerArgs });\n        }),\n      );\n    }\n\n    for (const eventName of this.getEventNames(this.events.webContents)) {\n      this.disposers.push(\n        this.externalApi.onEveryWebContentsEvent(\n          eventName,\n          (...handlerArgs) => {\n            this.handleEvent(\n              { eventSource: 'webContents', eventName, handlerArgs },\n            );\n          },\n        ),\n      );\n    }\n  }\n\n  stopLogging() {\n    this.disposeListeners();\n  }\n\n  arrayToObject(array, fieldNames) {\n    const obj = {};\n\n    fieldNames.forEach((fieldName, index) => {\n      obj[fieldName] = array[index];\n    });\n\n    if (array.length > fieldNames.length) {\n      obj.unknownArgs = array.slice(fieldNames.length);\n    }\n\n    return obj;\n  }\n\n  disposeListeners() {\n    this.disposers.forEach((disposer) => disposer());\n    this.disposers = [];\n  }\n\n  formatEventLog({ eventName, eventSource, handlerArgs }) {\n    const [event, ...args] = handlerArgs;\n    if (typeof this.format === 'function') {\n      return this.format({ args, event, eventName, eventSource });\n    }\n\n    const formatter = this.formatters[eventSource]?.[eventName];\n    let formattedArgs = args;\n    if (typeof formatter === 'function') {\n      formattedArgs = formatter({ args, event, eventName, eventSource });\n    }\n\n    if (!formattedArgs) {\n      return undefined;\n    }\n\n    const eventData = {};\n\n    if (Array.isArray(formattedArgs)) {\n      eventData.args = formattedArgs;\n    } else if (typeof formattedArgs === 'object') {\n      Object.assign(eventData, formattedArgs);\n    }\n\n    if (eventSource === 'webContents') {\n      Object.assign(eventData, this.getWebContentsDetails(event?.sender));\n    }\n\n    const title = this.format\n      .replace('{eventSource}', eventSource === 'app' ? 'App' : 'WebContents')\n      .replace('{eventName}', eventName);\n\n    return [title, eventData];\n  }\n\n  getEventNames(eventMap) {\n    if (!eventMap || typeof eventMap !== 'object') {\n      return [];\n    }\n\n    return Object.entries(eventMap)\n      .filter(([_, listen]) => listen)\n      .map(([eventName]) => eventName);\n  }\n\n  getWebContentsDetails(webContents) {\n    if (!webContents?.loadURL) {\n      return {};\n    }\n\n    try {\n      return {\n        webContents: {\n          id: webContents.id,\n          url: webContents.getURL(),\n        },\n      };\n    } catch {\n      return {};\n    }\n  }\n\n  handleEvent({ eventName, eventSource, handlerArgs }) {\n    const log = this.formatEventLog({ eventName, eventSource, handlerArgs });\n    if (log) {\n      const logFns = this.scope ? this.logger.scope(this.scope) : this.logger;\n      logFns?.[this.level]?.(...log);\n    }\n  }\n}\n\nmodule.exports = EventLogger;\n","'use strict';\n\nconst { transform } = require('./transform');\n\nmodule.exports = {\n  concatFirstStringElements,\n  formatScope,\n  formatText,\n  formatVariables,\n  timeZoneFromOffset,\n\n  format({ message, logger, transport, data = message?.data }) {\n    switch (typeof transport.format) {\n      case 'string': {\n        return transform({\n          message,\n          logger,\n          transforms: [formatVariables, formatScope, formatText],\n          transport,\n          initialData: [transport.format, ...data],\n        });\n      }\n\n      case 'function': {\n        return transport.format({\n          data,\n          level: message?.level || 'info',\n          logger,\n          message,\n          transport,\n        });\n      }\n\n      default: {\n        return data;\n      }\n    }\n  },\n};\n\n/**\n * The first argument of console.log may contain a template. In the library\n * the first element is a string related to transports.console.format. So\n * this function concatenates first two elements to make templates like %d\n * work\n * @param {*[]} data\n * @return {*[]}\n */\nfunction concatFirstStringElements({ data }) {\n  if (typeof data[0] !== 'string' || typeof data[1] !== 'string') {\n    return data;\n  }\n\n  if (data[0].match(/%[1cdfiOos]/)) {\n    return data;\n  }\n\n  return [`${data[0]} ${data[1]}`, ...data.slice(2)];\n}\n\nfunction timeZoneFromOffset(minutesOffset) {\n  const minutesPositive = Math.abs(minutesOffset);\n  const sign = minutesOffset > 0 ? '-' : '+';\n  const hours = Math.floor(minutesPositive / 60).toString().padStart(2, '0');\n  const minutes = (minutesPositive % 60).toString().padStart(2, '0');\n  return `${sign}${hours}:${minutes}`;\n}\n\nfunction formatScope({ data, logger, message }) {\n  const { defaultLabel, labelLength } = logger?.scope || {};\n  const template = data[0];\n  let label = message.scope;\n\n  if (!label) {\n    label = defaultLabel;\n  }\n\n  let scopeText;\n  if (label === '') {\n    scopeText = labelLength > 0 ? ''.padEnd(labelLength + 3) : '';\n  } else if (typeof label === 'string') {\n    scopeText = ` (${label})`.padEnd(labelLength + 3);\n  } else {\n    scopeText = '';\n  }\n\n  data[0] = template.replace('{scope}', scopeText);\n  return data;\n}\n\nfunction formatVariables({ data, message }) {\n  let template = data[0];\n  if (typeof template !== 'string') {\n    return data;\n  }\n\n  // Add additional space to the end of {level}] template to align messages\n  template = template.replace('{level}]', `${message.level}]`.padEnd(6, ' '));\n\n  const date = message.date || new Date();\n  data[0] = template\n    .replace(/\\{(\\w+)}/g, (substring, name) => {\n      switch (name) {\n        case 'level': return message.level || 'info';\n        case 'logId': return message.logId;\n\n        case 'y': return date.getFullYear().toString(10);\n        case 'm': return (date.getMonth() + 1).toString(10).padStart(2, '0');\n        case 'd': return date.getDate().toString(10).padStart(2, '0');\n        case 'h': return date.getHours().toString(10).padStart(2, '0');\n        case 'i': return date.getMinutes().toString(10).padStart(2, '0');\n        case 's': return date.getSeconds().toString(10).padStart(2, '0');\n        case 'ms': return date.getMilliseconds().toString(10).padStart(3, '0');\n        case 'z': return timeZoneFromOffset(date.getTimezoneOffset());\n        case 'iso': return date.toISOString();\n\n        default: {\n          return message.variables?.[name] || substring;\n        }\n      }\n    })\n    .trim();\n\n  return data;\n}\n\nfunction formatText({ data }) {\n  const template = data[0];\n  if (typeof template !== 'string') {\n    return data;\n  }\n\n  const textTplPosition = template.lastIndexOf('{text}');\n  if (textTplPosition === template.length - 6) {\n    data[0] = template.replace(/\\s?{text}/, '');\n    if (data[0] === '') {\n      data.shift();\n    }\n\n    return data;\n  }\n\n  const templatePieces = template.split('{text}');\n  let result = [];\n\n  if (templatePieces[0] !== '') {\n    result.push(templatePieces[0]);\n  }\n\n  result = result.concat(data.slice(1));\n\n  if (templatePieces[1] !== '') {\n    result.push(templatePieces[1]);\n  }\n\n  return result;\n}\n","'use strict';\n\nconst util = require('util');\n\nmodule.exports = {\n  serialize,\n\n  maxDepth({ data, transport, depth = transport?.depth ?? 6 }) {\n    if (!data) {\n      return data;\n    }\n\n    if (depth < 1) {\n      if (Array.isArray(data)) return '[array]';\n      if (typeof data === 'object' && data) return '[object]';\n\n      return data;\n    }\n\n    if (Array.isArray(data)) {\n      return data.map((child) => module.exports.maxDepth({\n        data: child,\n        depth: depth - 1,\n      }));\n    }\n\n    if (typeof data !== 'object') {\n      return data;\n    }\n\n    if (data && typeof data.toISOString === 'function') {\n      return data;\n    }\n\n    // noinspection PointlessBooleanExpressionJS\n    if (data === null) {\n      return null;\n    }\n\n    if (data instanceof Error) {\n      return data;\n    }\n\n    const newJson = {};\n    for (const i in data) {\n      if (!Object.prototype.hasOwnProperty.call(data, i)) continue;\n      newJson[i] = module.exports.maxDepth({\n        data: data[i],\n        depth: depth - 1,\n      });\n    }\n\n    return newJson;\n  },\n\n  toJSON({ data }) {\n    return JSON.parse(JSON.stringify(data, createSerializer()));\n  },\n\n  toString({ data, transport }) {\n    const inspectOptions = transport?.inspectOptions || {};\n\n    const simplifiedData = data.map((item) => {\n      if (item === undefined) {\n        return undefined;\n      }\n\n      try {\n        const str = JSON.stringify(item, createSerializer(), '  ');\n        return str === undefined ? undefined : JSON.parse(str);\n      } catch (e) {\n        // There are some rare cases when an item can't be simplified.\n        // In that case, it's fine to pass it to util.format directly.\n        return item;\n      }\n    });\n\n    return util.formatWithOptions(inspectOptions, ...simplifiedData);\n  },\n};\n\n/**\n * @param {object} options?\n * @param {boolean} options.serializeMapAndSet?\n * @return {function}\n */\nfunction createSerializer(options = {}) {\n  const seen = new WeakSet();\n\n  return function (key, value) {\n    if (typeof value === 'object' && value !== null) {\n      if (seen.has(value)) {\n        return undefined;\n      }\n\n      seen.add(value);\n    }\n\n    return serialize(key, value, options);\n  };\n}\n\n/**\n * @param {string} key\n * @param {any} value\n * @param {object} options?\n * @return {any}\n */\nfunction serialize(key, value, options = {}) {\n  const serializeMapAndSet = options?.serializeMapAndSet !== false;\n\n  if (value instanceof Error) {\n    return value.stack;\n  }\n\n  if (!value) {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return `[function] ${value.toString()}`;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (serializeMapAndSet && value instanceof Map && Object.fromEntries) {\n    return Object.fromEntries(value);\n  }\n\n  if (serializeMapAndSet && value instanceof Set && Array.from) {\n    return Array.from(value);\n  }\n\n  return value;\n}\n","'use strict';\n\nmodule.exports = {\n  transformStyles,\n\n  applyAnsiStyles({ data }) {\n    return transformStyles(data, styleToAnsi, resetAnsiStyle);\n  },\n\n  removeStyles({ data }) {\n    return transformStyles(data, () => '');\n  },\n};\n\nconst ANSI_COLORS = {\n  unset: '\\x1b[0m',\n  black: '\\x1b[30m',\n  red: '\\x1b[31m',\n  green: '\\x1b[32m',\n  yellow: '\\x1b[33m',\n  blue: '\\x1b[34m',\n  magenta: '\\x1b[35m',\n  cyan: '\\x1b[36m',\n  white: '\\x1b[37m',\n};\n\nfunction styleToAnsi(style) {\n  const color = style.replace(/color:\\s*(\\w+).*/, '$1').toLowerCase();\n  return ANSI_COLORS[color] || '';\n}\n\nfunction resetAnsiStyle(string) {\n  return string + ANSI_COLORS.unset;\n}\n\nfunction transformStyles(data, onStyleFound, onStyleApplied) {\n  const foundStyles = {};\n\n  return data.reduce((result, item, index, array) => {\n    if (foundStyles[index]) {\n      return result;\n    }\n\n    if (typeof item === 'string') {\n      let valueIndex = index;\n      let styleApplied = false;\n\n      item = item.replace(/%[1cdfiOos]/g, (match) => {\n        valueIndex += 1;\n\n        if (match !== '%c') {\n          return match;\n        }\n\n        const style = array[valueIndex];\n        if (typeof style === 'string') {\n          foundStyles[valueIndex] = true;\n          styleApplied = true;\n          return onStyleFound(style, item);\n        }\n\n        return match;\n      });\n\n      if (styleApplied && onStyleApplied) {\n        item = onStyleApplied(item);\n      }\n    }\n\n    result.push(item);\n    return result;\n  }, []);\n}\n","'use strict';\n\n/* eslint-disable no-console */\n\nconst {\n  concatFirstStringElements,\n  format,\n} = require('../../core/transforms/format');\nconst { maxDepth, toJSON } = require('../transforms/object');\nconst {\n  applyAnsiStyles,\n  removeStyles,\n} = require('../../core/transforms/style');\nconst { transform } = require('../../core/transforms/transform');\n\nconst consoleMethods = {\n  error: console.error,\n  warn: console.warn,\n  info: console.info,\n  verbose: console.info,\n  debug: console.debug,\n  silly: console.debug,\n  log: console.log,\n};\n\nmodule.exports = consoleTransportFactory;\n\nconst separator = process.platform === 'win32' ? '>' : '›';\nconst DEFAULT_FORMAT = `%c{h}:{i}:{s}.{ms}{scope}%c ${separator} {text}`;\n\nObject.assign(consoleTransportFactory, {\n  DEFAULT_FORMAT,\n});\n\nfunction consoleTransportFactory(logger) {\n  return Object.assign(transport, {\n    format: DEFAULT_FORMAT,\n    level: 'silly',\n    transforms: [\n      addTemplateColors,\n      format,\n      formatStyles,\n      concatFirstStringElements,\n      maxDepth,\n      toJSON,\n    ],\n    useStyles: process.env.FORCE_STYLES,\n\n    writeFn({ message }) {\n      const consoleLogFn = consoleMethods[message.level] || consoleMethods.info;\n      consoleLogFn(...message.data);\n    },\n  });\n\n  function transport(message) {\n    const data = transform({ logger, message, transport });\n    transport.writeFn({\n      message: { ...message, data },\n    });\n  }\n}\n\nfunction addTemplateColors({ data, message, transport }) {\n  if (transport.format !== DEFAULT_FORMAT) {\n    return data;\n  }\n\n  return [`color:${levelToStyle(message.level)}`, 'color:unset', ...data];\n}\n\nfunction canUseStyles(useStyleValue, level) {\n  if (typeof useStyleValue === 'boolean') {\n    return useStyleValue;\n  }\n\n  const useStderr = level === 'error' || level === 'warn';\n  const stream = useStderr ? process.stderr : process.stdout;\n  return stream && stream.isTTY;\n}\n\nfunction formatStyles(args) {\n  const { message, transport } = args;\n  const useStyles = canUseStyles(transport.useStyles, message.level);\n  const nextTransform = useStyles ? applyAnsiStyles : removeStyles;\n  return nextTransform(args);\n}\n\nfunction levelToStyle(level) {\n  const map = { error: 'red', warn: 'yellow', info: 'cyan', default: 'unset' };\n  return map[level] || map.default;\n}\n","'use strict';\n\nconst EventEmitter = require('events');\nconst fs = require('fs');\nconst os = require('os');\n\nclass File extends EventEmitter {\n  asyncWriteQueue = [];\n  bytesWritten = 0;\n  hasActiveAsyncWriting = false;\n  path = null;\n  initialSize = undefined;\n  writeOptions = null;\n  writeAsync = false;\n\n  constructor({\n    path,\n    writeOptions = { encoding: 'utf8', flag: 'a', mode: 0o666 },\n    writeAsync = false,\n  }) {\n    super();\n\n    this.path = path;\n    this.writeOptions = writeOptions;\n    this.writeAsync = writeAsync;\n  }\n\n  get size() {\n    return this.getSize();\n  }\n\n  clear() {\n    try {\n      fs.writeFileSync(this.path, '', {\n        mode: this.writeOptions.mode,\n        flag: 'w',\n      });\n      this.reset();\n      return true;\n    } catch (e) {\n      if (e.code === 'ENOENT') {\n        return true;\n      }\n\n      this.emit('error', e, this);\n      return false;\n    }\n  }\n\n  crop(bytesAfter) {\n    try {\n      const content = readFileSyncFromEnd(this.path, bytesAfter || 4096);\n      this.clear();\n      this.writeLine(`[log cropped]${os.EOL}${content}`);\n    } catch (e) {\n      this.emit(\n        'error',\n        new Error(`Couldn't crop file ${this.path}. ${e.message}`),\n        this,\n      );\n    }\n  }\n\n  getSize() {\n    if (this.initialSize === undefined) {\n      try {\n        const stats = fs.statSync(this.path);\n        this.initialSize = stats.size;\n      } catch (e) {\n        this.initialSize = 0;\n      }\n    }\n\n    return this.initialSize + this.bytesWritten;\n  }\n\n  increaseBytesWrittenCounter(text) {\n    this.bytesWritten += Buffer.byteLength(text, this.writeOptions.encoding);\n  }\n\n  isNull() {\n    return false;\n  }\n\n  nextAsyncWrite() {\n    const file = this;\n\n    if (this.hasActiveAsyncWriting || this.asyncWriteQueue.length === 0) {\n      return;\n    }\n\n    const text = this.asyncWriteQueue.join('');\n    this.asyncWriteQueue = [];\n    this.hasActiveAsyncWriting = true;\n\n    fs.writeFile(this.path, text, this.writeOptions, (e) => {\n      file.hasActiveAsyncWriting = false;\n\n      if (e) {\n        file.emit(\n          'error',\n          new Error(`Couldn't write to ${file.path}. ${e.message}`),\n          this,\n        );\n      } else {\n        file.increaseBytesWrittenCounter(text);\n      }\n\n      file.nextAsyncWrite();\n    });\n  }\n\n  reset() {\n    this.initialSize = undefined;\n    this.bytesWritten = 0;\n  }\n\n  toString() {\n    return this.path;\n  }\n\n  writeLine(text) {\n    text += os.EOL;\n\n    if (this.writeAsync) {\n      this.asyncWriteQueue.push(text);\n      this.nextAsyncWrite();\n      return;\n    }\n\n    try {\n      fs.writeFileSync(this.path, text, this.writeOptions);\n      this.increaseBytesWrittenCounter(text);\n    } catch (e) {\n      this.emit(\n        'error',\n        new Error(`Couldn't write to ${this.path}. ${e.message}`),\n        this,\n      );\n    }\n  }\n}\n\nmodule.exports = File;\n\nfunction readFileSyncFromEnd(filePath, bytesCount) {\n  const buffer = Buffer.alloc(bytesCount);\n  const stats = fs.statSync(filePath);\n\n  const readLength = Math.min(stats.size, bytesCount);\n  const offset = Math.max(0, stats.size - bytesCount);\n\n  const fd = fs.openSync(filePath, 'r');\n  const totalBytes = fs.readSync(fd, buffer, 0, readLength, offset);\n  fs.closeSync(fd);\n\n  return buffer.toString('utf8', 0, totalBytes);\n}\n","'use strict';\n\nconst File = require('./File');\n\nclass NullFile extends File {\n  clear() {\n\n  }\n\n  crop() {\n\n  }\n\n  getSize() {\n    return 0;\n  }\n\n  isNull() {\n    return true;\n  }\n\n  writeLine() {\n\n  }\n}\n\nmodule.exports = NullFile;\n","'use strict';\n\nconst EventEmitter = require('events');\nconst fs = require('fs');\nconst path = require('path');\nconst File = require('./File');\nconst NullFile = require('./NullFile');\n\nclass FileRegistry extends EventEmitter {\n  store = {};\n\n  constructor() {\n    super();\n    this.emitError = this.emitError.bind(this);\n  }\n\n  /**\n   * Provide a File object corresponding to the filePath\n   * @param {string} filePath\n   * @param {WriteOptions} [writeOptions]\n   * @param {boolean} [writeAsync]\n   * @return {File}\n   */\n  provide({ filePath, writeOptions = {}, writeAsync = false }) {\n    let file;\n    try {\n      filePath = path.resolve(filePath);\n\n      if (this.store[filePath]) {\n        return this.store[filePath];\n      }\n\n      file = this.createFile({ filePath, writeOptions, writeAsync });\n    } catch (e) {\n      file = new NullFile({ path: filePath });\n      this.emitError(e, file);\n    }\n\n    file.on('error', this.emitError);\n    this.store[filePath] = file;\n    return file;\n  }\n\n  /**\n   * @param {string} filePath\n   * @param {WriteOptions} writeOptions\n   * @param {boolean} async\n   * @return {File}\n   * @private\n   */\n  createFile({ filePath, writeOptions, writeAsync }) {\n    this.testFileWriting({ filePath, writeOptions });\n    return new File({ path: filePath, writeOptions, writeAsync });\n  }\n\n  /**\n   * @param {Error} error\n   * @param {File} file\n   * @private\n   */\n  emitError(error, file) {\n    this.emit('error', error, file);\n  }\n\n  /**\n   * @param {string} filePath\n   * @param {WriteOptions} writeOptions\n   * @private\n   */\n  testFileWriting({ filePath, writeOptions }) {\n    fs.mkdirSync(path.dirname(filePath), { recursive: true });\n    fs.writeFileSync(filePath, '', { flag: 'a', mode: writeOptions.mode });\n  }\n}\n\nmodule.exports = FileRegistry;\n","'use strict';\n\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst FileRegistry = require('./FileRegistry');\nconst { transform } = require('../../../core/transforms/transform');\nconst { removeStyles } = require('../../../core/transforms/style');\nconst {\n  format,\n  concatFirstStringElements,\n} = require('../../../core/transforms/format');\nconst { toString } = require('../../transforms/object');\n\nmodule.exports = fileTransportFactory;\n\n// Shared between multiple file transport instances\nconst globalRegistry = new FileRegistry();\n\nfunction fileTransportFactory(\n  logger,\n  { registry = globalRegistry, externalApi } = {},\n) {\n  /** @type {PathVariables} */\n  let pathVariables;\n\n  if (registry.listenerCount('error') < 1) {\n    registry.on('error', (e, file) => {\n      logConsole(`Can't write to ${file}`, e);\n    });\n  }\n\n  return Object.assign(transport, {\n    fileName: getDefaultFileName(logger.variables.processType),\n    format: '[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}',\n    getFile,\n    inspectOptions: { depth: 5 },\n    level: 'silly',\n    maxSize: 1024 ** 2,\n    readAllLogs,\n    sync: true,\n    transforms: [removeStyles, format, concatFirstStringElements, toString],\n    writeOptions: { flag: 'a', mode: 0o666, encoding: 'utf8' },\n\n    archiveLogFn(file) {\n      const oldPath = file.toString();\n      const inf = path.parse(oldPath);\n      try {\n        fs.renameSync(oldPath, path.join(inf.dir, `${inf.name}.old${inf.ext}`));\n      } catch (e) {\n        logConsole('Could not rotate log', e);\n        const quarterOfMaxSize = Math.round(transport.maxSize / 4);\n        file.crop(Math.min(quarterOfMaxSize, 256 * 1024));\n      }\n    },\n\n    resolvePathFn(vars) {\n      return path.join(vars.libraryDefaultDir, vars.fileName);\n    },\n\n    setAppName(name) {\n      logger.dependencies.externalApi.setAppName(name);\n    },\n  });\n\n  function transport(message) {\n    const file = getFile(message);\n\n    const needLogRotation = transport.maxSize > 0\n      && file.size > transport.maxSize;\n\n    if (needLogRotation) {\n      transport.archiveLogFn(file);\n      file.reset();\n    }\n\n    const content = transform({ logger, message, transport });\n    file.writeLine(content);\n  }\n\n  function initializeOnFirstAccess() {\n    if (pathVariables) {\n      return;\n    }\n\n    // Make a shallow copy of pathVariables to keep getters intact\n    pathVariables = Object.create(\n      Object.prototype,\n      {\n        ...Object.getOwnPropertyDescriptors(\n          externalApi.getPathVariables(),\n        ),\n        fileName: {\n          get() {\n            return transport.fileName;\n          },\n          enumerable: true,\n        },\n      },\n    );\n\n    if (typeof transport.archiveLog === 'function') {\n      transport.archiveLogFn = transport.archiveLog;\n      logConsole('archiveLog is deprecated. Use archiveLogFn instead');\n    }\n\n    if (typeof transport.resolvePath === 'function') {\n      transport.resolvePathFn = transport.resolvePath;\n      logConsole('resolvePath is deprecated. Use resolvePathFn instead');\n    }\n  }\n\n  function logConsole(message, error = null, level = 'error') {\n    const data = [`electron-log.transports.file: ${message}`];\n\n    if (error) {\n      data.push(error);\n    }\n\n    logger.transports.console({ data, date: new Date(), level });\n  }\n\n  function getFile(msg) {\n    initializeOnFirstAccess();\n\n    const filePath = transport.resolvePathFn(pathVariables, msg);\n    return registry.provide({\n      filePath,\n      writeAsync: !transport.sync,\n      writeOptions: transport.writeOptions,\n    });\n  }\n\n  function readAllLogs({ fileFilter = (f) => f.endsWith('.log') } = {}) {\n    initializeOnFirstAccess();\n    const logsPath = path.dirname(transport.resolvePathFn(pathVariables));\n\n    if (!fs.existsSync(logsPath)) {\n      return [];\n    }\n\n    return fs.readdirSync(logsPath)\n      .map((fileName) => path.join(logsPath, fileName))\n      .filter(fileFilter)\n      .map((logPath) => {\n        try {\n          return {\n            path: logPath,\n            lines: fs.readFileSync(logPath, 'utf8').split(os.EOL),\n          };\n        } catch {\n          return null;\n        }\n      })\n      .filter(Boolean);\n  }\n}\n\nfunction getDefaultFileName(processType = process.type) {\n  switch (processType) {\n    case 'renderer': return 'renderer.log';\n    case 'worker': return 'worker.log';\n    default: return 'main.log';\n  }\n}\n","'use strict';\n\nconst { maxDepth, toJSON } = require('../transforms/object');\nconst { transform } = require('../../core/transforms/transform');\n\nmodule.exports = ipcTransportFactory;\n\n/**\n * @param logger\n * @param {ElectronExternalApi} externalApi\n * @returns {transport|null}\n */\nfunction ipcTransportFactory(logger, { externalApi }) {\n  Object.assign(transport, {\n    depth: 3,\n    eventId: '__ELECTRON_LOG_IPC__',\n    level: logger.isDev ? 'silly' : false,\n    transforms: [toJSON, maxDepth],\n  });\n\n  return externalApi?.isElectron() ? transport : undefined;\n\n  function transport(message) {\n    if (message?.variables?.processType === 'renderer') {\n      return;\n    }\n\n    externalApi?.sendIpc(transport.eventId, {\n      ...message,\n      data: transform({ logger, message, transport }),\n    });\n  }\n}\n","'use strict';\n\nconst http = require('http');\nconst https = require('https');\nconst { transform } = require('../../core/transforms/transform');\nconst { removeStyles } = require('../../core/transforms/style');\nconst { toJSON, maxDepth } = require('../transforms/object');\n\nmodule.exports = remoteTransportFactory;\n\nfunction remoteTransportFactory(logger) {\n  return Object.assign(transport, {\n    client: { name: 'electron-application' },\n    depth: 6,\n    level: false,\n    requestOptions: {},\n    transforms: [removeStyles, toJSON, maxDepth],\n\n    makeBodyFn({ message }) {\n      return JSON.stringify({\n        client: transport.client,\n        data: message.data,\n        date: message.date.getTime(),\n        level: message.level,\n        scope: message.scope,\n        variables: message.variables,\n      });\n    },\n\n    processErrorFn({ error }) {\n      logger.processMessage(\n        {\n          data: [`electron-log: can't POST ${transport.url}`, error],\n          level: 'warn',\n        },\n        { transports: ['console', 'file'] },\n      );\n    },\n\n    sendRequestFn({ serverUrl, requestOptions, body }) {\n      const httpTransport = serverUrl.startsWith('https:') ? https : http;\n\n      const request = httpTransport.request(serverUrl, {\n        method: 'POST',\n        ...requestOptions,\n        headers: {\n          'Content-Type': 'application/json',\n          'Content-Length': body.length,\n          ...requestOptions.headers,\n        },\n      });\n\n      request.write(body);\n      request.end();\n\n      return request;\n    },\n  });\n\n  function transport(message) {\n    if (!transport.url) {\n      return;\n    }\n\n    const body = transport.makeBodyFn({\n      logger,\n      message: { ...message, data: transform({ logger, message, transport }) },\n      transport,\n    });\n\n    const request = transport.sendRequestFn({\n      serverUrl: transport.url,\n      requestOptions: transport.requestOptions,\n      body: Buffer.from(body, 'utf8'),\n    });\n\n    request.on('error', (error) => transport.processErrorFn({\n      error,\n      logger,\n      message,\n      request,\n      transport,\n    }));\n  }\n}\n","'use strict';\n\nconst Logger = require('../core/Logger');\nconst ErrorHandler = require('./ErrorHandler');\nconst EventLogger = require('./EventLogger');\nconst transportConsole = require('./transports/console');\nconst transportFile = require('./transports/file');\nconst transportIpc = require('./transports/ipc');\nconst transportRemote = require('./transports/remote');\n\nmodule.exports = createDefaultLogger;\n\nfunction createDefaultLogger({ dependencies, initializeFn }) {\n  const defaultLogger = new Logger({\n    dependencies,\n    errorHandler: new ErrorHandler(),\n    eventLogger: new EventLogger(),\n    initializeFn,\n    isDev: dependencies.externalApi?.isDev(),\n    logId: 'default',\n    transportFactories: {\n      console: transportConsole,\n      file: transportFile,\n      ipc: transportIpc,\n      remote: transportRemote,\n    },\n    variables: {\n      processType: 'main',\n    },\n  });\n\n  defaultLogger.default = defaultLogger;\n  defaultLogger.Logger = Logger;\n\n  defaultLogger.processInternalErrorFn = (e) => {\n    defaultLogger.transports.console.writeFn({\n      message: {\n        data: ['Unhandled electron-log error', e],\n        level: 'error',\n      },\n    });\n  };\n\n  return defaultLogger;\n}\n","'use strict';\n\nconst electron = require('electron');\nconst ElectronExternalApi = require('./ElectronExternalApi');\nconst { initialize } = require('./initialize');\nconst createDefaultLogger = require('../node/createDefaultLogger');\n\nconst externalApi = new ElectronExternalApi({ electron });\nconst defaultLogger = createDefaultLogger({\n  dependencies: { externalApi },\n  initializeFn: initialize,\n});\n\nmodule.exports = defaultLogger;\n\nexternalApi.onIpc('__ELECTRON_LOG__', (_, message) => {\n  if (message.scope) {\n    defaultLogger.Logger.getInstance(message).scope(message.scope);\n  }\n\n  const date = new Date(message.date);\n  processMessage({\n    ...message,\n    date: date.getTime() ? date : new Date(),\n  });\n});\n\nexternalApi.onIpcInvoke('__ELECTRON_LOG__', (_, { cmd = '', logId }) => {\n  switch (cmd) {\n    case 'getOptions': {\n      const logger = defaultLogger.Logger.getInstance({ logId });\n      return {\n        levels: logger.levels,\n        logId,\n      };\n    }\n\n    default: {\n      processMessage({ data: [`Unknown cmd '${cmd}'`], level: 'error' });\n      return {};\n    }\n  }\n});\n\nfunction processMessage(message) {\n  defaultLogger.Logger.getInstance(message)?.processMessage(message);\n}\n","'use strict';\n\nconst NodeExternalApi = require('./NodeExternalApi');\nconst createDefaultLogger = require('./createDefaultLogger');\n\nconst externalApi = new NodeExternalApi();\n\nconst defaultLogger = createDefaultLogger({\n  dependencies: { externalApi },\n});\n\nmodule.exports = defaultLogger;\n","'use strict';\n\n/* eslint-disable global-require */\n\nconst isRenderer = typeof process === 'undefined'\n  || (process.type === 'renderer' || process.type === 'worker');\n\nconst isMain = typeof process === 'object' && process.type === 'browser';\n\nif (isRenderer) {\n  // Makes sense when contextIsolation/sandbox disabled\n  require('./renderer/electron-log-preload');\n  module.exports = require('./renderer');\n} else if (isMain) {\n  module.exports = require('./main');\n} else {\n  module.exports = require('./node');\n}\n","import { app } from 'electron';\r\nconst iconv = require('iconv-lite'); \r\nimport path from 'path';\r\nimport fs from 'fs';\r\n\r\n// 工具函数\r\nexport function convertUrlToPath(url: string): string {\r\n  const path = require('path');\r\n  const fs = require('fs');\r\n  \r\n  // 处理blob URL\r\n  if (url.startsWith('blob:')) {\r\n    return url.replace('blob:', '');\r\n  }\r\n  \r\n  // 处理base64数据\r\n  if (url.startsWith('data:')) {\r\n    const matches = url.match(/^data:(.+?);base64,(.+)$/);\r\n    if (!matches || matches.length < 3) {\r\n      throw new Error('无效的base64数据');\r\n    }\r\n    \r\n    const [_, mimeType, base64Data] = matches;\r\n    const ext = mimeType.split('/')[1] || 'bin';\r\n    const tempPath = path.join(\r\n      app.getPath('temp'), \r\n      `temp-${Date.now()}.${ext}`\r\n    );\r\n    \r\n    fs.writeFileSync(tempPath, Buffer.from(base64Data, 'base64'));\r\n    return tempPath;\r\n  }\r\n  \r\n  // 普通文件路径\r\n  return path.normalize(url);\r\n}\r\n\r\nexport function timeToSeconds(time: string): number {\r\n  const parts = time.split(':');\r\n  return parseFloat(parts[0]) * 3600 + \r\n         parseFloat(parts[1]) * 60 + \r\n         parseFloat(parts[2]);\r\n}\r\n\r\n// 修正路径编码（如果乱码）\r\nexport function correctPath(rawPath: string) {\r\n  try {\r\n    // 尝试用GBK解码常见乱码\r\n    const gbkDecoded = iconv.decode(Buffer.from(rawPath, 'binary'), 'gbk');\r\n    \r\n    // 处理特殊乱码情况（如\"瀣э拷\"）\r\n    if (/[^\\u0000-\\uFFFF]/.test(gbkDecoded)) {\r\n      return rawPath.split(path.sep)\r\n        .map(segment => {\r\n          try {\r\n            return iconv.decode(Buffer.from(segment, 'binary'), 'gbk');\r\n          } catch {\r\n            return segment;\r\n          }\r\n        })\r\n        .join(path.sep);\r\n    }\r\n    return gbkDecoded;\r\n  } catch {\r\n    return rawPath; // 解码失败返回原路径\r\n  }\r\n};\r\n\r\n/**\r\n * 验证文件是否存在（自动处理编码问题）\r\n */\r\nexport async function validateFile(filePath: string) {\r\n  const correctedPath = correctPath(filePath);\r\n  const normalizedPath = path.normalize(correctedPath);\r\n  console.log(normalizedPath);\r\n\r\n  if (!fs.existsSync(normalizedPath)) {\r\n    // 尝试原始路径（某些情况下可能需要）\r\n    if (filePath !== normalizedPath && fs.existsSync(filePath)) {\r\n      return filePath;\r\n    }\r\n    throw new Error(`文件不存在: ${normalizedPath}\\n原始路径: ${filePath}`);\r\n  }\r\n  return normalizedPath;\r\n}\r\n\r\nexport const sleep = (waitTimeInMs: number) => new Promise(resolve => setTimeout(resolve, waitTimeInMs))\r\n\r\nexport function encodeArg(args: string) {\r\n  return Buffer.from(args).toString('base64');\r\n}\r\n\r\nexport function decodeArg(args: string) {\r\n  return Buffer.from(args, 'base64').toString('utf-8');\r\n}\r\n\r\n// 辅助函数：根据文件扩展名获取MIME类型\r\nexport function getMimeType(filePath: string): string {\r\n  const ext = path.extname(filePath).toLowerCase();\r\n  switch (ext) {\r\n    case '.mp4': return 'video/mp4';\r\n    case '.webm': return 'video/webm';\r\n    case '.mov': return 'video/quicktime';\r\n    case '.avi': return 'video/x-msvideo';\r\n    case '.mkv': return 'video/x-matroska';\r\n    case '.mp3': return 'audio/mpeg';\r\n    case '.wav': return 'audio/wav';\r\n    case '.ogg': return 'audio/ogg';\r\n    case '.aac': return 'audio/aac';\r\n    case '.flac': return 'audio/flac';\r\n    case '.jpg':\r\n    case '.jpeg': return 'image/jpeg';\r\n    case '.png': return 'image/png';\r\n    default: return 'application/octet-stream';\r\n  }\r\n}\r\n\r\nexport function createWebReadableStream(fileStream: fs.ReadStream): ReadableStream {\r\n  return new ReadableStream({\r\n    start(controller) {\r\n      fileStream.on('data', (chunk: Buffer) => {\r\n        controller.enqueue(chunk);\r\n      });\r\n      fileStream.on('end', () => {\r\n        controller.close();\r\n      });\r\n      fileStream.on('error', (err: Error) => {\r\n        controller.error(err);\r\n      });\r\n    },\r\n    cancel() {\r\n      fileStream.destroy();\r\n    }\r\n  });\r\n}","import { app, ipcMain } from \"electron\";\r\nimport ffmpeg from 'fluent-ffmpeg';\r\nimport ffmpegStatic from 'ffmpeg-static';\r\nimport path from 'path';\r\nimport log from 'electron-log';\r\nimport { validateFile } from './utils';\r\n\r\n\r\n// 动态设置FFmpeg路径\r\nexport function setupFFmpeg() {\r\n  try {\r\n    // 设置ffmpeg路径\r\n    let ffmpegPath: string;\r\n    let ffprobePath: string;\r\n\r\n    if (app.isPackaged) {\r\n      // 生产环境路径 - 假设你已经将ffmpeg可执行文件打包到正确位置\r\n      const basePath = path.join(\r\n        process.resourcesPath,\r\n        'app.asar.unpacked',\r\n        'bin' // 建议将可执行文件放在单独的bin目录\r\n      );\r\n      \r\n      ffmpegPath = path.join(basePath, process.platform === 'win32' ? 'ffmpeg.exe' : 'ffmpeg');\r\n      ffprobePath = path.join(basePath, process.platform === 'win32' ? 'ffprobe.exe' : 'ffprobe');\r\n    } else {\r\n      // 开发环境路径\r\n      const ffmpegStatic = require('ffmpeg-static');\r\n      const ffprobeStatic = require('ffprobe-static');\r\n      \r\n      ffmpegPath = ffmpegStatic;\r\n      ffprobePath = ffprobeStatic.path;\r\n    }\r\n\r\n    console.log('FFmpeg路径:', ffmpegPath);\r\n    console.log('FFprobe路径:', ffprobePath);\r\n    \r\n    // 设置路径\r\n    ffmpeg.setFfmpegPath(ffmpegPath);\r\n    ffmpeg.setFfprobePath(ffprobePath);\r\n    \r\n    return { ffmpegPath, ffprobePath };\r\n  } catch (error) {\r\n    console.error('FFmpeg初始化失败:', error);\r\n    throw new Error(`视频处理引擎初始化失败: ${error.message}`);\r\n  }\r\n}\r\n\r\nexport function initMergeMedia() {\r\n\r\n  // 媒体合成处理器\r\n  ipcMain.handle('merge-media', async (event: Electron.IpcMainInvokeEvent, params: {\r\n    videoPaths: string[];\r\n    audioPaths: string[];\r\n    outputPath: string;\r\n    audioVolumes?: number[];\r\n  }) => {\r\n    const { videoPaths, audioPaths, outputPath, audioVolumes = [] } = params;\r\n\r\n    const files = [\r\n      ...await Promise.all(videoPaths.map(validateFile)),\r\n      ...await Promise.all(audioPaths.map(validateFile))\r\n    ];\r\n\r\n    return new Promise<string>((resolve, reject) => {\r\n      const command = ffmpeg();\r\n      files.forEach(file => command.input(file));\r\n\r\n      const complexFilter = [];\r\n      // 视频处理\r\n      const videoFilters = videoPaths.map((_, i) => `[${i}:v]scale=1280:720,setsar=1[v${i}]`);\r\n      complexFilter.push(videoFilters.join(';'));\r\n      const videoConcat = videoPaths.map((_, i) => `[v${i}]`).join('');\r\n      complexFilter.push(`${videoConcat}concat=n=${videoPaths.length}:v=1:a=0[vout]`);\r\n      // 音频处理\r\n      const audioFilters = audioPaths.map((_, i) => `[${i + videoPaths.length}:a]aformat=sample_fmts=fltp[a${i}]`);\r\n      complexFilter.push(audioFilters.join(';'));\r\n      // 音频混合\r\n      const audioMix = audioPaths.map((_, i) => `[a${i}]`).join('');\r\n      complexFilter.push(`${audioMix}amix=inputs=${audioPaths.length}:duration=longest[aout]`);\r\n      // 添加字幕\r\n      // if (subtitleFilePath) {\r\n      //   filterComplex.push(`[vout]subtitles=${subtitleFilePath}:force_style='Fontsize=${options.subtitles?.[0]?.style?.size || 24},Fontname=${options.subtitles?.[0]?.style?.font || 'Arial'},PrimaryColour=${options.subtitles?.[0]?.style?.color || 'FFFFFF'},BackColour=${options.subtitles?.[0]?.style?.backgroundColor || '00000000'},Alignment=2'[vsubtitled]`);\r\n      // }\r\n      \r\n      log.log(complexFilter.join(';'));\r\n      command.complexFilter(complexFilter.join(';'))\r\n      .outputOptions([\r\n        '-map [vout]',\r\n        '-map [aout]',\r\n        '-c:v libx264',\r\n        '-preset fast',\r\n        '-crf 22',\r\n        '-c:a aac',\r\n        '-b:a 192k',\r\n        '-shortest'\r\n      ])\r\n      .save(outputPath)\r\n      .on('progress', (progress) => {\r\n        const percent = progress.percent ? Math.min(100, progress.percent) : 0;\r\n        event.sender.send('merge-progress', percent);\r\n      })\r\n      .on('end', () => resolve(outputPath))\r\n      .on('error', (err, stdout, stderr) => {\r\n        console.error('FFmpeg Error:', err.message);\r\n        console.error('FFmpeg Stderr:', stderr); // 关键错误信息在这\r\n        reject(err);\r\n      });\r\n    });\r\n  });\r\n\r\n}","import { ipcMain } from \"electron\";\r\n\r\nexport default function initOpenFile() {\r\n  ipcMain.handle('open-file', async (_, path) => {\r\n    const { shell } = require('electron');\r\n    await shell.openPath(path);\r\n  });\r\n}\r\n\r\n\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","/*\nnls.js\n\nCopyright 1999-present Alibaba Group Holding Ltd.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\"use strict\"\n\nconst Websocket = require(\"ws\")\nconst assert = require(\"assert\")\nconst {\n  v1: uuidv1,\n  v4: uuidv4,\n} = require(\"uuid\")\n\n\n\nclass NlsClient {\n  constructor(config) {\n    assert(config, 'must pass \"config\"')\n    assert(config.url, 'must pass \"url\"')\n    assert(config.appkey, 'must pass \"appkey\"')\n    assert(config.token, 'must first get token from cache or getToken interface')\n    this._config = config\n  }\n\n  start(onmessage, onclose) {\n    if (typeof onmessage !== 'function') {\n      throw new Error(\"expect function onmessage\")\n    }\n    if (typeof onclose != 'function') {\n      throw new Error(\"expect function onclose\")\n    }\n    this._ws = new Websocket(this._config.url,\n      {headers:{\"X-NLS-Token\": this._config.token},\n        perMessageDeflate:false})\n    this._ws.on(\"message\", (data, isBinary) => {\n      onmessage(data, isBinary)\n    })\n    this._ws.on(\"close\", ()=>{\n      onclose()\n    })\n    return new Promise((resolve, reject) => {\n      this._ws.on(\"open\", ()=>{\n        //console.log(\"ws open\")\n        resolve()\n      })\n      this._ws.on(\"error\", err=>{\n        //console.log(\"ws error:\", err)\n        reject(err)\n      })\n    })\n  }\n\n  send(data, isBinary) {\n    if (this._ws == null) {\n      return\n    }\n    //if (!isBinary) {\n    //  console.log(\"send:\", data)\n    //}\n    this._ws.send(data, { binary:isBinary })\n  }\n\n  setPing(interval, callback) {\n    this._ping = setInterval(()=>{\n      //console.log(\"send ping\")\n      this._ws.ping(callback)\n    }, interval)\n  }\n\n\n  clearPing() {\n    if (this._ping) {\n      clearInterval(this._ping)\n    }\n  }\n\n  shutdown() {\n    if (this._ws == null) {\n      //console.log(\"ws is null\")\n      return\n    }\n    if (this._ping != null) {\n      clearInterval(this._ping)\n    }\n    this._ws.terminate()\n  }\n\n  uuid() {\n    return uuidv4().split(\"-\").join(\"\")\n  }\n\n  defaultContext() {\n    return {\n      sdk:{\n        name: \"nls-nodejs-sdk\",\n        version: \"0.0.1\",\n        language: \"nodejs\"\n      }\n    }\n  }\n\n}\n\nmodule.exports = NlsClient\n","/*\nsr.js\n\nCopyright 1999-present Alibaba Group Holding Ltd.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\"use strict\"\n\nconst NlsClient = require(\"./nls\")\nconst EventEmitter = require(\"events\").EventEmitter\n\nclass SpeechRecognition {\n  constructor(config) {\n    this._event = new EventEmitter()\n    this._config = config\n  }\n\n  defaultStartParams() {\n    return {\n      format:\"pcm\",\n      sample_rate:16000,\n      enable_intermediate_result:true,\n      enable_punctuation_prediction:true,\n      enable_inverse_text_normalization:true\n    }\n  }\n\n  on(which, handler) {\n    this._event.on(which, handler)\n  }\n\n  async start(param, enablePing, pingInterval) {\n    this._client = new NlsClient(this._config)\n    this._taskid = this._client.uuid()\n    let req = {\n      header:{\n        message_id:this._client.uuid(),\n        task_id:this._taskid,\n        namespace:\"SpeechRecognizer\",\n        name:\"StartRecognition\",\n        appkey:this._config.appkey\n      },\n      payload: param,\n      context: this._client.defaultContext()\n    }\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        await this._client.start(\n          //onmessage\n          (msg, isBinary) => {\n            if (!isBinary) {\n              let str = msg.toString()\n              //console.log(\"recv \", str);\n              let msgObj = JSON.parse(str)\n              if (msgObj.header.name === \"RecognitionStarted\") {\n                //console.log(\"emit onStart\")\n                this._event.emit(\"started\", str)\n                resolve(str)\n              } else if (msgObj.header.name === \"RecognitionResultChanged\") {\n                //console.log(\"emit resultChanged\")\n                this._event.emit(\"changed\", str)\n              } else if (msgObj.header.name === \"RecognitionCompleted\") {\n                //console.log(\"emit completed\")\n                this._event.emit(\"RecognitionCompleted\", str)\n              } else if (msgObj.header.name === \"TaskFailed\") {\n                //console.log(\"emit taskfailed\")\n                this._client.clearPing()\n                this._client.shutdown()\n                this._client = null\n\n                this._event.emit(\"TaskFailed\", str)\n                this._event.emit(\"failed\", str)\n              }\n            }\n          },\n          //onclose\n          ()=> {\n            //console.log(\"emit onClose\")\n            this._event.emit(\"closed\")\n          })\n        if (enablePing) {\n          if (!pingInterval) {\n            pingInterval = 6000\n          }\n          this._client.setPing(pingInterval)\n        }\n        this._client.send(JSON.stringify(req), false)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n\n  async close(param) {\n    if (this._client == null) {\n      return new Promise((resolve, reject)=>{\n        process.nextTick(()=>{\n          reject(\"client is null\")\n        })\n      })\n    }\n\n    let req = {\n      header:{\n        message_id:this._client.uuid(),\n        task_id:this._taskid,\n        namespace:\"SpeechRecognizer\",\n        name:\"StopRecognition\",\n        appkey:this._config.appkey\n      },\n      payload: param,\n      context: this._client.defaultContext()\n    }\n\n    return new Promise((resolve, reject) => {\n      this._event.on(\"RecognitionCompleted\",\n        (msg) => {\n          if (this._client) {\n            this._client.clearPing()\n            this._client.shutdown()\n            this._client = null\n          }\n          this._event.emit(\"completed\", msg)\n          resolve(msg)\n        })\n\n      this._event.on(\"TaskFailed\",\n        (msg) => {\n          reject(msg)\n        })\n\n      this._client.send(JSON.stringify(req), false)\n    })\n  }\n\n  shutdown() {\n    if (this._client == null) {\n      //console.log(\"client is null\")\n      return\n    }\n\n    this._client.shutdown()\n  }\n\n  sendAudio(data) {\n    if (this._client == null) {\n      //console.log(\"client is null\")\n      return false\n    }\n\n    this._client.send(data, true)\n    return true\n  }\n}\n\nmodule.exports = SpeechRecognition\n","/*\nst.js\n\nCopyright 1999-present Alibaba Group Holding Ltd.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\"use strict\"\n\nconst NlsClient = require(\"./nls\")\nconst EventEmitter = require(\"events\").EventEmitter\n\nclass SpeechTranscription {\n  constructor(config) {\n    this._event = new EventEmitter()\n    this._config = config\n  }\n\n  defaultStartParams() {\n    return {\n      format:\"pcm\",\n      sample_rate:16000,\n      enable_intermediate_result:true,\n      enable_punctuation_prediction:true,\n      enable_inverse_text_normalization:true\n    }\n  }\n\n  on(which, handler) {\n    this._event.on(which, handler)\n  }\n\n  async start(param, enablePing, pingInterval) {\n    this._client = new NlsClient(this._config)\n    this._taskid = this._client.uuid()\n    let req = {\n      header:{\n        message_id:this._client.uuid(),\n        task_id:this._taskid,\n        namespace:\"SpeechTranscriber\",\n        name:\"StartTranscription\",\n        appkey:this._config.appkey\n      },\n      payload: param,\n      context: this._client.defaultContext()\n    }\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        await this._client.start(\n          //onmessage\n          (msg, isBinary) => {\n            if (!isBinary) {\n              let str = msg.toString()\n              //console.log(\"recv \", str);\n              let msgObj = JSON.parse(str)\n              if (msgObj.header.name === \"TranscriptionStarted\") {\n                //console.log(\"emit onStart\")\n                this._event.emit(\"started\", str)\n                resolve(str)\n              } else if (msgObj.header.name === \"TranscriptionResultChanged\") {\n                //console.log(\"emit resultChanged\")\n                this._event.emit(\"changed\", str)\n              } else if (msgObj.header.name === \"TranscriptionCompleted\") {\n                //console.log(\"emit completed\")\n                this._event.emit(\"TranscriptionCompleted\", str)\n              } else if (msgObj.header.name === \"SentenceBegin\") {\n                //console.log(\"emit sentenceBegin\")\n                this._event.emit(\"begin\", str)\n              } else if (msgObj.header.name === \"SentenceEnd\") {\n                //console.log(\"emit sentenceEnd\")\n                this._event.emit(\"end\", str)\n              } else if (msgObj.header.name === \"TaskFailed\") {\n                //console.log(\"emit taskfailed\")\n                this._client.clearPing()\n                this._client.shutdown()\n                this._client = null\n                this._event.emit(\"TaskFailed\", str)\n                this._event.emit(\"failed\", str)\n              }\n            }\n          },\n          //onclose\n          ()=> {\n            //console.log(\"emit onClose\")\n            this._event.emit(\"closed\")\n          })\n        if (enablePing) {\n          if (!pingInterval) {\n            pingInterval = 6000\n          }\n          this._client.setPing(pingInterval)\n        }\n        this._client.send(JSON.stringify(req), false)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n\n  async close(param) {\n    if (this._client == null) {\n      return new Promise((resolve, reject)=>{\n        process.nextTick(()=>{\n          reject(\"client is null\")\n        })\n      })\n    }\n\n    let req = {\n      header:{\n        message_id:this._client.uuid(),\n        task_id:this._taskid,\n        namespace:\"SpeechTranscriber\",\n        name:\"StopTranscription\",\n        appkey:this._config.appkey\n      },\n      payload: param,\n      context: this._client.defaultContext()\n    }\n\n    return new Promise((resolve, reject) => {\n      this._event.on(\"TranscriptionCompleted\",\n        (msg) => {\n          if (this._client) {\n            this._client.clearPing()\n            this._client.shutdown()\n            this._client = null\n          }\n          this._event.emit(\"completed\", msg)\n          resolve(msg)\n        })\n\n      this._event.on(\"TaskFailed\",\n        (msg) => {\n          reject(msg)\n        })\n\n      this._client.send(JSON.stringify(req), false)\n    })\n  }\n\n  ctrl(param) {\n    if (this._client == null) {\n      throw new Error(\"client is null\")\n    }\n    let req = {\n      header:{\n        message_id:this._client.uuid(),\n        task_id:this._taskid,\n        namespace:\"SpeechTranscriber\",\n        name:\"ControlTranscription\",\n        appkey:this._config.appkey\n      },\n      payload: param,\n      context: this._client.defaultContext()\n    }\n    this._client.send(JSON.stringify(req), false)\n  }\n\n  shutdown() {\n    if (this._client == null) {\n      //console.log(\"client is null\")\n      return\n    }\n\n    this._client.shutdown()\n  }\n\n  sendAudio(data) {\n    if (this._client == null) {\n      //console.log(\"client is null\")\n      return false\n    }\n\n    this._client.send(data, true)\n    return true\n  }\n}\n\nmodule.exports = SpeechTranscription\n","/*\ntts.js\n\nCopyright 1999-present Alibaba Group Holding Ltd.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\"use strict\"\n\nconst NlsClient = require(\"./nls\")\nconst EventEmitter = require(\"events\").EventEmitter\n\nclass SpeechSynthesizer {\n  constructor(config, enable_real_time = false) {\n    this._event = new EventEmitter()\n    this._config = config\n    if (enable_real_time) {\n      this._namespace = \"SpeechLongSynthesizer\" \n    } else {\n      this._namespace = \"SpeechSynthesizer\"\n    }\n  }\n\n  defaultStartParams(voice) {\n    return {\n      voice: voice,\n      format: \"wav\",\n      sample_rate: 16000,\n      volume: 50,\n      speech_rate: 0,\n      pitch_rate: 0,\n      enable_subtitle: false\n    }\n  }\n\n  on(which, handler) {\n    this._event.on(which, handler)\n  }\n\n  async start(param, enablePing, pingInterval) {\n    this._client = new NlsClient(this._config)\n    this._taskid = this._client.uuid()\n    let req = {\n      header:{\n        message_id:this._client.uuid(),\n        task_id:this._taskid,\n        namespace:this._namespace,\n        name:\"StartSynthesis\",\n        appkey:this._config.appkey\n      },\n      payload: param,\n      context: this._client.defaultContext()\n    }\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        await this._client.start(\n          //onmessage\n          (msg, isBinary) => {\n            if (!isBinary) {\n              let str = msg.toString()\n              //console.log(\"recv \", str);\n              let msgObj = JSON.parse(str)\n              if (msgObj.header.name === \"MetaInfo\") {\n                //console.log(\"emit metainfo\")\n                this._event.emit(\"meta\", str)\n              } else if (msgObj.header.name === \"SynthesisCompleted\") {\n                //console.log(\"emit completed\")\n                this._client.clearPing()\n                this._client.shutdown()\n                this._client = null\n                this._event.emit(\"completed\", str)\n                resolve(str)\n              } else if (msgObj.header.name === \"TaskFailed\") {\n                //console.log(\"emit taskfailed\")\n                this._client.clearPing()\n                this._client.shutdown()\n                this._client = null\n                this._event.emit(\"TaskFailed\", str)\n                this._event.emit(\"failed\", str)\n                reject(str)\n              }\n            } else {\n              this._event.emit(\"data\", msg)\n            }\n          },\n          //onclose\n          ()=> {\n            //console.log(\"emit onClose\")\n            this._event.emit(\"closed\")\n          })\n        if (enablePing) {\n          if (!pingInterval) {\n            pingInterval = 6000\n          }\n          this._client.setPing(pingInterval)\n        }\n        this._client.send(JSON.stringify(req), false)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n\n  shutdown() {\n    if (this._client == null) {\n      //console.log(\"client is null\")\n      return\n    }\n\n    this._client.shutdown()\n  }\n}\n\nmodule.exports = SpeechSynthesizer\n","export const COMMON_CONFIG = {\r\n  accessKeyId: 'LTAI5tFCh5eoiNZX4n2wEy7Y',\r\n  accessKeySecret: 'XWYRzwspo5z4Ukuo8lKxZX4pUSgQ86',\r\n  appkey: 'JbBUqMYRUt0DrMcK',\r\n  endpoint: 'https://nls-gateway.aliyuncs.com',\r\n  regionId: 'cn-shanghai',\r\n  ttsUrl: 'wss://nls-gateway-cn-shanghai.aliyuncs.com/ws/v1',\r\n}\r\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","'use strict';\n\nconst zlib = require('zlib');\nconst http = require('http');\nconst https = require('https');\nconst parse = require('url').parse;\nconst format = require('url').format;\n\nconst debugBody = require('debug')('httpx:body');\nconst debugHeader = require('debug')('httpx:header');\n\nconst httpAgent = new http.Agent({ keepAlive: true });\nconst httpsAgent = new https.Agent({ keepAlive: true });\n\nconst TIMEOUT = 3000; // 3s\n\nconst READ_TIMER = Symbol('TIMER::READ_TIMER');\nconst READ_TIME_OUT = Symbol('TIMER::READ_TIME_OUT');\nconst READ_TIMER_START_AT = Symbol('TIMER::READ_TIMER_START_AT');\n\n/**\n * Check the content-encoding header, and auto decompress it.\n * @param {Readable} response http response\n * @returns Readable\n */\nfunction decompress(response) {\n  switch (response.headers['content-encoding']) {\n  // or, just use zlib.createUnzip() to handle both cases\n  case 'gzip':\n    return response.pipe(zlib.createGunzip());\n  case 'deflate':\n    return response.pipe(zlib.createInflate());\n  default:\n    return response;\n  }\n}\n\nvar append = function (err, name, message) {\n  err.name = name + err.name;\n  err.message = `${message}. ${err.message}`;\n  return err;\n};\n\nconst isNumber = function (num) {\n  return num !== null && !isNaN(num);\n};\n\nexports.request = function (url, opts) {\n  opts || (opts = {});\n\n  const parsed = typeof url === 'string' ? parse(url) : url;\n\n  let readTimeout, connectTimeout;\n  if (isNumber(opts.readTimeout) || isNumber(opts.connectTimeout)) {\n    readTimeout = isNumber(opts.readTimeout) ? Number(opts.readTimeout) : TIMEOUT;\n    connectTimeout = isNumber(opts.connectTimeout) ? Number(opts.connectTimeout) : TIMEOUT;\n  } else if (isNumber(opts.timeout)) {\n    readTimeout = connectTimeout = Number(opts.timeout);\n  } else {\n    readTimeout = connectTimeout = TIMEOUT;\n  }\n\n  const isHttps = parsed.protocol === 'https:';\n  const method = (opts.method || 'GET').toUpperCase();\n  const defaultAgent = isHttps ? httpsAgent : httpAgent;\n  const agent = opts.agent || defaultAgent;\n\n  var options = {\n    host: parsed.hostname || 'localhost',\n    path: parsed.path || '/',\n    method: method,\n    port: parsed.port || (parsed.protocol === 'https:' ? 443 : 80),\n    agent: agent,\n    headers: opts.headers || {},\n    // ssl config\n    key: opts.key || '',\n    cert: opts.cert || '',\n    ca: opts.ca || '',\n    // connect timerout\n    timeout: connectTimeout\n  };\n\n  if (isHttps && typeof opts.rejectUnauthorized !== 'undefined') {\n    options.rejectUnauthorized = opts.rejectUnauthorized;\n  }\n\n  if (opts.compression) {\n    options.headers['accept-encoding'] = 'gzip,deflate';\n  }\n\n  const httplib = isHttps ? https : http;\n\n  if (typeof opts.beforeRequest === 'function') {\n    options = opts.beforeRequest(options);\n  }\n\n  return new Promise((resolve, reject) => {\n    const request = httplib.request(options);\n    const body = opts.data;\n\n    var fulfilled = (response) => {\n      if (debugHeader.enabled) {\n        const requestHeaders = response.req._header;\n        requestHeaders.split('\\r\\n').forEach((line) => {\n          debugHeader('> %s', line);\n        });\n\n        debugHeader('< HTTP/%s %s %s', response.httpVersion, response.statusCode, response.statusMessage);\n        Object.keys(response.headers).forEach((key) => {\n          debugHeader('< %s: %s', key, response.headers[key]);\n        });\n      }\n      resolve(response);\n    };\n\n    var rejected = (err) => {\n      err.message += `${method} ${format(parsed)} failed.`;\n      // clear response timer when error\n      if (request.socket && request.socket[READ_TIMER]) {\n        clearTimeout(request.socket[READ_TIMER]);\n      }\n      reject(err);\n    };\n\n    var abort = (err) => {\n      request.abort();\n      rejected(err);\n    };\n\n    const startResponseTimer = function (socket) {\n      const timer = setTimeout(() => {\n        if (socket[READ_TIMER]) {\n          clearTimeout(socket[READ_TIMER]);\n          socket[READ_TIMER] = null;\n        }\n        var err = new Error();\n        var message = `ReadTimeout(${readTimeout})`;\n        abort(append(err, 'RequestTimeout', message));\n      }, readTimeout);\n      // start read-timer\n      socket[READ_TIME_OUT] = readTimeout;\n      socket[READ_TIMER] = timer;\n      socket[READ_TIMER_START_AT] = Date.now();\n      // don't block the loop\n      timer.unref();\n    };\n\n    // string\n    if (!body || 'string' === typeof body || body instanceof Buffer) {\n      if (debugBody.enabled) {\n        if (!body) {\n          debugBody('<no request body>');\n        } else if ('string' === typeof body) {\n          debugBody(body);\n        } else {\n          debugBody(`Buffer <ignored>, Buffer length: ${body.length}`);\n        }\n      }\n      request.end(body);\n    } else if ('function' === typeof body.pipe) { // stream\n      body.pipe(request);\n      if (debugBody.enabled) {\n        debugBody('<request body is a stream>');\n      }\n      body.once('error', (err) => {\n        abort(append(err, 'HttpX', 'Stream occor error'));\n      });\n    }\n\n    request.on('timeout', () => {\n      var err = new Error();\n      err.name = 'RequestTimeoutError';\n      err.message = `ConnectTimeout: Connect ${url} failed.`;\n      request.destroy();\n      reject(err);\n    });\n\n    request.on('response', fulfilled);\n    request.on('error', rejected);\n    request.once('socket', function (socket) {\n      // reuse socket\n      if (socket.readyState === 'opening') {\n        socket.once('connect', function () {\n          startResponseTimer(socket);\n        });\n      } else {\n        startResponseTimer(socket);\n      }\n    });\n  });\n};\n\nexports.read = function (response, encoding) {\n  const readable = decompress(response);\n\n  return new Promise((resolve, reject) => {\n    // node.js 14 use response.client\n    const socket = response.socket || response.client;\n\n    const makeReadTimeoutError = () => {\n      const req = response.req;\n      var err = new Error();\n      err.name = 'RequestTimeoutError';\n      err.message = `ReadTimeout: ${socket[READ_TIME_OUT]}. ${req.method} ${req.path} failed.`;\n      return err;\n    };\n    // check read-timer\n    let readTimer;\n    const oldReadTimer = socket[READ_TIMER];\n    if (!oldReadTimer) {\n      reject(makeReadTimeoutError());\n      return;\n    }\n    const remainTime = socket[READ_TIME_OUT] - (Date.now() - socket[READ_TIMER_START_AT]);\n    clearTimeout(oldReadTimer);\n    if (remainTime <= 0) {\n      reject(makeReadTimeoutError());\n      return;\n    }\n    readTimer = setTimeout(function () {\n      reject(makeReadTimeoutError());\n    }, remainTime);\n\n    // start reading data\n    var onError, onData, onEnd;\n    var cleanup = function () {\n      // cleanup\n      readable.removeListener('error', onError);\n      readable.removeListener('data', onData);\n      readable.removeListener('end', onEnd);\n      // clear read timer\n      if (readTimer) {\n        clearTimeout(readTimer);\n      }\n    };\n\n    const bufs = [];\n    var size = 0;\n\n    onData = function (buf) {\n      bufs.push(buf);\n      size += buf.length;\n    };\n\n    onError = function (err) {\n      cleanup();\n      reject(err);\n    };\n\n    onEnd = function () {\n      cleanup();\n      var buff = Buffer.concat(bufs, size);\n\n      debugBody('');\n      if (encoding) {\n        const result = buff.toString(encoding);\n        debugBody(result);\n        return resolve(result);\n      }\n\n      if (debugBody.enabled) {\n        debugBody(buff.toString());\n      }\n      resolve(buff);\n    };\n\n    readable.on('error', onError);\n    readable.on('data', onData);\n    readable.on('end', onEnd);\n  });\n};\n\nfunction readyToRead(readable) {\n  return new Promise((resolve, reject) => {\n    var onReadable, onEnd, onError;\n    var cleanup = function () {\n      // cleanup\n      readable.removeListener('error', onError);\n      readable.removeListener('end', onEnd);\n      readable.removeListener('readable', onReadable);\n    };\n\n    onReadable = function () {\n      cleanup();\n      resolve(false);\n    };\n\n    onEnd = function () {\n      cleanup();\n      resolve(true);\n    };\n\n    onError = function (err) {\n      cleanup();\n      reject(err);\n    };\n\n    readable.once('readable', onReadable);\n    readable.once('end', onEnd);\n    readable.once('error', onError);\n  });\n}\n\nclass Event {\n  constructor(id, event, data, retry) {\n    this.id = id;\n    this.event = event;\n    this.data = data;\n    this.retry = retry;\n  }\n}\n\nexports.Event = Event;\n\nconst DATA_PREFIX = 'data:';\nconst EVENT_PREFIX = 'event:';\nconst ID_PREFIX = 'id:';\nconst RETRY_PREFIX = 'retry:';\n\nfunction isDigitsOnly(str) {\n  for (let i = 0; i < str.length; i++) {\n    const c = str.charAt(i);\n    if (c < '0' || c > '9') {\n      return false;\n    }\n  }\n  return str.length > 0;\n}\n\nfunction tryGetEvents(head, chunk) {\n  const all = head + chunk;\n  let start = 0;\n  const events = [];\n  for (let i = 0; i < all.length - 1; i++) {\n    const c = all[i];\n    const c2 = all[i + 1];\n    if (c === '\\n' && c2 === '\\n') {\n      const part = all.substring(start, i);\n      const lines = part.split('\\n');\n      const event = new Event();\n      lines.forEach((line) => {\n        if (line.startsWith(DATA_PREFIX)) {\n          event.data = line.substring(DATA_PREFIX.length).trim();\n        } else if (line.startsWith(EVENT_PREFIX)) {\n          event.event = line.substring(EVENT_PREFIX.length).trim();\n        } else if (line.startsWith(ID_PREFIX)) {\n          event.id = line.substring(ID_PREFIX.length).trim();\n        } else if (line.startsWith(RETRY_PREFIX)) {\n          const retry = line.substring(RETRY_PREFIX.length).trim();\n          if (isDigitsOnly(retry)) {\n            event.retry = parseInt(retry, 10);\n          }\n        } else if (line.startsWith(':')) {\n          // ignore the line\n        }\n      });\n      events.push(event);\n      start = i + 2;\n    }\n  }\n\n  const rest = all.substring(start);\n  return [events, rest];\n}\n\n/**\n * consume response and parse to event stream\n * @param {ReadableStream} response \n * @returns AsyncGenerator<Event, void, unknown>\n */\nexports.readAsSSE = async function* (response) {\n  const readable = decompress(response);\n\n  const socket = response.socket || response.client;\n  clearTimeout(socket[READ_TIMER]);\n\n  let rest = '';\n\n  while (true) {\n    const ended = await readyToRead(readable);\n    if (ended) {\n      return;\n    }\n\n    let chunk;\n    while (null !== (chunk = readable.read())) {\n      const [ events, remain ] = tryGetEvents(rest, chunk.toString());\n      rest = remain;\n      if (events && events.length > 0) {\n        for (const event of events) {\n          yield event;\n        }\n      }\n    }\n  }\n};\n","'use strict';\n\nconst fs = require('fs');\nconst os = require('os');\nconst crypto = require('crypto');\n\n/**\n * Load *.json file synchronous. Don't use require('*.json')\n * to load *.json files, it will cached in process.\n * @param {String} filename absolute file path\n * @return {Object} a parsed object\n */\nexports.loadJSONSync = function (filename) {\n  // strip BOM\n  var content = fs.readFileSync(filename, 'utf8');\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  try {\n    return JSON.parse(content);\n  } catch (err) {\n    err.message = filename + ': ' + err.message;\n    throw err;\n  }\n};\n\n/**\n * Encoding a string to Buffer safely\n * @param {String} str string.\n * @param {String} encoding. optional.\n * @return {Buffer} encoded buffer\n */\nexports.encode = function (str, encoding) {\n  if (typeof str !== 'string') {\n    str = '' + str;\n  }\n\n  return new Buffer(str, encoding);\n};\n\n/**\n * Generate a haser with specfied algorithm\n * @param {String} algorithm can be md5, etc.\n * @return {Function} a haser with specfied algorithm\n */\nexports.makeHasher = function (algorithm) {\n  return function (data, encoding) {\n    var shasum = crypto.createHash(algorithm);\n    shasum.update(data);\n    return shasum.digest(encoding);\n  };\n};\n\nexports.createHash = exports.makeHasher;\n\n/**\n * Get md5 hash digests of data\n * @param {String|Buffer} data data.\n * @param {String} encoding optionnal. can be 'hex', 'binary', 'base64'.\n * @return {String|Buffer} if no encoding is provided, a buffer is returned.\n */\nexports.md5 = exports.makeHasher('md5');\n\n/**\n * Get sha1 hash digests of data\n * @param {String|Buffer} data data.\n * @param {String} key the key.\n * @param {String} encoding optionnal. can be 'hex', 'binary', 'base64'.\n * @return {String|Buffer} if no encoding is provided, a buffer is returned.\n */\nexports.createHmac = function (algorithm) {\n  return function (data, key, encoding) {\n    return crypto.createHmac(algorithm, key).update(data).digest(encoding);\n  };\n};\n\n/**\n * Get sha1 hash digests of data\n * @param {String|Buffer} data data.\n * @param {String} key the key.\n * @param {String} encoding optionnal. can be 'hex', 'binary', 'base64'.\n * @return {String|Buffer} if no encoding is provided, a buffer is returned.\n */\nexports.sha1 = exports.createHmac('sha1');\n\n/**\n * Get a random value in a range\n * @param {Number} min range start.\n * @param {Number} max range end.\n */\nexports.random = function (min, max) {\n  return Math.floor(min + Math.random() * (max - min));\n};\n\n/**\n * Generate a nonce string\n * @return {String} a nonce string.\n */\nexports.makeNonce = (function() {\n  var counter = 0;\n  var last;\n  const machine = os.hostname();\n  const pid = process.pid;\n\n  return function () {\n    var val = Math.floor(Math.random() * 1000000000000);\n    if (val === last) {\n      counter++;\n    } else {\n      counter = 0;\n    }\n\n    last = val;\n\n    var uid = `${machine}${pid}${val}${counter}`;\n    return exports.md5(uid, 'hex');\n  };\n}());\n\n/**\n * Pad a number as \\d\\d format\n * @param {Number} num a number that less than 100.\n * @return {String} if number less than 10, pad with 0,\n *  otherwise, returns string of number.\n */\nexports.pad2 = function (num) {\n  if (num < 10) {\n    return '0' + num;\n  }\n  return '' + num;\n};\n\n/**\n * Pad a number as \\d\\d\\d format\n * @param {Number} num a number that less than 1000.\n * @return {String} if number less than 100, pad with 0,\n *  otherwise, returns string of number.\n */\nexports.pad3 = function (num) {\n  if (num < 10) {\n    return '00' + num;\n  } else if (num < 100) {\n    return '0' + num;\n  }\n  return '' + num;\n};\n\n/**\n * Return the YYYYMMDD format of a date.\n * @param {Date} date a Date object.\n * @return {String} the YYYYMMDD format.\n */\nexports.getYYYYMMDD = function (date) {\n  var YYYY = date.getFullYear();\n  var MM = exports.pad2(date.getMonth() + 1);\n  var DD = exports.pad2(date.getDate());\n  return '' + YYYY + MM + DD;\n};\n\n/**\n * sleep a while.\n * @param {Number} in milliseconds\n * @return {Promise} a Promise\n */\nexports.sleep = function (ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n};\n\n/**\n * Get the IPv4 address\n * @return {String} the IPv4 address, or empty string\n */\nexports.getIPv4 = function () {\n  var interfaces = os.networkInterfaces();\n  var keys = Object.keys(interfaces);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var addresses = interfaces[key];\n    for (var j = 0; j < addresses.length; j++) {\n      var item = addresses[j];\n      if (!item.internal && item.family === 'IPv4') {\n        return item.address;\n      }\n    }\n  }\n\n  // without non-internal address\n  return '';\n};\n\n/**\n * Get the Mac address\n * @return {String} the Mac address\n */\nexports.getMac = function () {\n  var interfaces = os.networkInterfaces();\n  var keys = Object.keys(interfaces);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var addresses = interfaces[key];\n    for (var j = 0; j < addresses.length; j++) {\n      var item = addresses[j];\n      if (!item.internal && item.family === 'IPv4') {\n        return item.mac;\n      }\n    }\n  }\n\n  // without non-internal address\n  return '00:00:00:00:00:00';\n};\n",";(function (globalObject) {\r\n  'use strict';\r\n\r\n/*\r\n *      bignumber.js v9.3.0\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\n  var BigNumber,\r\n    isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n    mathceil = Math.ceil,\r\n    mathfloor = Math.floor,\r\n\r\n    bignumberError = '[BigNumber Error] ',\r\n    tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n    BASE = 1e14,\r\n    LOG_BASE = 14,\r\n    MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n    // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n    POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n    SQRT_BASE = 1e7,\r\n\r\n    // EDITABLE\r\n    // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n    // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n    MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n  /*\r\n   * Create and return a BigNumber constructor.\r\n   */\r\n  function clone(configObject) {\r\n    var div, convertBase, parseNumeric,\r\n      P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n      ONE = new BigNumber(1),\r\n\r\n\r\n      //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n      // The default values below must be integers within the inclusive ranges stated.\r\n      // The values can also be changed at run-time using BigNumber.set.\r\n\r\n      // The maximum number of decimal places for operations involving division.\r\n      DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n      // The rounding mode used when rounding to the above decimal places, and when using\r\n      // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n      // UP         0 Away from zero.\r\n      // DOWN       1 Towards zero.\r\n      // CEIL       2 Towards +Infinity.\r\n      // FLOOR      3 Towards -Infinity.\r\n      // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n      // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n      // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n      // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n      // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n      ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n      // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n      // The exponent value at and beneath which toString returns exponential notation.\r\n      // Number type: -7\r\n      TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n      // The exponent value at and above which toString returns exponential notation.\r\n      // Number type: 21\r\n      TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n      // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n      // The minimum exponent value, beneath which underflow to zero occurs.\r\n      // Number type: -324  (5e-324)\r\n      MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n      // The maximum exponent value, above which overflow to Infinity occurs.\r\n      // Number type:  308  (1.7976931348623157e+308)\r\n      // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n      MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n      // Whether to use cryptographically-secure random number generation, if available.\r\n      CRYPTO = false,                          // true or false\r\n\r\n      // The modulo mode used when calculating the modulus: a mod n.\r\n      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n      // The remainder (r) is calculated as: r = a - n * q.\r\n      //\r\n      // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n      // DOWN      1 The remainder has the same sign as the dividend.\r\n      //             This modulo mode is commonly known as 'truncated division' and is\r\n      //             equivalent to (a % n) in JavaScript.\r\n      // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n      // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n      // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n      //             The remainder is always positive.\r\n      //\r\n      // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n      // modes are commonly used for the modulus operation.\r\n      // Although the other rounding modes can also be used, they may not give useful results.\r\n      MODULO_MODE = 1,                         // 0 to 9\r\n\r\n      // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n      // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n      POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n      // The format specification used by the BigNumber.prototype.toFormat method.\r\n      FORMAT = {\r\n        prefix: '',\r\n        groupSize: 3,\r\n        secondaryGroupSize: 0,\r\n        groupSeparator: ',',\r\n        decimalSeparator: '.',\r\n        fractionGroupSize: 0,\r\n        fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n        suffix: ''\r\n      },\r\n\r\n      // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n      // '-', '.', whitespace, or repeated character.\r\n      // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n      ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n      alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n    //------------------------------------------------------------------------------------------\r\n\r\n\r\n    // CONSTRUCTOR\r\n\r\n\r\n    /*\r\n     * The BigNumber constructor and exported function.\r\n     * Create and return a new instance of a BigNumber object.\r\n     *\r\n     * v {number|string|BigNumber} A numeric value.\r\n     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n     */\r\n    function BigNumber(v, b) {\r\n      var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n        x = this;\r\n\r\n      // Enable constructor call without `new`.\r\n      if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n      if (b == null) {\r\n\r\n        if (v && v._isBigNumber === true) {\r\n          x.s = v.s;\r\n\r\n          if (!v.c || v.e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else if (v.e < MIN_EXP) {\r\n            x.c = [x.e = 0];\r\n          } else {\r\n            x.e = v.e;\r\n            x.c = v.c.slice();\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n          // Use `1 / n` to handle minus zero also.\r\n          x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n          // Fast path for integers, where n < 2147483648 (2**31).\r\n          if (v === ~~v) {\r\n            for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n            if (e > MAX_EXP) {\r\n              x.c = x.e = null;\r\n            } else {\r\n              x.e = e;\r\n              x.c = [v];\r\n            }\r\n\r\n            return;\r\n          }\r\n\r\n          str = String(v);\r\n        } else {\r\n\r\n          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n        // Exponential form?\r\n        if ((i = str.search(/e/i)) > 0) {\r\n\r\n          // Determine exponent.\r\n          if (e < 0) e = i;\r\n          e += +str.slice(i + 1);\r\n          str = str.substring(0, i);\r\n        } else if (e < 0) {\r\n\r\n          // Integer.\r\n          e = str.length;\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n        // Allow exponential notation to be used with base 10 argument, while\r\n        // also rounding to DECIMAL_PLACES as with other bases.\r\n        if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n          x = new BigNumber(v);\r\n          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n        }\r\n\r\n        str = String(v);\r\n\r\n        if (isNum = typeof v == 'number') {\r\n\r\n          // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n          if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n            throw Error\r\n             (tooManyDigits + v);\r\n          }\r\n        } else {\r\n          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        alphabet = ALPHABET.slice(0, b);\r\n        e = i = 0;\r\n\r\n        // Check that str is a valid base b number.\r\n        // Don't use RegExp, so alphabet can contain special characters.\r\n        for (len = str.length; i < len; i++) {\r\n          if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n            if (c == '.') {\r\n\r\n              // If '.' is not the first character and it has not be found before.\r\n              if (i > e) {\r\n                e = len;\r\n                continue;\r\n              }\r\n            } else if (!caseChanged) {\r\n\r\n              // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n              if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                  str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n                caseChanged = true;\r\n                i = -1;\r\n                e = 0;\r\n                continue;\r\n              }\r\n            }\r\n\r\n            return parseNumeric(x, String(v), isNum, b);\r\n          }\r\n        }\r\n\r\n        // Prevent later check for length on converted number.\r\n        isNum = false;\r\n        str = convertBase(str, b, 10, x.s);\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n        else e = str.length;\r\n      }\r\n\r\n      // Determine leading zeros.\r\n      for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n      // Determine trailing zeros.\r\n      for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n      if (str = str.slice(i, ++len)) {\r\n        len -= i;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (isNum && BigNumber.DEBUG &&\r\n          len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n            throw Error\r\n             (tooManyDigits + (x.s * v));\r\n        }\r\n\r\n         // Overflow?\r\n        if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n          // Infinity.\r\n          x.c = x.e = null;\r\n\r\n        // Underflow?\r\n        } else if (e < MIN_EXP) {\r\n\r\n          // Zero.\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = e;\r\n          x.c = [];\r\n\r\n          // Transform base\r\n\r\n          // e is the base 10 exponent.\r\n          // i is where to slice str to get the first element of the coefficient array.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n          if (i < len) {\r\n            if (i) x.c.push(+str.slice(0, i));\r\n\r\n            for (len -= LOG_BASE; i < len;) {\r\n              x.c.push(+str.slice(i, i += LOG_BASE));\r\n            }\r\n\r\n            i = LOG_BASE - (str = str.slice(i)).length;\r\n          } else {\r\n            i -= len;\r\n          }\r\n\r\n          for (; i--; str += '0');\r\n          x.c.push(+str);\r\n        }\r\n      } else {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n\r\n    // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n    BigNumber.clone = clone;\r\n\r\n    BigNumber.ROUND_UP = 0;\r\n    BigNumber.ROUND_DOWN = 1;\r\n    BigNumber.ROUND_CEIL = 2;\r\n    BigNumber.ROUND_FLOOR = 3;\r\n    BigNumber.ROUND_HALF_UP = 4;\r\n    BigNumber.ROUND_HALF_DOWN = 5;\r\n    BigNumber.ROUND_HALF_EVEN = 6;\r\n    BigNumber.ROUND_HALF_CEIL = 7;\r\n    BigNumber.ROUND_HALF_FLOOR = 8;\r\n    BigNumber.EUCLID = 9;\r\n\r\n\r\n    /*\r\n     * Configure infrequently-changing library-wide settings.\r\n     *\r\n     * Accept an object with the following optional properties (if the value of a property is\r\n     * a number, it must be an integer within the inclusive range stated):\r\n     *\r\n     *   DECIMAL_PLACES   {number}           0 to MAX\r\n     *   ROUNDING_MODE    {number}           0 to 8\r\n     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n     *   CRYPTO           {boolean}          true or false\r\n     *   MODULO_MODE      {number}           0 to 9\r\n     *   POW_PRECISION       {number}           0 to MAX\r\n     *   ALPHABET         {string}           A string of two or more unique characters which does\r\n     *                                       not contain '.'.\r\n     *   FORMAT           {object}           An object with some of the following properties:\r\n     *     prefix                 {string}\r\n     *     groupSize              {number}\r\n     *     secondaryGroupSize     {number}\r\n     *     groupSeparator         {string}\r\n     *     decimalSeparator       {string}\r\n     *     fractionGroupSize      {number}\r\n     *     fractionGroupSeparator {string}\r\n     *     suffix                 {string}\r\n     *\r\n     * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n     *\r\n     * E.g.\r\n     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n     *\r\n     * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n     *\r\n     * Return an object with the properties current values.\r\n     */\r\n    BigNumber.config = BigNumber.set = function (obj) {\r\n      var p, v;\r\n\r\n      if (obj != null) {\r\n\r\n        if (typeof obj == 'object') {\r\n\r\n          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            DECIMAL_PLACES = v;\r\n          }\r\n\r\n          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 8, p);\r\n            ROUNDING_MODE = v;\r\n          }\r\n\r\n          // EXPONENTIAL_AT {number|number[]}\r\n          // Integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, 0, p);\r\n              intCheck(v[1], 0, MAX, p);\r\n              TO_EXP_NEG = v[0];\r\n              TO_EXP_POS = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n            }\r\n          }\r\n\r\n          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n          if (obj.hasOwnProperty(p = 'RANGE')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, -1, p);\r\n              intCheck(v[1], 1, MAX, p);\r\n              MIN_EXP = v[0];\r\n              MAX_EXP = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              if (v) {\r\n                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n              } else {\r\n                throw Error\r\n                 (bignumberError + p + ' cannot be zero: ' + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // CRYPTO {boolean} true or false.\r\n          // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n          // '[BigNumber Error] crypto unavailable'\r\n          if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n            v = obj[p];\r\n            if (v === !!v) {\r\n              if (v) {\r\n                if (typeof crypto != 'undefined' && crypto &&\r\n                 (crypto.getRandomValues || crypto.randomBytes)) {\r\n                  CRYPTO = v;\r\n                } else {\r\n                  CRYPTO = !v;\r\n                  throw Error\r\n                   (bignumberError + 'crypto unavailable');\r\n                }\r\n              } else {\r\n                CRYPTO = v;\r\n              }\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' not true or false: ' + v);\r\n            }\r\n          }\r\n\r\n          // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 9, p);\r\n            MODULO_MODE = v;\r\n          }\r\n\r\n          // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            POW_PRECISION = v;\r\n          }\r\n\r\n          // FORMAT {object}\r\n          // '[BigNumber Error] FORMAT not an object: {v}'\r\n          if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n            v = obj[p];\r\n            if (typeof v == 'object') FORMAT = v;\r\n            else throw Error\r\n             (bignumberError + p + ' not an object: ' + v);\r\n          }\r\n\r\n          // ALPHABET {string}\r\n          // '[BigNumber Error] ALPHABET invalid: {v}'\r\n          if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n            v = obj[p];\r\n\r\n            // Disallow if less than two characters,\r\n            // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n            if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n              alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n              ALPHABET = v;\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' invalid: ' + v);\r\n            }\r\n          }\r\n\r\n        } else {\r\n\r\n          // '[BigNumber Error] Object expected: {v}'\r\n          throw Error\r\n           (bignumberError + 'Object expected: ' + obj);\r\n        }\r\n      }\r\n\r\n      return {\r\n        DECIMAL_PLACES: DECIMAL_PLACES,\r\n        ROUNDING_MODE: ROUNDING_MODE,\r\n        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n        RANGE: [MIN_EXP, MAX_EXP],\r\n        CRYPTO: CRYPTO,\r\n        MODULO_MODE: MODULO_MODE,\r\n        POW_PRECISION: POW_PRECISION,\r\n        FORMAT: FORMAT,\r\n        ALPHABET: ALPHABET\r\n      };\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if v is a BigNumber instance, otherwise return false.\r\n     *\r\n     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n     *\r\n     * v {any}\r\n     *\r\n     * '[BigNumber Error] Invalid BigNumber: {v}'\r\n     */\r\n    BigNumber.isBigNumber = function (v) {\r\n      if (!v || v._isBigNumber !== true) return false;\r\n      if (!BigNumber.DEBUG) return true;\r\n\r\n      var i, n,\r\n        c = v.c,\r\n        e = v.e,\r\n        s = v.s;\r\n\r\n      out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n          // If the first element is zero, the BigNumber value must be zero.\r\n          if (c[0] === 0) {\r\n            if (e === 0 && c.length === 1) return true;\r\n            break out;\r\n          }\r\n\r\n          // Calculate number of digits that c[0] should have, based on the exponent.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (i < 1) i += LOG_BASE;\r\n\r\n          // Calculate number of digits of c[0].\r\n          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n          if (String(c[0]).length == i) {\r\n\r\n            for (i = 0; i < c.length; i++) {\r\n              n = c[i];\r\n              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n            }\r\n\r\n            // Last element cannot be zero, unless it is the only element.\r\n            if (n !== 0) return true;\r\n          }\r\n        }\r\n\r\n      // Infinity/NaN\r\n      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n        return true;\r\n      }\r\n\r\n      throw Error\r\n        (bignumberError + 'Invalid BigNumber: ' + v);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the maximum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.maximum = BigNumber.max = function () {\r\n      return maxOrMin(arguments, -1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the minimum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.minimum = BigNumber.min = function () {\r\n      return maxOrMin(arguments, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n     * zeros are produced).\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n     * '[BigNumber Error] crypto unavailable'\r\n     */\r\n    BigNumber.random = (function () {\r\n      var pow2_53 = 0x20000000000000;\r\n\r\n      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n      // Check if Math.random() produces more than 32 bits of randomness.\r\n      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n      var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n       ? function () { return mathfloor(Math.random() * pow2_53); }\r\n       : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n         (Math.random() * 0x800000 | 0); };\r\n\r\n      return function (dp) {\r\n        var a, b, e, k, v,\r\n          i = 0,\r\n          c = [],\r\n          rand = new BigNumber(ONE);\r\n\r\n        if (dp == null) dp = DECIMAL_PLACES;\r\n        else intCheck(dp, 0, MAX);\r\n\r\n        k = mathceil(dp / LOG_BASE);\r\n\r\n        if (CRYPTO) {\r\n\r\n          // Browsers supporting crypto.getRandomValues.\r\n          if (crypto.getRandomValues) {\r\n\r\n            a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n            for (; i < k;) {\r\n\r\n              // 53 bits:\r\n              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n              // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n              //                                     11111 11111111 11111111\r\n              // 0x20000 is 2^21.\r\n              v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n              // Rejection sampling:\r\n              // 0 <= v < 9007199254740992\r\n              // Probability that v >= 9e15, is\r\n              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n              if (v >= 9e15) {\r\n                b = crypto.getRandomValues(new Uint32Array(2));\r\n                a[i] = b[0];\r\n                a[i + 1] = b[1];\r\n              } else {\r\n\r\n                // 0 <= v <= 8999999999999999\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 2;\r\n              }\r\n            }\r\n            i = k / 2;\r\n\r\n          // Node.js supporting crypto.randomBytes.\r\n          } else if (crypto.randomBytes) {\r\n\r\n            // buffer\r\n            a = crypto.randomBytes(k *= 7);\r\n\r\n            for (; i < k;) {\r\n\r\n              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n              // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n              // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n              // 0 <= v < 9007199254740992\r\n              v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n                 (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n                 (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n              if (v >= 9e15) {\r\n                crypto.randomBytes(7).copy(a, i);\r\n              } else {\r\n\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 7;\r\n              }\r\n            }\r\n            i = k / 7;\r\n          } else {\r\n            CRYPTO = false;\r\n            throw Error\r\n             (bignumberError + 'crypto unavailable');\r\n          }\r\n        }\r\n\r\n        // Use Math.random.\r\n        if (!CRYPTO) {\r\n\r\n          for (; i < k;) {\r\n            v = random53bitInt();\r\n            if (v < 9e15) c[i++] = v % 1e14;\r\n          }\r\n        }\r\n\r\n        k = c[--i];\r\n        dp %= LOG_BASE;\r\n\r\n        // Convert trailing digits to zeros according to dp.\r\n        if (k && dp) {\r\n          v = POWS_TEN[LOG_BASE - dp];\r\n          c[i] = mathfloor(k / v) * v;\r\n        }\r\n\r\n        // Remove trailing elements which are zero.\r\n        for (; c[i] === 0; c.pop(), i--);\r\n\r\n        // Zero?\r\n        if (i < 0) {\r\n          c = [e = 0];\r\n        } else {\r\n\r\n          // Remove leading elements which are zero and adjust exponent accordingly.\r\n          for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n          // Count the digits of the first element of c to determine leading zeros, and...\r\n          for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n          // adjust the exponent accordingly.\r\n          if (i < LOG_BASE) e -= LOG_BASE - i;\r\n        }\r\n\r\n        rand.e = e;\r\n        rand.c = c;\r\n        return rand;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the sum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.sum = function () {\r\n      var i = 1,\r\n        args = arguments,\r\n        sum = new BigNumber(args[0]);\r\n      for (; i < args.length;) sum = sum.plus(args[i++]);\r\n      return sum;\r\n    };\r\n\r\n\r\n    // PRIVATE FUNCTIONS\r\n\r\n\r\n    // Called by BigNumber and BigNumber.prototype.toString.\r\n    convertBase = (function () {\r\n      var decimal = '0123456789';\r\n\r\n      /*\r\n       * Convert string of baseIn to an array of numbers of baseOut.\r\n       * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n       */\r\n      function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n        var j,\r\n          arr = [0],\r\n          arrL,\r\n          i = 0,\r\n          len = str.length;\r\n\r\n        for (; i < len;) {\r\n          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n          arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n          for (j = 0; j < arr.length; j++) {\r\n\r\n            if (arr[j] > baseOut - 1) {\r\n              if (arr[j + 1] == null) arr[j + 1] = 0;\r\n              arr[j + 1] += arr[j] / baseOut | 0;\r\n              arr[j] %= baseOut;\r\n            }\r\n          }\r\n        }\r\n\r\n        return arr.reverse();\r\n      }\r\n\r\n      // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n      // If the caller is toString, we are converting from base 10 to baseOut.\r\n      // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n      return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n        var alphabet, d, e, k, r, x, xc, y,\r\n          i = str.indexOf('.'),\r\n          dp = DECIMAL_PLACES,\r\n          rm = ROUNDING_MODE;\r\n\r\n        // Non-integer.\r\n        if (i >= 0) {\r\n          k = POW_PRECISION;\r\n\r\n          // Unlimited precision.\r\n          POW_PRECISION = 0;\r\n          str = str.replace('.', '');\r\n          y = new BigNumber(baseIn);\r\n          x = y.pow(str.length - i);\r\n          POW_PRECISION = k;\r\n\r\n          // Convert str as if an integer, then restore the fraction part by dividing the\r\n          // result by its base raised to a power.\r\n\r\n          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n           10, baseOut, decimal);\r\n          y.e = y.c.length;\r\n        }\r\n\r\n        // Convert the number as integer.\r\n\r\n        xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n         ? (alphabet = ALPHABET, decimal)\r\n         : (alphabet = decimal, ALPHABET));\r\n\r\n        // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n        e = k = xc.length;\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--k] == 0; xc.pop());\r\n\r\n        // Zero?\r\n        if (!xc[0]) return alphabet.charAt(0);\r\n\r\n        // Does str represent an integer? If so, no need for the division.\r\n        if (i < 0) {\r\n          --e;\r\n        } else {\r\n          x.c = xc;\r\n          x.e = e;\r\n\r\n          // The sign is needed for correct rounding.\r\n          x.s = sign;\r\n          x = div(x, y, dp, rm, baseOut);\r\n          xc = x.c;\r\n          r = x.r;\r\n          e = x.e;\r\n        }\r\n\r\n        // xc now represents str converted to baseOut.\r\n\r\n        // The index of the rounding digit.\r\n        d = e + dp + 1;\r\n\r\n        // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n        i = xc[d];\r\n\r\n        // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n        k = baseOut / 2;\r\n        r = r || d < 0 || xc[d + 1] != null;\r\n\r\n        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n              : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n               rm == (x.s < 0 ? 8 : 7));\r\n\r\n        // If the index of the rounding digit is not greater than zero, or xc represents\r\n        // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n        // such as 0.00001.\r\n        if (d < 1 || !xc[0]) {\r\n\r\n          // 1^-dp or 0\r\n          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n        } else {\r\n\r\n          // Truncate xc to the required number of decimal places.\r\n          xc.length = d;\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            // Rounding up may mean the previous digit has to be rounded up and so on.\r\n            for (--baseOut; ++xc[--d] > baseOut;) {\r\n              xc[d] = 0;\r\n\r\n              if (!d) {\r\n                ++e;\r\n                xc = [1].concat(xc);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Determine trailing zeros.\r\n          for (k = xc.length; !xc[--k];);\r\n\r\n          // E.g. [4, 11, 15] becomes 4bf.\r\n          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n          // Add leading zeros, decimal point and trailing zeros as required.\r\n          str = toFixedPoint(str, e, alphabet.charAt(0));\r\n        }\r\n\r\n        // The caller will add the sign.\r\n        return str;\r\n      };\r\n    })();\r\n\r\n\r\n    // Perform division in the specified base. Called by div and convertBase.\r\n    div = (function () {\r\n\r\n      // Assume non-zero x and k.\r\n      function multiply(x, k, base) {\r\n        var m, temp, xlo, xhi,\r\n          carry = 0,\r\n          i = x.length,\r\n          klo = k % SQRT_BASE,\r\n          khi = k / SQRT_BASE | 0;\r\n\r\n        for (x = x.slice(); i--;) {\r\n          xlo = x[i] % SQRT_BASE;\r\n          xhi = x[i] / SQRT_BASE | 0;\r\n          m = khi * xlo + xhi * klo;\r\n          temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n          x[i] = temp % base;\r\n        }\r\n\r\n        if (carry) x = [carry].concat(x);\r\n\r\n        return x;\r\n      }\r\n\r\n      function compare(a, b, aL, bL) {\r\n        var i, cmp;\r\n\r\n        if (aL != bL) {\r\n          cmp = aL > bL ? 1 : -1;\r\n        } else {\r\n\r\n          for (i = cmp = 0; i < aL; i++) {\r\n\r\n            if (a[i] != b[i]) {\r\n              cmp = a[i] > b[i] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        return cmp;\r\n      }\r\n\r\n      function subtract(a, b, aL, base) {\r\n        var i = 0;\r\n\r\n        // Subtract b from a.\r\n        for (; aL--;) {\r\n          a[aL] -= i;\r\n          i = a[aL] < b[aL] ? 1 : 0;\r\n          a[aL] = i * base + a[aL] - b[aL];\r\n        }\r\n\r\n        // Remove leading zeros.\r\n        for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n      }\r\n\r\n      // x: dividend, y: divisor.\r\n      return function (x, y, dp, rm, base) {\r\n        var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n          yL, yz,\r\n          s = x.s == y.s ? 1 : -1,\r\n          xc = x.c,\r\n          yc = y.c;\r\n\r\n        // Either NaN, Infinity or 0?\r\n        if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n          return new BigNumber(\r\n\r\n           // Return NaN if either NaN, or both Infinity or 0.\r\n           !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n            // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n            xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n         );\r\n        }\r\n\r\n        q = new BigNumber(s);\r\n        qc = q.c = [];\r\n        e = x.e - y.e;\r\n        s = dp + e + 1;\r\n\r\n        if (!base) {\r\n          base = BASE;\r\n          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n          s = s / LOG_BASE | 0;\r\n        }\r\n\r\n        // Result exponent may be one less then the current value of e.\r\n        // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n        for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n        if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n        if (s < 0) {\r\n          qc.push(1);\r\n          more = true;\r\n        } else {\r\n          xL = xc.length;\r\n          yL = yc.length;\r\n          i = 0;\r\n          s += 2;\r\n\r\n          // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n          n = mathfloor(base / (yc[0] + 1));\r\n\r\n          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n          if (n > 1) {\r\n            yc = multiply(yc, n, base);\r\n            xc = multiply(xc, n, base);\r\n            yL = yc.length;\r\n            xL = xc.length;\r\n          }\r\n\r\n          xi = yL;\r\n          rem = xc.slice(0, yL);\r\n          remL = rem.length;\r\n\r\n          // Add zeros to make remainder as long as divisor.\r\n          for (; remL < yL; rem[remL++] = 0);\r\n          yz = yc.slice();\r\n          yz = [0].concat(yz);\r\n          yc0 = yc[0];\r\n          if (yc[1] >= base / 2) yc0++;\r\n          // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n          do {\r\n            n = 0;\r\n\r\n            // Compare divisor and remainder.\r\n            cmp = compare(yc, rem, yL, remL);\r\n\r\n            // If divisor < remainder.\r\n            if (cmp < 0) {\r\n\r\n              // Calculate trial digit, n.\r\n\r\n              rem0 = rem[0];\r\n              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n              // n is how many times the divisor goes into the current remainder.\r\n              n = mathfloor(rem0 / yc0);\r\n\r\n              //  Algorithm:\r\n              //  product = divisor multiplied by trial digit (n).\r\n              //  Compare product and remainder.\r\n              //  If product is greater than remainder:\r\n              //    Subtract divisor from product, decrement trial digit.\r\n              //  Subtract product from remainder.\r\n              //  If product was less than remainder at the last compare:\r\n              //    Compare new remainder and divisor.\r\n              //    If remainder is greater than divisor:\r\n              //      Subtract divisor from remainder, increment trial digit.\r\n\r\n              if (n > 1) {\r\n\r\n                // n may be > base only when base is 3.\r\n                if (n >= base) n = base - 1;\r\n\r\n                // product = divisor * trial digit.\r\n                prod = multiply(yc, n, base);\r\n                prodL = prod.length;\r\n                remL = rem.length;\r\n\r\n                // Compare product and remainder.\r\n                // If product > remainder then trial digit n too high.\r\n                // n is 1 too high about 5% of the time, and is not known to have\r\n                // ever been more than 1 too high.\r\n                while (compare(prod, rem, prodL, remL) == 1) {\r\n                  n--;\r\n\r\n                  // Subtract divisor from product.\r\n                  subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                  prodL = prod.length;\r\n                  cmp = 1;\r\n                }\r\n              } else {\r\n\r\n                // n is 0 or 1, cmp is -1.\r\n                // If n is 0, there is no need to compare yc and rem again below,\r\n                // so change cmp to 1 to avoid it.\r\n                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                if (n == 0) {\r\n\r\n                  // divisor < remainder, so n must be at least 1.\r\n                  cmp = n = 1;\r\n                }\r\n\r\n                // product = divisor\r\n                prod = yc.slice();\r\n                prodL = prod.length;\r\n              }\r\n\r\n              if (prodL < remL) prod = [0].concat(prod);\r\n\r\n              // Subtract product from remainder.\r\n              subtract(rem, prod, remL, base);\r\n              remL = rem.length;\r\n\r\n               // If product was < remainder.\r\n              if (cmp == -1) {\r\n\r\n                // Compare divisor and new remainder.\r\n                // If divisor < new remainder, subtract divisor from remainder.\r\n                // Trial digit n too low.\r\n                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                while (compare(yc, rem, yL, remL) < 1) {\r\n                  n++;\r\n\r\n                  // Subtract divisor from remainder.\r\n                  subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                  remL = rem.length;\r\n                }\r\n              }\r\n            } else if (cmp === 0) {\r\n              n++;\r\n              rem = [0];\r\n            } // else cmp === 1 and n will be 0\r\n\r\n            // Add the next digit, n, to the result array.\r\n            qc[i++] = n;\r\n\r\n            // Update the remainder.\r\n            if (rem[0]) {\r\n              rem[remL++] = xc[xi] || 0;\r\n            } else {\r\n              rem = [xc[xi]];\r\n              remL = 1;\r\n            }\r\n          } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n          more = rem[0] != null;\r\n\r\n          // Leading zero?\r\n          if (!qc[0]) qc.splice(0, 1);\r\n        }\r\n\r\n        if (base == BASE) {\r\n\r\n          // To calculate q.e, first get the number of digits of qc[0].\r\n          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n        // Caller is convertBase.\r\n        } else {\r\n          q.e = e;\r\n          q.r = +more;\r\n        }\r\n\r\n        return q;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n     * notation rounded to the specified decimal places or significant digits.\r\n     *\r\n     * n: a BigNumber.\r\n     * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n     * rm: the rounding mode.\r\n     * id: 1 (toExponential) or 2 (toPrecision).\r\n     */\r\n    function format(n, i, rm, id) {\r\n      var c0, e, ne, len, str;\r\n\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      if (!n.c) return n.toString();\r\n\r\n      c0 = n.c[0];\r\n      ne = n.e;\r\n\r\n      if (i == null) {\r\n        str = coeffToString(n.c);\r\n        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n         ? toExponential(str, ne)\r\n         : toFixedPoint(str, ne, '0');\r\n      } else {\r\n        n = round(new BigNumber(n), i, rm);\r\n\r\n        // n.e may have changed if the value was rounded up.\r\n        e = n.e;\r\n\r\n        str = coeffToString(n.c);\r\n        len = str.length;\r\n\r\n        // toPrecision returns exponential notation if the number of significant digits\r\n        // specified is less than the number of digits necessary to represent the integer\r\n        // part of the value in fixed-point notation.\r\n\r\n        // Exponential notation.\r\n        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n          // Append zeros?\r\n          for (; len < i; str += '0', len++);\r\n          str = toExponential(str, e);\r\n\r\n        // Fixed-point notation.\r\n        } else {\r\n          i -= ne;\r\n          str = toFixedPoint(str, e, '0');\r\n\r\n          // Append zeros?\r\n          if (e + 1 > len) {\r\n            if (--i > 0) for (str += '.'; i--; str += '0');\r\n          } else {\r\n            i += e - len;\r\n            if (i > 0) {\r\n              if (e + 1 == len) str += '.';\r\n              for (; i--; str += '0');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return n.s < 0 && c0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // Handle BigNumber.max and BigNumber.min.\r\n    // If any number is NaN, return NaN.\r\n    function maxOrMin(args, n) {\r\n      var k, y,\r\n        i = 1,\r\n        x = new BigNumber(args[0]);\r\n\r\n      for (; i < args.length; i++) {\r\n        y = new BigNumber(args[i]);\r\n        if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n          x = y;\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    /*\r\n     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n     * Called by minus, plus and times.\r\n     */\r\n    function normalise(n, c, e) {\r\n      var i = 1,\r\n        j = c.length;\r\n\r\n       // Remove trailing zeros.\r\n      for (; !c[--j]; c.pop());\r\n\r\n      // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n      for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n      // Overflow?\r\n      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        n.c = n.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        n.c = [n.e = 0];\r\n      } else {\r\n        n.e = e;\r\n        n.c = c;\r\n      }\r\n\r\n      return n;\r\n    }\r\n\r\n\r\n    // Handle values that fail the validity test in BigNumber.\r\n    parseNumeric = (function () {\r\n      var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n        dotAfter = /^([^.]+)\\.$/,\r\n        dotBefore = /^\\.([^.]+)$/,\r\n        isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n        whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n      return function (x, str, isNum, b) {\r\n        var base,\r\n          s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n        // No exception on ±Infinity or NaN.\r\n        if (isInfinityOrNaN.test(s)) {\r\n          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n        } else {\r\n          if (!isNum) {\r\n\r\n            // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n            s = s.replace(basePrefix, function (m, p1, p2) {\r\n              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n              return !b || b == base ? p1 : m;\r\n            });\r\n\r\n            if (b) {\r\n              base = b;\r\n\r\n              // E.g. '1.' to '1', '.1' to '0.1'\r\n              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n            }\r\n\r\n            if (str != s) return new BigNumber(s, base);\r\n          }\r\n\r\n          // '[BigNumber Error] Not a number: {n}'\r\n          // '[BigNumber Error] Not a base {b} number: {n}'\r\n          if (BigNumber.DEBUG) {\r\n            throw Error\r\n              (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n          }\r\n\r\n          // NaN\r\n          x.s = null;\r\n        }\r\n\r\n        x.c = x.e = null;\r\n      }\r\n    })();\r\n\r\n\r\n    /*\r\n     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n     * If r is truthy, it is known that there are more digits after the rounding digit.\r\n     */\r\n    function round(x, sd, rm, r) {\r\n      var d, i, j, k, n, ni, rd,\r\n        xc = x.c,\r\n        pows10 = POWS_TEN;\r\n\r\n      // if x is not Infinity or NaN...\r\n      if (xc) {\r\n\r\n        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n        // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n        // ni is the index of n within x.c.\r\n        // d is the number of digits of n.\r\n        // i is the index of rd within n including leading zeros.\r\n        // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n        out: {\r\n\r\n          // Get the number of digits of the first element of xc.\r\n          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n          i = sd - d;\r\n\r\n          // If the rounding digit is in the first element of xc...\r\n          if (i < 0) {\r\n            i += LOG_BASE;\r\n            j = sd;\r\n            n = xc[ni = 0];\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n          } else {\r\n            ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n            if (ni >= xc.length) {\r\n\r\n              if (r) {\r\n\r\n                // Needed by sqrt.\r\n                for (; xc.length <= ni; xc.push(0));\r\n                n = rd = 0;\r\n                d = 1;\r\n                i %= LOG_BASE;\r\n                j = i - LOG_BASE + 1;\r\n              } else {\r\n                break out;\r\n              }\r\n            } else {\r\n              n = k = xc[ni];\r\n\r\n              // Get the number of digits of n.\r\n              for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n              // Get the index of rd within n.\r\n              i %= LOG_BASE;\r\n\r\n              // Get the index of rd within n, adjusted for leading zeros.\r\n              // The number of leading zeros of n is given by LOG_BASE - d.\r\n              j = i - LOG_BASE + d;\r\n\r\n              // Get the rounding digit at index j of n.\r\n              rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n            }\r\n          }\r\n\r\n          r = r || sd < 0 ||\r\n\r\n          // Are there any non-zero digits after the rounding digit?\r\n          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n           xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n          r = rm < 4\r\n           ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n           : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n            // Check whether the digit to the left of the rounding digit is odd.\r\n            ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n          if (sd < 1 || !xc[0]) {\r\n            xc.length = 0;\r\n\r\n            if (r) {\r\n\r\n              // Convert sd to decimal places.\r\n              sd -= x.e + 1;\r\n\r\n              // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n              x.e = -sd || 0;\r\n            } else {\r\n\r\n              // Zero.\r\n              xc[0] = x.e = 0;\r\n            }\r\n\r\n            return x;\r\n          }\r\n\r\n          // Remove excess digits.\r\n          if (i == 0) {\r\n            xc.length = ni;\r\n            k = 1;\r\n            ni--;\r\n          } else {\r\n            xc.length = ni + 1;\r\n            k = pows10[LOG_BASE - i];\r\n\r\n            // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n            // j > 0 means i > number of leading zeros of n.\r\n            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n          }\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            for (; ;) {\r\n\r\n              // If the digit to be rounded up is in the first element of xc...\r\n              if (ni == 0) {\r\n\r\n                // i will be the length of xc[0] before k is added.\r\n                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n                j = xc[0] += k;\r\n                for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n                // if i != k the length has increased.\r\n                if (i != k) {\r\n                  x.e++;\r\n                  if (xc[0] == BASE) xc[0] = 1;\r\n                }\r\n\r\n                break;\r\n              } else {\r\n                xc[ni] += k;\r\n                if (xc[ni] != BASE) break;\r\n                xc[ni--] = 0;\r\n                k = 1;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Remove trailing zeros.\r\n          for (i = xc.length; xc[--i] === 0; xc.pop());\r\n        }\r\n\r\n        // Overflow? Infinity.\r\n        if (x.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n\r\n        // Underflow? Zero.\r\n        } else if (x.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    function valueOf(n) {\r\n      var str,\r\n        e = n.e;\r\n\r\n      if (e === null) return n.toString();\r\n\r\n      str = coeffToString(n.c);\r\n\r\n      str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n        ? toExponential(str, e)\r\n        : toFixedPoint(str, e, '0');\r\n\r\n      return n.s < 0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n     */\r\n    P.absoluteValue = P.abs = function () {\r\n      var x = new BigNumber(this);\r\n      if (x.s < 0) x.s = 1;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     *   0 if they have the same value,\r\n     *   or null if the value of either is NaN.\r\n     */\r\n    P.comparedTo = function (y, b) {\r\n      return compare(this, new BigNumber(y, b));\r\n    };\r\n\r\n\r\n    /*\r\n     * If dp is undefined or null or true or false, return the number of decimal places of the\r\n     * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     *\r\n     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.decimalPlaces = P.dp = function (dp, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), dp + x.e + 1, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n      // Subtract the number of trailing zeros of the last number.\r\n      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n      if (n < 0) n = 0;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n / 0 = I\r\n     *  n / N = N\r\n     *  n / I = 0\r\n     *  0 / n = 0\r\n     *  0 / 0 = N\r\n     *  0 / N = N\r\n     *  0 / I = 0\r\n     *  N / n = N\r\n     *  N / 0 = N\r\n     *  N / N = N\r\n     *  N / I = N\r\n     *  I / n = I\r\n     *  I / 0 = I\r\n     *  I / N = N\r\n     *  I / I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.dividedBy = P.div = function (y, b) {\r\n      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n     * BigNumber by the value of BigNumber(y, b).\r\n     */\r\n    P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n      return div(this, new BigNumber(y, b), 0, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n     *\r\n     * If m is present, return the result modulo m.\r\n     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n     *\r\n     * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n     *\r\n     * n {number|string|BigNumber} The exponent. An integer.\r\n     * [m] {number|string|BigNumber} The modulus.\r\n     *\r\n     * '[BigNumber Error] Exponent not an integer: {n}'\r\n     */\r\n    P.exponentiatedBy = P.pow = function (n, m) {\r\n      var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n        x = this;\r\n\r\n      n = new BigNumber(n);\r\n\r\n      // Allow NaN and ±Infinity, but not other non-integers.\r\n      if (n.c && !n.isInteger()) {\r\n        throw Error\r\n          (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n      }\r\n\r\n      if (m != null) m = new BigNumber(m);\r\n\r\n      // Exponent of MAX_SAFE_INTEGER is 15.\r\n      nIsBig = n.e > 14;\r\n\r\n      // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n        // The sign of the result of pow when x is negative depends on the evenness of n.\r\n        // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n        return m ? y.mod(m) : y;\r\n      }\r\n\r\n      nIsNeg = n.s < 0;\r\n\r\n      if (m) {\r\n\r\n        // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n        isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n        if (isModExp) x = x.mod(m);\r\n\r\n      // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n      // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n        // [1, 240000000]\r\n        ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n        // [80000000000000]  [99999750000000]\r\n        : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n        // If x is negative and n is odd, k = -0, else k = 0.\r\n        k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n        // If x >= 1, k = ±Infinity.\r\n        if (x.e > -1) k = 1 / k;\r\n\r\n        // If n is negative return ±0, else return ±Infinity.\r\n        return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n      } else if (POW_PRECISION) {\r\n\r\n        // Truncating each coefficient array to a length of k after each multiplication\r\n        // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n        // i.e. there will be a minimum of 28 guard digits retained.\r\n        k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n      }\r\n\r\n      if (nIsBig) {\r\n        half = new BigNumber(0.5);\r\n        if (nIsNeg) n.s = 1;\r\n        nIsOdd = isOdd(n);\r\n      } else {\r\n        i = Math.abs(+valueOf(n));\r\n        nIsOdd = i % 2;\r\n      }\r\n\r\n      y = new BigNumber(ONE);\r\n\r\n      // Performs 54 loop iterations for n of 9007199254740991.\r\n      for (; ;) {\r\n\r\n        if (nIsOdd) {\r\n          y = y.times(x);\r\n          if (!y.c) break;\r\n\r\n          if (k) {\r\n            if (y.c.length > k) y.c.length = k;\r\n          } else if (isModExp) {\r\n            y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n          }\r\n        }\r\n\r\n        if (i) {\r\n          i = mathfloor(i / 2);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        } else {\r\n          n = n.times(half);\r\n          round(n, n.e + 1, 1);\r\n\r\n          if (n.e > 14) {\r\n            nIsOdd = isOdd(n);\r\n          } else {\r\n            i = +valueOf(n);\r\n            if (i === 0) break;\r\n            nIsOdd = i % 2;\r\n          }\r\n        }\r\n\r\n        x = x.times(x);\r\n\r\n        if (k) {\r\n          if (x.c && x.c.length > k) x.c.length = k;\r\n        } else if (isModExp) {\r\n          x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (isModExp) return y;\r\n      if (nIsNeg) y = ONE.div(y);\r\n\r\n      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n     */\r\n    P.integerValue = function (rm) {\r\n      var n = new BigNumber(this);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n      return round(n, n.e + 1, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isEqualTo = P.eq = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n     */\r\n    P.isFinite = function () {\r\n      return !!this.c;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isGreaterThan = P.gt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n     */\r\n    P.isInteger = function () {\r\n      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isLessThan = P.lt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n     */\r\n    P.isNaN = function () {\r\n      return !this.s;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is negative, otherwise return false.\r\n     */\r\n    P.isNegative = function () {\r\n      return this.s < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is positive, otherwise return false.\r\n     */\r\n    P.isPositive = function () {\r\n      return this.s > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n     */\r\n    P.isZero = function () {\r\n      return !!this.c && this.c[0] == 0;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n - 0 = n\r\n     *  n - N = N\r\n     *  n - I = -I\r\n     *  0 - n = -n\r\n     *  0 - 0 = 0\r\n     *  0 - N = N\r\n     *  0 - I = -I\r\n     *  N - n = N\r\n     *  N - 0 = N\r\n     *  N - N = N\r\n     *  N - I = N\r\n     *  I - n = I\r\n     *  I - 0 = I\r\n     *  I - N = N\r\n     *  I - I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.minus = function (y, b) {\r\n      var i, j, t, xLTy,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n      if (a != b) {\r\n        y.s = -b;\r\n        return x.plus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Either Infinity?\r\n        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n           // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n           ROUNDING_MODE == 3 ? -0 : 0);\r\n        }\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Determine which is the bigger number.\r\n      if (a = xe - ye) {\r\n\r\n        if (xLTy = a < 0) {\r\n          a = -a;\r\n          t = xc;\r\n        } else {\r\n          ye = xe;\r\n          t = yc;\r\n        }\r\n\r\n        t.reverse();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        for (b = a; b--; t.push(0));\r\n        t.reverse();\r\n      } else {\r\n\r\n        // Exponents equal. Check digit by digit.\r\n        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n        for (a = b = 0; b < j; b++) {\r\n\r\n          if (xc[b] != yc[b]) {\r\n            xLTy = xc[b] < yc[b];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // x < y? Point xc to the array of the bigger number.\r\n      if (xLTy) {\r\n        t = xc;\r\n        xc = yc;\r\n        yc = t;\r\n        y.s = -y.s;\r\n      }\r\n\r\n      b = (j = yc.length) - (i = xc.length);\r\n\r\n      // Append zeros to xc if shorter.\r\n      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n      if (b > 0) for (; b--; xc[i++] = 0);\r\n      b = BASE - 1;\r\n\r\n      // Subtract yc from xc.\r\n      for (; j > a;) {\r\n\r\n        if (xc[--j] < yc[j]) {\r\n          for (i = j; i && !xc[--i]; xc[i] = b);\r\n          --xc[i];\r\n          xc[j] += BASE;\r\n        }\r\n\r\n        xc[j] -= yc[j];\r\n      }\r\n\r\n      // Remove leading zeros and adjust exponent accordingly.\r\n      for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n      // Zero?\r\n      if (!xc[0]) {\r\n\r\n        // Following IEEE 754 (2008) 6.3,\r\n        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n        y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n        y.c = [y.e = 0];\r\n        return y;\r\n      }\r\n\r\n      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n      // for finite x and y.\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     *   n % 0 =  N\r\n     *   n % N =  N\r\n     *   n % I =  n\r\n     *   0 % n =  0\r\n     *  -0 % n = -0\r\n     *   0 % 0 =  N\r\n     *   0 % N =  N\r\n     *   0 % I =  0\r\n     *   N % n =  N\r\n     *   N % 0 =  N\r\n     *   N % N =  N\r\n     *   N % I =  N\r\n     *   I % n =  N\r\n     *   I % 0 =  N\r\n     *   I % N =  N\r\n     *   I % I =  N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n     * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n     */\r\n    P.modulo = P.mod = function (y, b) {\r\n      var q, s,\r\n        x = this;\r\n\r\n      y = new BigNumber(y, b);\r\n\r\n      // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n      if (!x.c || !y.s || y.c && !y.c[0]) {\r\n        return new BigNumber(NaN);\r\n\r\n      // Return x if y is Infinity or x is zero.\r\n      } else if (!y.c || x.c && !x.c[0]) {\r\n        return new BigNumber(x);\r\n      }\r\n\r\n      if (MODULO_MODE == 9) {\r\n\r\n        // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n        // r = x - qy    where  0 <= r < abs(y)\r\n        s = y.s;\r\n        y.s = 1;\r\n        q = div(x, y, 0, 3);\r\n        y.s = s;\r\n        q.s *= s;\r\n      } else {\r\n        q = div(x, y, 0, MODULO_MODE);\r\n      }\r\n\r\n      y = x.minus(q.times(y));\r\n\r\n      // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n      return y;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n * 0 = 0\r\n     *  n * N = N\r\n     *  n * I = I\r\n     *  0 * n = 0\r\n     *  0 * 0 = 0\r\n     *  0 * N = N\r\n     *  0 * I = N\r\n     *  N * n = N\r\n     *  N * 0 = N\r\n     *  N * N = N\r\n     *  N * I = N\r\n     *  I * n = I\r\n     *  I * 0 = N\r\n     *  I * N = N\r\n     *  I * I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n     * of BigNumber(y, b).\r\n     */\r\n    P.multipliedBy = P.times = function (y, b) {\r\n      var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n        base, sqrtBase,\r\n        x = this,\r\n        xc = x.c,\r\n        yc = (y = new BigNumber(y, b)).c;\r\n\r\n      // Either NaN, ±Infinity or ±0?\r\n      if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n        // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n          y.c = y.e = y.s = null;\r\n        } else {\r\n          y.s *= x.s;\r\n\r\n          // Return ±Infinity if either is ±Infinity.\r\n          if (!xc || !yc) {\r\n            y.c = y.e = null;\r\n\r\n          // Return ±0 if either is ±0.\r\n          } else {\r\n            y.c = [0];\r\n            y.e = 0;\r\n          }\r\n        }\r\n\r\n        return y;\r\n      }\r\n\r\n      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n      y.s *= x.s;\r\n      xcL = xc.length;\r\n      ycL = yc.length;\r\n\r\n      // Ensure xc points to longer array and xcL to its length.\r\n      if (xcL < ycL) {\r\n        zc = xc;\r\n        xc = yc;\r\n        yc = zc;\r\n        i = xcL;\r\n        xcL = ycL;\r\n        ycL = i;\r\n      }\r\n\r\n      // Initialise the result array with zeros.\r\n      for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n      base = BASE;\r\n      sqrtBase = SQRT_BASE;\r\n\r\n      for (i = ycL; --i >= 0;) {\r\n        c = 0;\r\n        ylo = yc[i] % sqrtBase;\r\n        yhi = yc[i] / sqrtBase | 0;\r\n\r\n        for (k = xcL, j = i + k; j > i;) {\r\n          xlo = xc[--k] % sqrtBase;\r\n          xhi = xc[k] / sqrtBase | 0;\r\n          m = yhi * xlo + xhi * ylo;\r\n          xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n          zc[j--] = xlo % base;\r\n        }\r\n\r\n        zc[j] = c;\r\n      }\r\n\r\n      if (c) {\r\n        ++e;\r\n      } else {\r\n        zc.splice(0, 1);\r\n      }\r\n\r\n      return normalise(y, zc, e);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n     * i.e. multiplied by -1.\r\n     */\r\n    P.negated = function () {\r\n      var x = new BigNumber(this);\r\n      x.s = -x.s || null;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n + 0 = n\r\n     *  n + N = N\r\n     *  n + I = I\r\n     *  0 + n = n\r\n     *  0 + 0 = 0\r\n     *  0 + N = N\r\n     *  0 + I = I\r\n     *  N + n = N\r\n     *  N + 0 = N\r\n     *  N + N = N\r\n     *  N + I = N\r\n     *  I + n = I\r\n     *  I + 0 = I\r\n     *  I + N = N\r\n     *  I + I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.plus = function (y, b) {\r\n      var t,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n       if (a != b) {\r\n        y.s = -b;\r\n        return x.minus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Return ±Infinity if either ±Infinity.\r\n        if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n        // Either zero?\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n      if (a = xe - ye) {\r\n        if (a > 0) {\r\n          ye = xe;\r\n          t = yc;\r\n        } else {\r\n          a = -a;\r\n          t = xc;\r\n        }\r\n\r\n        t.reverse();\r\n        for (; a--; t.push(0));\r\n        t.reverse();\r\n      }\r\n\r\n      a = xc.length;\r\n      b = yc.length;\r\n\r\n      // Point xc to the longer array, and b to the shorter length.\r\n      if (a - b < 0) {\r\n        t = yc;\r\n        yc = xc;\r\n        xc = t;\r\n        b = a;\r\n      }\r\n\r\n      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n      for (a = 0; b;) {\r\n        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n      }\r\n\r\n      if (a) {\r\n        xc = [a].concat(xc);\r\n        ++ye;\r\n      }\r\n\r\n      // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n      // ye = MAX_EXP + 1 possible\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     * If sd is undefined or null or true or false, return the number of significant digits of\r\n     * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     * If sd is true include integer-part trailing zeros in the count.\r\n     *\r\n     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n     *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.precision = P.sd = function (sd, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (sd != null && sd !== !!sd) {\r\n        intCheck(sd, 1, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), sd, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      v = c.length - 1;\r\n      n = v * LOG_BASE + 1;\r\n\r\n      if (v = c[v]) {\r\n\r\n        // Subtract the number of trailing zeros of the last element.\r\n        for (; v % 10 == 0; v /= 10, n--);\r\n\r\n        // Add the number of digits of the first element.\r\n        for (v = c[0]; v >= 10; v /= 10, n++);\r\n      }\r\n\r\n      if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n     *\r\n     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n     */\r\n    P.shiftedBy = function (k) {\r\n      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n      return this.times('1e' + k);\r\n    };\r\n\r\n\r\n    /*\r\n     *  sqrt(-n) =  N\r\n     *  sqrt(N) =  N\r\n     *  sqrt(-I) =  N\r\n     *  sqrt(I) =  I\r\n     *  sqrt(0) =  0\r\n     *  sqrt(-0) = -0\r\n     *\r\n     * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.squareRoot = P.sqrt = function () {\r\n      var m, n, r, rep, t,\r\n        x = this,\r\n        c = x.c,\r\n        s = x.s,\r\n        e = x.e,\r\n        dp = DECIMAL_PLACES + 4,\r\n        half = new BigNumber('0.5');\r\n\r\n      // Negative/NaN/Infinity/zero?\r\n      if (s !== 1 || !c || !c[0]) {\r\n        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n      }\r\n\r\n      // Initial estimate.\r\n      s = Math.sqrt(+valueOf(x));\r\n\r\n      // Math.sqrt underflow/overflow?\r\n      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n      if (s == 0 || s == 1 / 0) {\r\n        n = coeffToString(c);\r\n        if ((n.length + e) % 2 == 0) n += '0';\r\n        s = Math.sqrt(+n);\r\n        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n        if (s == 1 / 0) {\r\n          n = '5e' + e;\r\n        } else {\r\n          n = s.toExponential();\r\n          n = n.slice(0, n.indexOf('e') + 1) + e;\r\n        }\r\n\r\n        r = new BigNumber(n);\r\n      } else {\r\n        r = new BigNumber(s + '');\r\n      }\r\n\r\n      // Check for zero.\r\n      // r could be zero if MIN_EXP is changed after the this value was created.\r\n      // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n      // coeffToString to throw.\r\n      if (r.c[0]) {\r\n        e = r.e;\r\n        s = e + dp;\r\n        if (s < 3) s = 0;\r\n\r\n        // Newton-Raphson iteration.\r\n        for (; ;) {\r\n          t = r;\r\n          r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n            // The exponent of r may here be one less than the final result exponent,\r\n            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n            // are indexed correctly.\r\n            if (r.e < e) --s;\r\n            n = n.slice(s - 3, s + 1);\r\n\r\n            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n            // iteration.\r\n            if (n == '9999' || !rep && n == '4999') {\r\n\r\n              // On the first iteration only, check to see if rounding up gives the\r\n              // exact result as the nines may infinitely repeat.\r\n              if (!rep) {\r\n                round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n                if (t.times(t).eq(x)) {\r\n                  r = t;\r\n                  break;\r\n                }\r\n              }\r\n\r\n              dp += 4;\r\n              s += 4;\r\n              rep = 1;\r\n            } else {\r\n\r\n              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n              // result. If not, then there are further digits and m will be truthy.\r\n              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n                // Truncate to the first rounding digit.\r\n                round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n                m = !r.times(r).eq(x);\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in exponential notation and\r\n     * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toExponential = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp++;\r\n      }\r\n      return format(this, dp, rm, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n     * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toFixed = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp = dp + this.e + 1;\r\n      }\r\n      return format(this, dp, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n     * of the format or FORMAT object (see BigNumber.set).\r\n     *\r\n     * The formatting object may contain some or all of the properties shown below.\r\n     *\r\n     * FORMAT = {\r\n     *   prefix: '',\r\n     *   groupSize: 3,\r\n     *   secondaryGroupSize: 0,\r\n     *   groupSeparator: ',',\r\n     *   decimalSeparator: '.',\r\n     *   fractionGroupSize: 0,\r\n     *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n     *   suffix: ''\r\n     * };\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     * [format] {object} Formatting options. See FORMAT pbject above.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     * '[BigNumber Error] Argument not an object: {format}'\r\n     */\r\n    P.toFormat = function (dp, rm, format) {\r\n      var str,\r\n        x = this;\r\n\r\n      if (format == null) {\r\n        if (dp != null && rm && typeof rm == 'object') {\r\n          format = rm;\r\n          rm = null;\r\n        } else if (dp && typeof dp == 'object') {\r\n          format = dp;\r\n          dp = rm = null;\r\n        } else {\r\n          format = FORMAT;\r\n        }\r\n      } else if (typeof format != 'object') {\r\n        throw Error\r\n          (bignumberError + 'Argument not an object: ' + format);\r\n      }\r\n\r\n      str = x.toFixed(dp, rm);\r\n\r\n      if (x.c) {\r\n        var i,\r\n          arr = str.split('.'),\r\n          g1 = +format.groupSize,\r\n          g2 = +format.secondaryGroupSize,\r\n          groupSeparator = format.groupSeparator || '',\r\n          intPart = arr[0],\r\n          fractionPart = arr[1],\r\n          isNeg = x.s < 0,\r\n          intDigits = isNeg ? intPart.slice(1) : intPart,\r\n          len = intDigits.length;\r\n\r\n        if (g2) {\r\n          i = g1;\r\n          g1 = g2;\r\n          g2 = i;\r\n          len -= i;\r\n        }\r\n\r\n        if (g1 > 0 && len > 0) {\r\n          i = len % g1 || g1;\r\n          intPart = intDigits.substr(0, i);\r\n          for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n          if (isNeg) intPart = '-' + intPart;\r\n        }\r\n\r\n        str = fractionPart\r\n         ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n          ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n           '$&' + (format.fractionGroupSeparator || ''))\r\n          : fractionPart)\r\n         : intPart;\r\n      }\r\n\r\n      return (format.prefix || '') + str + (format.suffix || '');\r\n    };\r\n\r\n\r\n    /*\r\n     * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n     * fraction with an integer numerator and an integer denominator.\r\n     * The denominator will be a positive non-zero value less than or equal to the specified\r\n     * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n     * the lowest value necessary to represent the number exactly.\r\n     *\r\n     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n     *\r\n     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n     */\r\n    P.toFraction = function (md) {\r\n      var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n        x = this,\r\n        xc = x.c;\r\n\r\n      if (md != null) {\r\n        n = new BigNumber(md);\r\n\r\n        // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n          throw Error\r\n            (bignumberError + 'Argument ' +\r\n              (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n        }\r\n      }\r\n\r\n      if (!xc) return new BigNumber(x);\r\n\r\n      d = new BigNumber(ONE);\r\n      n1 = d0 = new BigNumber(ONE);\r\n      d1 = n0 = new BigNumber(ONE);\r\n      s = coeffToString(xc);\r\n\r\n      // Determine initial denominator.\r\n      // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n      e = d.e = s.length - x.e - 1;\r\n      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n      md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n      exp = MAX_EXP;\r\n      MAX_EXP = 1 / 0;\r\n      n = new BigNumber(s);\r\n\r\n      // n0 = d1 = 0\r\n      n0.c[0] = 0;\r\n\r\n      for (; ;)  {\r\n        q = div(n, d, 0, 1);\r\n        d2 = d0.plus(q.times(d1));\r\n        if (d2.comparedTo(md) == 1) break;\r\n        d0 = d1;\r\n        d1 = d2;\r\n        n1 = n0.plus(q.times(d2 = n1));\r\n        n0 = d2;\r\n        d = n.minus(q.times(d2 = d));\r\n        n = d2;\r\n      }\r\n\r\n      d2 = div(md.minus(d0), d1, 0, 1);\r\n      n0 = n0.plus(d2.times(n1));\r\n      d0 = d0.plus(d2.times(d1));\r\n      n0.s = n1.s = x.s;\r\n      e = e * 2;\r\n\r\n      // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n          div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n      MAX_EXP = exp;\r\n\r\n      return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return the value of this BigNumber converted to a number primitive.\r\n     */\r\n    P.toNumber = function () {\r\n      return +valueOf(this);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n     * necessary to represent the integer part of the value in fixed-point notation, then use\r\n     * exponential notation.\r\n     *\r\n     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.toPrecision = function (sd, rm) {\r\n      if (sd != null) intCheck(sd, 1, MAX);\r\n      return format(this, sd, rm, 2);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n     * TO_EXP_NEG, return exponential notation.\r\n     *\r\n     * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n     *\r\n     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n     */\r\n    P.toString = function (b) {\r\n      var str,\r\n        n = this,\r\n        s = n.s,\r\n        e = n.e;\r\n\r\n      // Infinity or NaN?\r\n      if (e === null) {\r\n        if (s) {\r\n          str = 'Infinity';\r\n          if (s < 0) str = '-' + str;\r\n        } else {\r\n          str = 'NaN';\r\n        }\r\n      } else {\r\n        if (b == null) {\r\n          str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n           ? toExponential(coeffToString(n.c), e)\r\n           : toFixedPoint(coeffToString(n.c), e, '0');\r\n        } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n          str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n        } else {\r\n          intCheck(b, 2, ALPHABET.length, 'Base');\r\n          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n        }\r\n\r\n        if (s < 0 && n.c[0]) str = '-' + str;\r\n      }\r\n\r\n      return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return as toString, but do not accept a base argument, and include the minus sign for\r\n     * negative zero.\r\n     */\r\n    P.valueOf = P.toJSON = function () {\r\n      return valueOf(this);\r\n    };\r\n\r\n\r\n    P._isBigNumber = true;\r\n\r\n    if (configObject != null) BigNumber.set(configObject);\r\n\r\n    return BigNumber;\r\n  }\r\n\r\n\r\n  // PRIVATE HELPER FUNCTIONS\r\n\r\n  // These functions don't need access to variables,\r\n  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\n  function bitFloor(n) {\r\n    var i = n | 0;\r\n    return n > 0 || n === i ? i : i - 1;\r\n  }\r\n\r\n\r\n  // Return a coefficient array as a string of base 10 digits.\r\n  function coeffToString(a) {\r\n    var s, z,\r\n      i = 1,\r\n      j = a.length,\r\n      r = a[0] + '';\r\n\r\n    for (; i < j;) {\r\n      s = a[i++] + '';\r\n      z = LOG_BASE - s.length;\r\n      for (; z--; s = '0' + s);\r\n      r += s;\r\n    }\r\n\r\n    // Determine trailing zeros.\r\n    for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n    return r.slice(0, j + 1 || 1);\r\n  }\r\n\r\n\r\n  // Compare the value of BigNumbers x and y.\r\n  function compare(x, y) {\r\n    var a, b,\r\n      xc = x.c,\r\n      yc = y.c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either NaN?\r\n    if (!i || !j) return null;\r\n\r\n    a = xc && !xc[0];\r\n    b = yc && !yc[0];\r\n\r\n    // Either zero?\r\n    if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    a = i < 0;\r\n    b = k == l;\r\n\r\n    // Either Infinity?\r\n    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n    // Compare exponents.\r\n    if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n  }\r\n\r\n\r\n  /*\r\n   * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n   */\r\n  function intCheck(n, min, max, name) {\r\n    if (n < min || n > max || n !== mathfloor(n)) {\r\n      throw Error\r\n       (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n         ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n         : ' not a primitive number: ') + String(n));\r\n    }\r\n  }\r\n\r\n\r\n  // Assumes finite n.\r\n  function isOdd(n) {\r\n    var k = n.c.length - 1;\r\n    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n  }\r\n\r\n\r\n  function toExponential(str, e) {\r\n    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n     (e < 0 ? 'e' : 'e+') + e;\r\n  }\r\n\r\n\r\n  function toFixedPoint(str, e, z) {\r\n    var len, zs;\r\n\r\n    // Negative exponent?\r\n    if (e < 0) {\r\n\r\n      // Prepend zeros.\r\n      for (zs = z + '.'; ++e; zs += z);\r\n      str = zs + str;\r\n\r\n    // Positive exponent\r\n    } else {\r\n      len = str.length;\r\n\r\n      // Append zeros.\r\n      if (++e > len) {\r\n        for (zs = z, e -= len; --e; zs += z);\r\n        str += zs;\r\n      } else if (e < len) {\r\n        str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n\r\n  // EXPORT\r\n\r\n\r\n  BigNumber = clone();\r\n  BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n  // AMD.\r\n  if (typeof define == 'function' && define.amd) {\r\n    define(function () { return BigNumber; });\r\n\r\n  // Node.js and other environments that support module.exports.\r\n  } else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = BigNumber;\r\n\r\n  // Browser.\r\n  } else {\r\n    if (!globalObject) {\r\n      globalObject = typeof self != 'undefined' && self ? self : window;\r\n    }\r\n\r\n    globalObject.BigNumber = BigNumber;\r\n  }\r\n})(this);\r\n","var BigNumber = require('bignumber.js');\n\n/*\n    json2.js\n    2013-05-26\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    See http://www.JSON.org/js.html\n\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n\n\n    This file creates a global JSON object containing two methods: stringify\n    and parse.\n\n        JSON.stringify(value, replacer, space)\n            value       any JavaScript value, usually an object or array.\n\n            replacer    an optional parameter that determines how object\n                        values are stringified for objects. It can be a\n                        function or an array of strings.\n\n            space       an optional parameter that specifies the indentation\n                        of nested structures. If it is omitted, the text will\n                        be packed without extra whitespace. If it is a number,\n                        it will specify the number of spaces to indent at each\n                        level. If it is a string (such as '\\t' or '&nbsp;'),\n                        it contains the characters used to indent at each level.\n\n            This method produces a JSON text from a JavaScript value.\n\n            When an object value is found, if the object contains a toJSON\n            method, its toJSON method will be called and the result will be\n            stringified. A toJSON method does not serialize: it returns the\n            value represented by the name/value pair that should be serialized,\n            or undefined if nothing should be serialized. The toJSON method\n            will be passed the key associated with the value, and this will be\n            bound to the value\n\n            For example, this would serialize Dates as ISO strings.\n\n                Date.prototype.toJSON = function (key) {\n                    function f(n) {\n                        // Format integers to have at least two digits.\n                        return n < 10 ? '0' + n : n;\n                    }\n\n                    return this.getUTCFullYear()   + '-' +\n                         f(this.getUTCMonth() + 1) + '-' +\n                         f(this.getUTCDate())      + 'T' +\n                         f(this.getUTCHours())     + ':' +\n                         f(this.getUTCMinutes())   + ':' +\n                         f(this.getUTCSeconds())   + 'Z';\n                };\n\n            You can provide an optional replacer method. It will be passed the\n            key and value of each member, with this bound to the containing\n            object. The value that is returned from your method will be\n            serialized. If your method returns undefined, then the member will\n            be excluded from the serialization.\n\n            If the replacer parameter is an array of strings, then it will be\n            used to select the members to be serialized. It filters the results\n            such that only members with keys listed in the replacer array are\n            stringified.\n\n            Values that do not have JSON representations, such as undefined or\n            functions, will not be serialized. Such values in objects will be\n            dropped; in arrays they will be replaced with null. You can use\n            a replacer function to replace those with JSON values.\n            JSON.stringify(undefined) returns undefined.\n\n            The optional space parameter produces a stringification of the\n            value that is filled with line breaks and indentation to make it\n            easier to read.\n\n            If the space parameter is a non-empty string, then that string will\n            be used for indentation. If the space parameter is a number, then\n            the indentation will be that many spaces.\n\n            Example:\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}]);\n            // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\\t');\n            // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n            text = JSON.stringify([new Date()], function (key, value) {\n                return this[key] instanceof Date ?\n                    'Date(' + this[key] + ')' : value;\n            });\n            // text is '[\"Date(---current time---)\"]'\n\n\n        JSON.parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = JSON.parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n            myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n                var d;\n                if (typeof value === 'string' &&\n                        value.slice(0, 5) === 'Date(' &&\n                        value.slice(-1) === ')') {\n                    d = new Date(value.slice(5, -1));\n                    if (d) {\n                        return d;\n                    }\n                }\n                return value;\n            });\n\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n*/\n\n/*jslint evil: true, regexp: true */\n\n/*members \"\", \"\\b\", \"\\t\", \"\\n\", \"\\f\", \"\\r\", \"\\\"\", JSON, \"\\\\\", apply,\n    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nvar JSON = module.exports;\n\n(function () {\n    'use strict';\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10 ? '0' + n : n;\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string'\n                ? c\n                : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            mind = gap,\n            partial,\n            value = holder[key],\n            isBigNumber = value != null && (value instanceof BigNumber || BigNumber.isBigNumber(value));\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === 'object' &&\n                typeof value.toJSON === 'function') {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case 'string':\n            if (isBigNumber) {\n                return value;\n            } else {\n                return quote(value);\n            }\n\n        case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n        case 'bigint':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n        case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n            if (!value) {\n                return 'null';\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? '[]'\n                    : gap\n                    ? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']'\n                    : '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === 'string') {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                Object.keys(value).forEach(function(k) {\n                    var v = str(k, value);\n                    if (v) {\n                        partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                    }\n                });\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? '{}'\n                : gap\n                ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}'\n                : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== 'function') {\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = '';\n            indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                    typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n            return str('', {'': value});\n        };\n    }\n}());\n","var BigNumber = null;\n\n// regexpxs extracted from\n// (c) BSD-3-Clause\n// https://github.com/fastify/secure-json-parse/graphs/contributors and https://github.com/hapijs/bourne/graphs/contributors\n\nconst suspectProtoRx = /(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])/;\nconst suspectConstructorRx = /(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)/;\n\n/*\n    json_parse.js\n    2012-06-20\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    This file creates a json_parse function.\n    During create you can (optionally) specify some behavioural switches\n\n        require('json-bigint')(options)\n\n            The optional options parameter holds switches that drive certain\n            aspects of the parsing process:\n            * options.strict = true will warn about duplicate-key usage in the json.\n              The default (strict = false) will silently ignore those and overwrite\n              values for keys that are in duplicate use.\n\n    The resulting function follows this signature:\n        json_parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = json_parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n*/\n\n/*members \"\", \"\\\"\", \"\\/\", \"\\\\\", at, b, call, charAt, f, fromCharCode,\n    hasOwnProperty, message, n, name, prototype, push, r, t, text\n*/\n\nvar json_parse = function (options) {\n  'use strict';\n\n  // This is a function that can parse a JSON text, producing a JavaScript\n  // data structure. It is a simple, recursive descent parser. It does not use\n  // eval or regular expressions, so it can be used as a model for implementing\n  // a JSON parser in other languages.\n\n  // We are defining the function inside of another function to avoid creating\n  // global variables.\n\n  // Default options one can override by passing options to the parse()\n  var _options = {\n    strict: false, // not being strict means do not generate syntax errors for \"duplicate key\"\n    storeAsString: false, // toggles whether the values should be stored as BigNumber (default) or a string\n    alwaysParseAsBig: false, // toggles whether all numbers should be Big\n    useNativeBigInt: false, // toggles whether to use native BigInt instead of bignumber.js\n    protoAction: 'error',\n    constructorAction: 'error',\n  };\n\n  // If there are options, then use them to override the default _options\n  if (options !== undefined && options !== null) {\n    if (options.strict === true) {\n      _options.strict = true;\n    }\n    if (options.storeAsString === true) {\n      _options.storeAsString = true;\n    }\n    _options.alwaysParseAsBig =\n      options.alwaysParseAsBig === true ? options.alwaysParseAsBig : false;\n    _options.useNativeBigInt =\n      options.useNativeBigInt === true ? options.useNativeBigInt : false;\n\n    if (typeof options.constructorAction !== 'undefined') {\n      if (\n        options.constructorAction === 'error' ||\n        options.constructorAction === 'ignore' ||\n        options.constructorAction === 'preserve'\n      ) {\n        _options.constructorAction = options.constructorAction;\n      } else {\n        throw new Error(\n          `Incorrect value for constructorAction option, must be \"error\", \"ignore\" or undefined but passed ${options.constructorAction}`\n        );\n      }\n    }\n\n    if (typeof options.protoAction !== 'undefined') {\n      if (\n        options.protoAction === 'error' ||\n        options.protoAction === 'ignore' ||\n        options.protoAction === 'preserve'\n      ) {\n        _options.protoAction = options.protoAction;\n      } else {\n        throw new Error(\n          `Incorrect value for protoAction option, must be \"error\", \"ignore\" or undefined but passed ${options.protoAction}`\n        );\n      }\n    }\n  }\n\n  var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n      '\"': '\"',\n      '\\\\': '\\\\',\n      '/': '/',\n      b: '\\b',\n      f: '\\f',\n      n: '\\n',\n      r: '\\r',\n      t: '\\t',\n    },\n    text,\n    error = function (m) {\n      // Call error when something is wrong.\n\n      throw {\n        name: 'SyntaxError',\n        message: m,\n        at: at,\n        text: text,\n      };\n    },\n    next = function (c) {\n      // If a c parameter is provided, verify that it matches the current character.\n\n      if (c && c !== ch) {\n        error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n      }\n\n      // Get the next character. When there are no more characters,\n      // return the empty string.\n\n      ch = text.charAt(at);\n      at += 1;\n      return ch;\n    },\n    number = function () {\n      // Parse a number value.\n\n      var number,\n        string = '';\n\n      if (ch === '-') {\n        string = '-';\n        next('-');\n      }\n      while (ch >= '0' && ch <= '9') {\n        string += ch;\n        next();\n      }\n      if (ch === '.') {\n        string += '.';\n        while (next() && ch >= '0' && ch <= '9') {\n          string += ch;\n        }\n      }\n      if (ch === 'e' || ch === 'E') {\n        string += ch;\n        next();\n        if (ch === '-' || ch === '+') {\n          string += ch;\n          next();\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n      }\n      number = +string;\n      if (!isFinite(number)) {\n        error('Bad number');\n      } else {\n        if (BigNumber == null) BigNumber = require('bignumber.js');\n        //if (number > 9007199254740992 || number < -9007199254740992)\n        // Bignumber has stricter check: everything with length > 15 digits disallowed\n        if (string.length > 15)\n          return _options.storeAsString\n            ? string\n            : _options.useNativeBigInt\n            ? BigInt(string)\n            : new BigNumber(string);\n        else\n          return !_options.alwaysParseAsBig\n            ? number\n            : _options.useNativeBigInt\n            ? BigInt(number)\n            : new BigNumber(number);\n      }\n    },\n    string = function () {\n      // Parse a string value.\n\n      var hex,\n        i,\n        string = '',\n        uffff;\n\n      // When parsing for string values, we must look for \" and \\ characters.\n\n      if (ch === '\"') {\n        var startAt = at;\n        while (next()) {\n          if (ch === '\"') {\n            if (at - 1 > startAt) string += text.substring(startAt, at - 1);\n            next();\n            return string;\n          }\n          if (ch === '\\\\') {\n            if (at - 1 > startAt) string += text.substring(startAt, at - 1);\n            next();\n            if (ch === 'u') {\n              uffff = 0;\n              for (i = 0; i < 4; i += 1) {\n                hex = parseInt(next(), 16);\n                if (!isFinite(hex)) {\n                  break;\n                }\n                uffff = uffff * 16 + hex;\n              }\n              string += String.fromCharCode(uffff);\n            } else if (typeof escapee[ch] === 'string') {\n              string += escapee[ch];\n            } else {\n              break;\n            }\n            startAt = at;\n          }\n        }\n      }\n      error('Bad string');\n    },\n    white = function () {\n      // Skip whitespace.\n\n      while (ch && ch <= ' ') {\n        next();\n      }\n    },\n    word = function () {\n      // true, false, or null.\n\n      switch (ch) {\n        case 't':\n          next('t');\n          next('r');\n          next('u');\n          next('e');\n          return true;\n        case 'f':\n          next('f');\n          next('a');\n          next('l');\n          next('s');\n          next('e');\n          return false;\n        case 'n':\n          next('n');\n          next('u');\n          next('l');\n          next('l');\n          return null;\n      }\n      error(\"Unexpected '\" + ch + \"'\");\n    },\n    value, // Place holder for the value function.\n    array = function () {\n      // Parse an array value.\n\n      var array = [];\n\n      if (ch === '[') {\n        next('[');\n        white();\n        if (ch === ']') {\n          next(']');\n          return array; // empty array\n        }\n        while (ch) {\n          array.push(value());\n          white();\n          if (ch === ']') {\n            next(']');\n            return array;\n          }\n          next(',');\n          white();\n        }\n      }\n      error('Bad array');\n    },\n    object = function () {\n      // Parse an object value.\n\n      var key,\n        object = Object.create(null);\n\n      if (ch === '{') {\n        next('{');\n        white();\n        if (ch === '}') {\n          next('}');\n          return object; // empty object\n        }\n        while (ch) {\n          key = string();\n          white();\n          next(':');\n          if (\n            _options.strict === true &&\n            Object.hasOwnProperty.call(object, key)\n          ) {\n            error('Duplicate key \"' + key + '\"');\n          }\n\n          if (suspectProtoRx.test(key) === true) {\n            if (_options.protoAction === 'error') {\n              error('Object contains forbidden prototype property');\n            } else if (_options.protoAction === 'ignore') {\n              value();\n            } else {\n              object[key] = value();\n            }\n          } else if (suspectConstructorRx.test(key) === true) {\n            if (_options.constructorAction === 'error') {\n              error('Object contains forbidden constructor property');\n            } else if (_options.constructorAction === 'ignore') {\n              value();\n            } else {\n              object[key] = value();\n            }\n          } else {\n            object[key] = value();\n          }\n\n          white();\n          if (ch === '}') {\n            next('}');\n            return object;\n          }\n          next(',');\n          white();\n        }\n      }\n      error('Bad object');\n    };\n\n  value = function () {\n    // Parse a JSON value. It could be an object, an array, a string, a number,\n    // or a word.\n\n    white();\n    switch (ch) {\n      case '{':\n        return object();\n      case '[':\n        return array();\n      case '\"':\n        return string();\n      case '-':\n        return number();\n      default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n  };\n\n  // Return the json_parse function. It will have access to all of the above\n  // functions and variables.\n\n  return function (source, reviver) {\n    var result;\n\n    text = source + '';\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n      error('Syntax error');\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function'\n      ? (function walk(holder, key) {\n          var k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            Object.keys(value).forEach(function (k) {\n              v = walk(value, k);\n              if (v !== undefined) {\n                value[k] = v;\n              } else {\n                delete value[k];\n              }\n            });\n          }\n          return reviver.call(holder, key, value);\n        })({ '': result }, '')\n      : result;\n  };\n};\n\nmodule.exports = json_parse;\n","var json_stringify = require('./lib/stringify.js').stringify;\nvar json_parse     = require('./lib/parse.js');\n\nmodule.exports = function(options) {\n    return  {\n        parse: json_parse(options),\n        stringify: json_stringify\n    }\n};\n//create the default method members with no options applied for backwards compatibility\nmodule.exports.parse = json_parse();\nmodule.exports.stringify = json_stringify;\n","'use strict';\n\nconst os = require('os');\n\nconst pkg = require('../package.json');\n\nexports.DEFAULT_UA = `AlibabaCloud (${os.platform()}; ${os.arch()}) ` +\n  `Node.js/${process.version} Core/${pkg.version}`;\nexports.DEFAULT_CLIENT = `Node.js(${process.version}), ${pkg.name}: ${pkg.version}`;\n","'use strict';\n\nconst assert = require('assert');\n\nconst httpx = require('httpx');\nconst kitx = require('kitx');\nconst JSON = require('json-bigint');\n\nconst helper = require('./helper');\n\nfunction firstLetterUpper(str) {\n  return str.slice(0, 1).toUpperCase() + str.slice(1);\n}\n\nfunction formatParams(params) {\n  var keys = Object.keys(params);\n  var newParams = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    newParams[firstLetterUpper(key)] = params[key];\n  }\n  return newParams;\n}\n\n\nfunction timestamp() {\n  var date = new Date();\n  var YYYY = date.getUTCFullYear();\n  var MM = kitx.pad2(date.getUTCMonth() + 1);\n  var DD = kitx.pad2(date.getUTCDate());\n  var HH = kitx.pad2(date.getUTCHours());\n  var mm = kitx.pad2(date.getUTCMinutes());\n  var ss = kitx.pad2(date.getUTCSeconds());\n  // 删除掉毫秒部分\n  return `${YYYY}-${MM}-${DD}T${HH}:${mm}:${ss}Z`;\n}\n\nfunction encode(str) {\n  var result = encodeURIComponent(str);\n\n  return result.replace(/!/g, '%21')\n    .replace(/'/g, '%27')\n    .replace(/\\(/g, '%28')\n    .replace(/\\)/g, '%29')\n    .replace(/\\*/g, '%2A');\n}\n\nfunction replaceRepeatList(target, key, repeat) {\n  for (var i = 0; i < repeat.length; i++) {\n    var item = repeat[i];\n\n    if (Array.isArray(item)) {\n      replaceRepeatList(target, `${key}.${i + 1}`, item);\n    } else if (item && typeof item === 'object') {\n      const keys = Object.keys(item);\n      for (var j = 0; j < keys.length; j++) {\n        if (Array.isArray(item[keys[j]])) {\n          replaceRepeatList(target, `${key}.${i + 1}.${keys[j]}`, item[keys[j]]);\n        } else {\n          target[`${key}.${i + 1}.${keys[j]}`] = item[keys[j]];\n        }\n      }\n    } else {\n      target[`${key}.${i + 1}`] = item;\n    }\n  }\n}\n\nfunction flatParams(params) {\n  var target = {};\n  var keys = Object.keys(params);\n  for (let i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = params[key];\n    if (Array.isArray(value)) {\n      replaceRepeatList(target, key, value);\n    } else {\n      target[key] = value;\n    }\n  }\n  return target;\n}\n\nfunction normalize(params) {\n  var list = [];\n  var flated = flatParams(params);\n  var keys = Object.keys(flated).sort();\n  for (let i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = flated[key];\n    list.push([encode(key), encode(value)]); //push []\n  }\n  return list;\n}\n\nfunction canonicalize(normalized) {\n  var fields = [];\n  for (var i = 0; i < normalized.length; i++) {\n    var [key, value] = normalized[i];\n    fields.push(key + '=' + value);\n  }\n  return fields.join('&');\n}\n\nclass RPCClient {\n  constructor(config, verbose) {\n    assert(config, 'must pass \"config\"');\n    assert(config.endpoint, 'must pass \"config.endpoint\"');\n    if (!config.endpoint.startsWith('https://') &&\n      !config.endpoint.startsWith('http://')) {\n      throw new Error(`\"config.endpoint\" must starts with 'https://' or 'http://'.`);\n    }\n    assert(config.apiVersion, 'must pass \"config.apiVersion\"');\n    if (config.credentialsProvider) {\n      if (typeof config.credentialsProvider.getCredentials !== 'function') {\n        throw new Error(`must pass \"config.credentialsProvider\" with function \"getCredentials()\"`);\n      }\n      this.credentialsProvider = config.credentialsProvider;\n    } else {\n      assert(config.accessKeyId, 'must pass \"config.accessKeyId\"');\n      var accessKeySecret = config.secretAccessKey || config.accessKeySecret;\n      assert(accessKeySecret, 'must pass \"config.accessKeySecret\"');\n      this.accessKeyId = config.accessKeyId;\n      this.accessKeySecret = accessKeySecret;\n      this.securityToken = config.securityToken;\n      this.credentialsProvider = {\n        getCredentials: async () => {\n          return {\n            accessKeyId: config.accessKeyId,\n            accessKeySecret: accessKeySecret,\n            securityToken: config.securityToken,\n          };\n        }\n      };\n    }\n\n\n    if (config.endpoint.endsWith('/')) {\n      config.endpoint = config.endpoint.slice(0, -1);\n    }\n\n    this.endpoint = config.endpoint;\n    this.apiVersion = config.apiVersion;\n    this.verbose = verbose === true;\n    // 非 codes 里的值，将抛出异常\n    this.codes = new Set([200, '200', 'OK', 'Success', 'success']);\n    if (config.codes) {\n      // 合并 codes\n      for (var elem of config.codes) {\n        this.codes.add(elem);\n      }\n    }\n\n    this.opts = config.opts || {};\n\n    var httpModule = this.endpoint.startsWith('https://')\n      ? require('https') : require('http');\n    this.keepAliveAgent = new httpModule.Agent({\n      keepAlive: true,\n      keepAliveMsecs: 3000\n    });\n  }\n\n  async request(action, params = {}, opts = {}) {\n    const credentials = await this.credentialsProvider.getCredentials();\n    // 1. compose params and opts\n    opts = Object.assign({\n      headers: {\n        'x-sdk-client': helper.DEFAULT_CLIENT,\n        'user-agent': helper.DEFAULT_UA,\n        'x-acs-action': action,\n        'x-acs-version': this.apiVersion\n      }\n    }, this.opts, opts);\n\n    // format action until formatAction is false\n    if (opts.formatAction !== false) {\n      action = firstLetterUpper(action);\n    }\n\n    // format params until formatParams is false\n    if (opts.formatParams !== false) {\n      params = formatParams(params);\n    }\n    const defaultParams = {\n      Format: 'JSON',\n      Timestamp: timestamp(),\n      Version: this.apiVersion,\n    };\n    if (credentials && credentials.accessKeyId && credentials.accessKeySecret) {\n      defaultParams.SignatureMethod = 'HMAC-SHA1';\n      defaultParams.SignatureVersion = '1.0';\n      defaultParams.SignatureNonce = kitx.makeNonce();\n      defaultParams.AccessKeyId = credentials.accessKeyId;\n      if (credentials.securityToken) {\n        defaultParams.SecurityToken = credentials.securityToken;\n      }\n    }\n    params = Object.assign({ Action: action }, defaultParams, params);\n\n    const method = (opts.method || 'GET').toUpperCase();\n    const normalized = normalize(params);\n    // 2. caculate signature\n    if (credentials && credentials.accessKeyId && credentials.accessKeySecret) {\n      const canonicalized = canonicalize(normalized);\n      // 2.1 get string to sign\n      const stringToSign = `${method}&${encode('/')}&${encode(canonicalized)}`;\n      // 2.2 get signature\n      const key = credentials.accessKeySecret + '&';\n      const signature = kitx.sha1(stringToSign, key, 'base64');\n      // add signature\n      normalized.push(['Signature', encode(signature)]);\n    }\n\n    // 3. generate final url\n    const url = opts.method === 'POST' ? `${this.endpoint}/` : `${this.endpoint}/?${canonicalize(normalized)}`;\n    // 4. send request\n    const entry = {\n      url: url,\n      request: null,\n      response: null\n    };\n\n    if (opts && !opts.agent) {\n      opts.agent = this.keepAliveAgent;\n    }\n\n    if (opts.method === 'POST') {\n      opts.headers = opts.headers || {};\n      opts.headers['content-type'] = 'application/x-www-form-urlencoded';\n      opts.data = canonicalize(normalized);\n    }\n\n    const response = await httpx.request(url, opts);\n    entry.request = {\n      headers: response.req.getHeaders ? response.req.getHeaders() : response.req._headers\n    };\n    entry.response = {\n      statusCode: response.statusCode,\n      headers: response.headers\n    };\n\n    const buffer = await httpx.read(response);\n    const json = JSON.parse(buffer);\n    if (json.Code && !this.codes.has(json.Code)) {\n      const err = new Error(`${json.Message}, URL: ${url}`);\n      err.name = json.Code + 'Error';\n      err.data = json;\n      err.code = json.Code;\n      err.url = url;\n      err.entry = entry;\n      throw err;\n    }\n\n    if (this.verbose) {\n      return [json, entry];\n    }\n\n    return json;\n  }\n\n  _buildParams() {\n    const defaultParams = {\n      Format: 'JSON',\n      SignatureMethod: 'HMAC-SHA1',\n      SignatureNonce: kitx.makeNonce(),\n      SignatureVersion: '1.0',\n      Timestamp: timestamp(),\n      AccessKeyId: this.accessKeyId,\n      Version: this.apiVersion,\n    };\n    if (this.securityToken) {\n      defaultParams.SecurityToken = this.securityToken;\n    }\n    return defaultParams;\n  }\n}\n\nmodule.exports = RPCClient;\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // disallow unquoted attribute values if not otherwise configured\n    // and strict mode is true\n    if (parser.opt.unquotedAttributeValues === undefined) {\n      parser.opt.unquotedAttributeValues = !strict;\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n  if (!Stream) Stream = function () {}\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n            continue;\n          }\n\n          if (parser.doctype && parser.doctype !== true && parser.sgmlDecl) {\n            parser.state = S.DOCTYPE_DTD\n            parser.doctype += '<!' + parser.sgmlDecl + c\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          if (c === ']') {\n            parser.doctype += c\n            parser.state = S.DOCTYPE\n          } else if (c === '<') {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else if (isQuote(c)) {\n            parser.doctype += c\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          } else {\n            parser.doctype += c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else if (parser.doctype && parser.doctype !== true) {\n            parser.state = S.DOCTYPE_DTD\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            if (!parser.opt.unquotedAttributeValues) {\n              error(parser, 'Unquoted attribute value')\n            }\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            var parsedEntity = parseEntity(parser)\n            if (parser.opt.unparsedEntities && !Object.values(sax.XML_ENTITIES).includes(parsedEntity)) {\n              parser.entity = ''\n              parser.state = returnState\n              parser.write(parsedEntity)\n            } else {\n              parser[buffer] += parsedEntity\n              parser.entity = ''\n              parser.state = returnState\n            }\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default: /* istanbul ignore next */ {\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n        }\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = Object.create(null);\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = Object.create(null);\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            if (typeof _this.options.emptyTag === 'function') {\n              obj = _this.options.emptyTag();\n            } else {\n              obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n            }\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = Object.create(null);\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = Object.create(null);\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = Object.create(null);\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n')\n    .map(function (str) { return str.trim(); })\n    .join(' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n","'use strict';\n\nconst assert = require('assert');\nconst url = require('url');\nconst querystring = require('querystring');\n\nconst kitx = require('kitx');\nconst httpx = require('httpx');\nconst xml2js = require('xml2js');\nconst JSON = require('json-bigint');\nconst debug = require('debug')('roa');\n\nconst helper = require('./helper');\n\nfunction filter(value) {\n  return value.replace(/[\\t\\n\\r\\f]/g, ' ');\n}\n\nfunction keyLowerify(headers) {\n  const keys = Object.keys(headers);\n  const newHeaders = {};\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    newHeaders[key.toLowerCase()] = headers[key];\n  }\n  return newHeaders;\n}\n\nfunction getCanonicalizedHeaders(headers) {\n  const prefix = 'x-acs-';\n  const keys = Object.keys(headers);\n\n  const canonicalizedKeys = [];\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (key.startsWith(prefix)) {\n      canonicalizedKeys.push(key);\n    }\n  }\n\n  canonicalizedKeys.sort();\n\n  var result = '';\n  for (let i = 0; i < canonicalizedKeys.length; i++) {\n    const key = canonicalizedKeys[i];\n    result += `${key}:${filter(headers[key]).trim()}\\n`;\n  }\n\n  return result;\n}\n\nfunction getCanonicalizedResource(uriPattern, query) {\n  const keys = Object.keys(query).sort();\n\n  if (keys.length === 0) {\n    return uriPattern;\n  }\n\n  var result = [];\n  for (var i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    result.push(`${key}=${query[key]}`);\n  }\n\n  return `${uriPattern}?${result.join('&')}`;\n}\n\nfunction buildStringToSign(method, uriPattern, headers, query) {\n  const accept = headers['accept'];\n  const contentMD5 = headers['content-md5'] || '';\n  const contentType = headers['content-type'] || '';\n  const date = headers['date'] || '';\n\n  const header = `${method}\\n${accept}\\n${contentMD5}\\n${contentType}\\n${date}\\n`;\n\n  const canonicalizedHeaders = getCanonicalizedHeaders(headers);\n  const canonicalizedResource = getCanonicalizedResource(uriPattern, query);\n\n  return `${header}${canonicalizedHeaders}${canonicalizedResource}`;\n}\n\nfunction parseXML(xml) {\n  const parser = new xml2js.Parser({\n    // explicitArray: false\n  });\n  return new Promise((resolve, reject) => {\n    parser.parseString(xml, (err, result) => {\n      if (err) {\n        return reject(err);\n      }\n\n      resolve(result);\n    });\n  });\n}\n\nclass ACSError extends Error {\n  constructor(err) {\n    const message = err.Message[0];\n    const code = err.Code[0];\n    const hostid = err.HostId[0];\n    const requestid = err.RequestId[0];\n    super(`${message} hostid: ${hostid}, requestid: ${requestid}`);\n    this.code = code;\n  }\n}\n\nclass ROAClient {\n  constructor(config) {\n    assert(config, 'must pass \"config\"');\n    assert(config.endpoint, 'must pass \"config.endpoint\"');\n    if (!config.endpoint.startsWith('https://') &&\n      !config.endpoint.startsWith('http://')) {\n      throw new Error(`\"config.endpoint\" must starts with 'https://' or 'http://'.`);\n    }\n    assert(config.apiVersion, 'must pass \"config.apiVersion\"');\n    if (config.credentialsProvider) {\n      if (typeof config.credentialsProvider.getCredentials !== 'function') {\n        throw new Error(`must pass \"config.credentialsProvider\" with function \"getCredentials()\"`);\n      }\n      this.credentialsProvider = config.credentialsProvider;\n    } else {\n      assert(config.accessKeyId, 'must pass \"config.accessKeyId\"');\n      assert(config.accessKeySecret, 'must pass \"config.accessKeySecret\"');\n      this.accessKeyId = config.accessKeyId;\n      this.accessKeySecret = config.accessKeySecret;\n      this.securityToken = config.securityToken;\n      this.credentialsProvider = {\n        getCredentials: async () => {\n          return {\n            accessKeyId: config.accessKeyId,\n            accessKeySecret: config.accessKeySecret,\n            securityToken: config.securityToken,\n          };\n        }\n      };\n    }\n\n    this.endpoint = config.endpoint;\n    this.apiVersion = config.apiVersion;\n    this.host = url.parse(this.endpoint).hostname;\n    this.opts = config.opts;\n    var httpModule = this.endpoint.startsWith('https://') ? require('https') : require('http');\n    this.keepAliveAgent = new httpModule.Agent({\n      keepAlive: true,\n      keepAliveMsecs: 3000\n    });\n  }\n\n  buildHeaders() {\n    const now = new Date();\n    var defaultHeaders = {\n      accept: 'application/json',\n      date: now.toGMTString(),\n      host: this.host,\n      'x-acs-signature-nonce': kitx.makeNonce(),\n      'x-acs-signature-method': 'HMAC-SHA1',\n      'x-acs-signature-version': '1.0',\n      'x-acs-version': this.apiVersion,\n      'user-agent': helper.DEFAULT_UA,\n      'x-sdk-client': helper.DEFAULT_CLIENT\n    };\n    if (this.securityToken) {\n      defaultHeaders['x-acs-accesskey-id'] = this.accessKeyId;\n      defaultHeaders['x-acs-security-token'] = this.securityToken;\n    }\n    return defaultHeaders;\n  }\n\n  signature(stringToSign) {\n    const utf8Buff = Buffer.from(stringToSign, 'utf8');\n\n    return kitx.sha1(utf8Buff, this.accessKeySecret, 'base64');\n  }\n\n  buildAuthorization(stringToSign) {\n    return `acs ${this.accessKeyId}:${this.signature(stringToSign)}`;\n  }\n\n  async request(method, uriPattern, query = {}, body = '', headers = {}, opts = {}) {\n    const credentials = await this.credentialsProvider.getCredentials();\n\n    const now = new Date();\n    var defaultHeaders = {\n      accept: 'application/json',\n      date: now.toGMTString(),\n      host: this.host,\n      'x-acs-signature-nonce': kitx.makeNonce(),\n      'x-acs-version': this.apiVersion,\n      'user-agent': helper.DEFAULT_UA,\n      'x-sdk-client': helper.DEFAULT_CLIENT\n    };\n    if (credentials && credentials.accessKeyId && credentials.accessKeySecret) {\n      defaultHeaders['x-acs-signature-method'] = 'HMAC-SHA1';\n      defaultHeaders['x-acs-signature-version'] = '1.0';\n      if (credentials.securityToken) {\n        defaultHeaders['x-acs-accesskey-id'] = credentials.accessKeyId;\n        defaultHeaders['x-acs-security-token'] = credentials.securityToken;\n      }\n    }\n\n    var mixHeaders = Object.assign(defaultHeaders, keyLowerify(headers));\n\n    var postBody = null;\n\n    postBody = Buffer.from(body, 'utf8');\n    mixHeaders['content-md5'] = kitx.md5(postBody, 'base64');\n    mixHeaders['content-length'] = postBody.length;\n\n    var url = `${this.endpoint}${uriPattern}`;\n    if (Object.keys(query).length) {\n      url += `?${querystring.stringify(query)}`;\n    }\n\n    if (credentials && credentials.accessKeyId && credentials.accessKeySecret) {\n      const stringToSign = buildStringToSign(method, uriPattern, mixHeaders, query);\n      debug('stringToSign: %s', stringToSign);\n      const utf8Buff = Buffer.from(stringToSign, 'utf8');\n      const signature = kitx.sha1(utf8Buff, credentials.accessKeySecret, 'base64');\n      mixHeaders['authorization'] = `acs ${credentials.accessKeyId}:${signature}`;\n    }\n\n    const options = Object.assign({\n      method,\n      agent: this.keepAliveAgent,\n      headers: mixHeaders,\n      data: postBody\n    }, this.opts, opts);\n\n    const response = await httpx.request(url, options);\n    const responseBody = await httpx.read(response, 'utf8');\n\n    // Retrun raw body\n    if (opts.rawBody) {\n      return responseBody;\n    }\n\n    const contentType = response.headers['content-type'] || '';\n    // JSON\n    if (contentType.startsWith('application/json')) {\n      const statusCode = response.statusCode;\n      if (statusCode === 204) {\n        return responseBody;\n      }\n\n      var result;\n      try {\n        result = JSON.parse(responseBody);\n      } catch (err) {\n        err.name = 'FormatError';\n        err.message = 'parse response to json error';\n        err.body = responseBody;\n        throw err;\n      }\n\n      if (statusCode >= 400) {\n        const errorMessage = result.Message || result.errorMsg || '';\n        const errorCode = result.Code || result.errorCode || '';\n        const requestId = result.RequestId || '';\n        var err = new Error(`code: ${statusCode}, ${errorMessage}, requestid: ${requestId}`);\n        err.name = `${errorCode}Error`;\n        err.statusCode = statusCode;\n        err.result = result;\n        err.code = errorCode;\n        throw err;\n      }\n\n      return result;\n    }\n\n    if (contentType.startsWith('text/xml')) {\n      const result = await parseXML(responseBody);\n      if (result.Error) {\n        throw new ACSError(result.Error);\n      }\n\n      return result;\n    }\n\n    return responseBody;\n  }\n\n  put(path, query, body, headers, options) {\n    return this.request('PUT', path, query, body, headers, options);\n  }\n\n  post(path, query, body, headers, options) {\n    return this.request('POST', path, query, body, headers, options);\n  }\n\n  get(path, query, headers, options) {\n    return this.request('GET', path, query, '', headers, options);\n  }\n\n  delete(path, query, headers, options) {\n    return this.request('DELETE', path, query, '', headers, options);\n  }\n}\n\nmodule.exports = ROAClient;\n","'use strict';\n\nmodule.exports = require('./lib/rpc');\nmodule.exports.ROAClient = require('./lib/roa');\nmodule.exports.RPCClient = require('./lib/rpc');\n","import RPCClient from '@alicloud/pop-core';\r\nimport { COMMON_CONFIG } from './aliyun-config';\r\n\r\nexport async function getToken() {\r\n  const client: any = new RPCClient({\r\n    accessKeyId: COMMON_CONFIG.accessKeyId,\r\n    accessKeySecret: COMMON_CONFIG.accessKeySecret,\r\n    endpoint: 'http://nls-meta.cn-shanghai.aliyuncs.com',\r\n    apiVersion: '2019-02-28'\r\n  });\r\n  try {\r\n    const result = await client.request('CreateToken');\r\n    return result.Token.Id;\r\n  } catch (error) {\r\n    console.error('Error creating token:', error);\r\n    return null;\r\n  }\r\n}","import * as ffmpeg from 'fluent-ffmpeg';\r\nimport { exec } from 'child_process';\r\nimport { promisify } from 'util';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport function getDurationWithFfmpeg(filePath: string): Promise<number> {\r\n  return new Promise((resolve, reject) => {\r\n    ffmpeg.ffprobe(filePath, (err, metadata) => {\r\n      if (err) return reject(err);\r\n      resolve(metadata.format.duration || 0);\r\n    });\r\n  });\r\n}\r\n\r\nexport async function hasAudio(filePath: string): Promise<boolean> {\r\n  try {\r\n    const execAsync = promisify(exec);\r\n    const { stdout } = await execAsync(`ffprobe -v error -show_streams -select_streams a \"${filePath}\"`);\r\n    return stdout.includes('codec_type=audio');\r\n  } catch (e) {\r\n    console.error(`hasAudio error: ${e}`);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function generateSrtFile(filePath: string, subtitles: any[]) {\r\n  let srtContent = '';\r\n  subtitles.forEach((sub, index) => {\r\n    const startTime = formatTime(sub.start);\r\n    const endTime = formatTime(sub.start + sub.duration);\r\n    srtContent += `${index + 1}\\n${startTime} --> ${endTime}\\n${sub.text}\\n\\n`;\r\n  });\r\n  fs.writeFileSync(filePath, srtContent);\r\n}\r\n\r\nexport function formatTime(seconds: number): string {\r\n  const date = new Date(0);\r\n  date.setSeconds(seconds);\r\n  return date.toISOString().slice(11, 23).replace('.', ',');\r\n}\r\n\r\n// 辅助函数：获取字体路径\r\nexport async function getFontPath(fontName: string): Promise<string> {\r\n  const systemFonts = {\r\n    win32: 'C:/Windows/Fonts/',\r\n    darwin: '/System/Library/Fonts/',\r\n    linux: '/usr/share/fonts/'\r\n  };\r\n  \r\n  const platform = process.platform;\r\n  const fontPath = path.join(systemFonts[platform] || '', fontName);\r\n  \r\n  try {\r\n    await fs.promises.access(fontPath);\r\n    return fontPath;\r\n  } catch {\r\n    return fontName; // 回退到字体名称\r\n  }\r\n}\r\n\r\n\r\n","import fs from 'fs'\r\nimport path from 'path'\r\nimport { app, ipcMain } from 'electron'\r\n\r\nconst APP_NAME = 'zhushou'\r\n\r\n// 获取平台特定的路径\r\nexport function getPlatformAppDataPath() {\r\n  switch (process.platform) {\r\n    case 'win32':\r\n      return path.join(app.getPath('appData'), APP_NAME)\r\n    case 'darwin':\r\n      return path.join(app.getPath('appData'), APP_NAME)\r\n    case 'linux':\r\n      return path.join(app.getPath('appData'), APP_NAME)\r\n    default:\r\n      return path.join(app.getPath('documents'), APP_NAME)\r\n  }\r\n}\r\n\r\nexport function ensureAppDataSaveDir() {\r\n  try {\r\n    const appDataPath = getPlatformAppDataPath()\r\n    \r\n    // 检查目录是否存在\r\n    if (!fs.existsSync(appDataPath)) {\r\n      fs.mkdirSync(appDataPath)\r\n      console.log('Created zhushou directory at:', appDataPath)\r\n    }\r\n    \r\n    // 检查目录是否可写\r\n    try {\r\n      fs.accessSync(appDataPath, fs.constants.W_OK)\r\n    } catch (err) {\r\n      console.error('No write permission for zhushou directory, falling back to documents')\r\n      return path.join(app.getPath('documents'), APP_NAME)\r\n    }\r\n    \r\n    return appDataPath\r\n  } catch (error) {\r\n    console.error('Failed to create zhushou directory:', error)\r\n    // 回退到文档目录\r\n    return path.join(app.getPath('documents'), APP_NAME)\r\n  }\r\n}\r\n\r\nexport function initAppDataSaveDir() {\r\n  ipcMain.handle('get-default-save-path', () => {\r\n    return ensureAppDataSaveDir();\r\n  });\r\n}\r\n","\r\nimport { ipcMain } from 'electron';\r\nimport log from 'electron-log';\r\nimport { SpeechSynthesizer } from \"alibabacloud-nls\"\r\nimport { COMMON_CONFIG } from './aliyun-config';\r\nimport * as fs from 'fs';\r\nimport path from 'path';\r\nimport { decodeArg, sleep } from '../utils';\r\nimport { getToken } from './aliyun-token';\r\nimport { getDurationWithFfmpeg } from '../utils/ffmpeg-utils';\r\nimport { getPlatformAppDataPath } from './default-save-path';\r\n\r\n// 语音合成参数\r\nexport interface TTSRequestParams {\r\n  text: string;           // 合成文本，支持SSML语法，例如'<speak>这段内容<break time=\"500ms\"/>会有停顿</speak>'\r\n  voice?: string;         // 发音人，默认：xiaoyun\r\n  format?: 'pcm' | 'wav' | 'mp3';        // 格式，默认：pcm\r\n  sampleRate?: 16000 | 8000;    // 采样率，默认：16000\r\n  volume?: number;        // 音量，默认：50\r\n  speechRate?: number;    // 语速，默认：0\r\n  pitchRate?: number;     // 语调，默认：0\r\n}\r\n\r\n\r\nexport function initAliyunTTS() {\r\n  ipcMain.handle('text2voice', async (event, paramsStr: string) => {\r\n    try {\r\n      const params = JSON.parse(decodeArg(paramsStr));\r\n      log.log('accept params:')\r\n      log.log(JSON.stringify(params));\r\n      const options = params;\r\n      const outputDir = params.outputDir || getPlatformAppDataPath();\r\n      const outputFileName = params.outputFileName || `tts_${Date.now()}`;\r\n      const token = await getToken();\r\n      // 确保输出目录存在\r\n      if (!fs.existsSync(outputDir)) {\r\n        fs.mkdirSync(outputDir, { recursive: true });\r\n      }\r\n      const tts = new SpeechSynthesizer({\r\n        url: COMMON_CONFIG.ttsUrl,\r\n        appkey: COMMON_CONFIG.appkey,\r\n        token: token\r\n      });\r\n      const outputFile = path.join(outputDir, `${outputFileName}.${options.format || 'mp3'}`);\r\n      const fileStream = fs.createWriteStream(outputFile);\r\n      log.log(outputFile);\r\n      return new Promise((resolve, reject) => {\r\n        \r\n          tts.on(\"meta\", (msg)=>{\r\n            log.info(\"接收到元信息:\", msg);\r\n          })\r\n        \r\n          tts.on(\"data\", (msg)=>{\r\n            try {\r\n              fileStream.write(msg);\r\n              log.debug(`接收到数据块，大小: ${msg.length} bytes`);\r\n            } catch (error) {\r\n              log.error('写入文件失败:', error);\r\n              reject(error);\r\n            }\r\n          })\r\n        \r\n          tts.on(\"completed\", async ()=>{\r\n            fileStream.end();\r\n            log.info('语音合成完成');\r\n            const duration = await getDurationWithFfmpeg(outputFile);\r\n            log.info(`语音合成完成，时长: ${duration}秒`);\r\n            resolve({ success: true, outputFile, duration });\r\n          })\r\n        \r\n          tts.on(\"closed\", () => {\r\n            log.info('连接已关闭');\r\n          })\r\n        \r\n          tts.on(\"failed\", (error: any)=>{\r\n            fileStream.end();\r\n            log.error('语音合成失败:', error);\r\n            reject(error);\r\n          })\r\n          tts.start(options, true, 6000);\r\n        \r\n      });\r\n    } catch (error: any) {\r\n      log.error('语音合成初始化失败:', error);\r\n      throw error;\r\n    }\r\n  });\r\n}","// src/utils/crypto-polyfill.ts\r\nimport { webcrypto } from 'crypto';\r\n\r\ntype WebCryptoArray = \r\n  | Int8Array\r\n  | Uint8Array\r\n  | Uint8ClampedArray\r\n  | Int16Array\r\n  | Uint16Array\r\n  | Int32Array\r\n  | Uint32Array;\r\n\r\nconst subtlePolyfill: SubtleCrypto = {\r\n  ...webcrypto.subtle,\r\n  generateKey: async (algorithm: any, extractable: boolean, keyUsages: KeyUsage[]) => {\r\n    return webcrypto.subtle.generateKey(algorithm, extractable, keyUsages) as any;\r\n  },\r\n} as SubtleCrypto;\r\n\r\nexport const electronCrypto: Crypto = {\r\n  getRandomValues: <T extends ArrayBufferView | null>(buffer: T): T => {\r\n    if (!buffer) return buffer;\r\n    \r\n    // 显式类型转换确保类型安全\r\n    switch (true) {\r\n      case buffer instanceof Int8Array:\r\n        return webcrypto.getRandomValues(buffer as Int8Array) as unknown as T;\r\n      case buffer instanceof Uint8Array:\r\n        return webcrypto.getRandomValues(buffer as Uint8Array) as unknown as T;\r\n      case buffer instanceof Uint8ClampedArray:\r\n        return webcrypto.getRandomValues(buffer as Uint8ClampedArray) as unknown as T;\r\n      case buffer instanceof Int16Array:\r\n        return webcrypto.getRandomValues(buffer as Int16Array) as unknown as T;\r\n      case buffer instanceof Uint16Array:\r\n        return webcrypto.getRandomValues(buffer as Uint16Array) as unknown as T;\r\n      case buffer instanceof Int32Array:\r\n        return webcrypto.getRandomValues(buffer as Int32Array) as unknown as T;\r\n      case buffer instanceof Uint32Array:\r\n        return webcrypto.getRandomValues(buffer as Uint32Array) as unknown as T;\r\n      default:\r\n        throw new Error('Unsupported ArrayBufferView type');\r\n    }\r\n  },\r\n  randomUUID: () => webcrypto.randomUUID(),\r\n  subtle: subtlePolyfill\r\n};","import log from 'electron-log';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport function setupLogger() {\r\n  // 1. 设置文件日志\r\n  log.transports.file.encoding = 'utf8';\r\n  log.transports.file.level = 'info';\r\n  log.transports.file.maxSize = 5 * 1024 * 1024; // 5MB\r\n  log.transports.file.format = '[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}] {text}';\r\n  \r\n  // 2. 确保UTF-8编码\r\n  const logFile = log.transports.file.getFile().path;\r\n  log.transports.file.stream = fs.createWriteStream(logFile, { \r\n    flags: 'a', \r\n    encoding: 'utf8' \r\n  });\r\n\r\n  // 3. 处理Windows控制台编码\r\n  if (process.platform === 'win32') {\r\n    process.env.CHCP = '65001';\r\n    try {\r\n      require('child_process').execSync('chcp 65001');\r\n    } catch (e) {}\r\n  }\r\n\r\n  // 4. 覆盖console输出\r\n  const originalConsole = global.console;\r\n  global.console = log;\r\n  \r\n  return {\r\n    restore: () => { global.console = originalConsole; }\r\n  };\r\n}\r\n\r\n// 初始化\r\nsetupLogger();","import ffmpeg from 'fluent-ffmpeg'\r\n// import ffmpegInstaller from '@ffmpeg-installer/ffmpeg'\r\nimport path from 'path'\r\nimport { getDurationWithFfmpeg, getFontPath, hasAudio } from '../utils/ffmpeg-utils'\r\nimport { ensureAppDataSaveDir } from './default-save-path'\r\nimport { ipcMain } from 'electron'\r\nimport { decodeArg } from '../utils'\r\nimport log from 'electron-log';\r\nimport { generateSrtFile } from '../utils/ffmpeg-utils'\r\n\r\n// 设置ffmpeg路径\r\n// ffmpeg.setFfmpegPath(ffmpegInstaller.path)\r\n\r\n\r\n// 处理单个视频分段\r\nasync function processSegment(segment: any): Promise<void>  {\r\n  const { videoPath, audioPath, isOpenOriginAudio, startTime, currentDuration, outputPath, subtitles, \r\n    subtitlePath, titleConfig, videoWidth, videoHeight } = segment;\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n\r\n    // 生成临时字幕文件\r\n    const srtPath = subtitlePath;\r\n    generateSrtFile(srtPath, subtitles);\r\n    \r\n    const command = ffmpeg()\r\n      .input(videoPath)\r\n      .input(audioPath);\r\n\r\n    // 处理路径中的特殊字符\r\n    const escapedVideoPath = videoPath.replace(/\\\\/g, '/').replace(/:/g, '\\\\:');\r\n    const escapedAudioPath = audioPath.replace(/\\\\/g, '/').replace(/:/g, '\\\\:');\r\n    const escapedSrtPath = srtPath.replace(/\\\\/g, '/').replace(/:/g, '\\\\:');\r\n    const escapedOutputPath = outputPath.replace(/\\\\/g, '/').replace(/:/g, '\\\\:');\r\n\r\n    // 基础视频滤镜链\r\n    const videoFilters: any[] = [\r\n      {\r\n        filter: 'trim',\r\n        options: {\r\n          start: startTime,\r\n          duration: currentDuration\r\n        },\r\n        inputs: '0:v',\r\n        outputs: 'trimmed_video'\r\n      },\r\n      {\r\n        filter: 'setpts',\r\n        options: 'PTS-STARTPTS',\r\n        inputs: 'trimmed_video',\r\n        outputs: 'video_pts'\r\n      },\r\n      // 添加缩放滤镜\r\n      {\r\n        filter: 'scale',\r\n        options: {\r\n          w: videoWidth,\r\n          h: videoHeight,\r\n          // 保持宽高比，不足部分填充黑边\r\n          force_original_aspect_ratio: 'decrease',\r\n          eval: 'frame'\r\n        },\r\n        inputs: 'video_pts',\r\n        outputs: 'scaled_video'\r\n      },\r\n      // 添加填充滤镜确保精确分辨率\r\n      {\r\n        filter: 'pad',\r\n        options: {\r\n          width: videoWidth,\r\n          height: videoHeight,\r\n          x: `(ow-iw)/2`,\r\n          y: `(oh-ih)/2`,\r\n          color: 'black'\r\n        },\r\n        inputs: 'scaled_video',\r\n        outputs: 'padded_video'\r\n      }\r\n    ];\r\n    \r\n    // 添加标题滤镜\r\n    if (titleConfig) {\r\n      const titleDuration = titleConfig.duration || currentDuration;\r\n      const positionMap = {\r\n        top: '10',\r\n        middle: '(h-text_h)/2',\r\n        bottom: 'h-text_h-10'\r\n      };\r\n      // 处理字体路径\r\n      const fontPath = await getFontPath('arial.ttf');\r\n      \r\n      videoFilters.push({\r\n        filter: 'drawtext',\r\n        options: {\r\n          text: titleConfig.text,\r\n          fontfile: fontPath, // 确保字体文件存在或使用系统字体\r\n          fontsize: titleConfig.fontSize || 36,\r\n          fontcolor: titleConfig.fontColor || 'white',\r\n          x: '(w-text_w)/2', // 水平居中\r\n          y: positionMap[titleConfig.position || 'top'],\r\n          shadowcolor: 'black',\r\n          shadowx: 2,\r\n          shadowy: 2,\r\n          enable: `between(t,0,${titleDuration})`\r\n        },\r\n        inputs: 'padded_video',\r\n        outputs: 'video_with_title'\r\n      });\r\n    } else {\r\n      videoFilters.push({\r\n        filter: 'null',\r\n        inputs: 'padded_video',\r\n        outputs: 'video_with_title'\r\n      });\r\n    }\r\n    \r\n    // 添加字幕滤镜\r\n    const subtitleFilter = titleConfig ? \r\n        `[video_with_title]subtitles='${escapedSrtPath}':force_style='Fontsize=36,PrimaryColour=&HFFFFFF&'[video_with_subtitles]` :\r\n        `[padded_video]subtitles='${escapedSrtPath}':force_style='Fontsize=36,PrimaryColour=&HFFFFFF&'[video_with_subtitles]`;\r\n      \r\n      videoFilters.push(subtitleFilter);\r\n    \r\n    // 音频滤镜链\r\n    const audioFilters = [];\r\n    let audioOutput = '';\r\n\r\n    if (isOpenOriginAudio && await hasAudio(videoPath)) {\r\n      audioFilters.push(\r\n        {\r\n          filter: 'atrim',\r\n          options: {\r\n            start: startTime,\r\n            duration: currentDuration\r\n          },\r\n          inputs: '0:a',\r\n          outputs: 'trimmed_original'\r\n        },\r\n        {\r\n          filter: 'asetpts',\r\n          options: 'PTS-STARTPTS',\r\n          inputs: 'trimmed_original',\r\n          outputs: 'original_pts'\r\n        },\r\n        {\r\n          filter: 'volume',\r\n          options: '1.0',\r\n          inputs: 'original_pts',\r\n          outputs: 'original_audio'\r\n        },\r\n        {\r\n          filter: 'atrim',\r\n          options: {\r\n            start: 0,\r\n            duration: currentDuration\r\n          },\r\n          inputs: '1:a',\r\n          outputs: 'trimmed_new'\r\n        },\r\n        {\r\n          filter: 'asetpts',\r\n          options: 'PTS-STARTPTS',\r\n          inputs: 'trimmed_new',\r\n          outputs: 'new_pts'\r\n        },\r\n        {\r\n          filter: 'volume',\r\n          options: '1.0',\r\n          inputs: 'new_pts',\r\n          outputs: 'new_audio'\r\n        },\r\n        {\r\n          filter: 'amix',\r\n          options: {\r\n            inputs: 2,\r\n            duration: 'longest'\r\n          },\r\n          inputs: ['original_audio', 'new_audio'],\r\n          outputs: 'mixed_audio'\r\n        }\r\n      );\r\n      audioOutput = 'mixed_audio';\r\n    } else {\r\n      audioFilters.push(\r\n        {\r\n          filter: 'atrim',\r\n          options: {\r\n            start: 0,\r\n            duration: currentDuration\r\n          },\r\n          inputs: '1:a',\r\n          outputs: 'trimmed_new'\r\n        },\r\n        {\r\n          filter: 'asetpts',\r\n          options: 'PTS-STARTPTS',\r\n          inputs: 'trimmed_new',\r\n          outputs: 'new_pts'\r\n        },\r\n        {\r\n          filter: 'volume',\r\n          options: '1.0',\r\n          inputs: 'new_pts',\r\n          outputs: 'new_audio'\r\n        }\r\n      );\r\n      audioOutput = 'new_audio';\r\n    }\r\n    \r\n    command\r\n      .complexFilter([...videoFilters, ...audioFilters])\r\n      .outputOptions([\r\n        '-map [video_with_subtitles]',\r\n        `-map [${audioOutput}]`,\r\n        '-c:v libx264',\r\n        '-c:a aac',\r\n        '-preset fast'\r\n      ]);\r\n    \r\n    command\r\n      .on('start', (commandLine) => {\r\n        console.log('start to execute command: ' + commandLine)\r\n      })\r\n      .on('progress', (progress) => {\r\n        console.log(`processing: ${Math.round(progress.percent)}%`)\r\n      })\r\n      .on('end', () => {\r\n        console.log(`segment process done: ${outputPath}`)\r\n        resolve()\r\n      })\r\n      .on('error', (err) => {\r\n        console.error(`segment process error: ${err.message}`)\r\n        reject(err)\r\n      })\r\n      .save(outputPath)\r\n  })\r\n}\r\n\r\nasync function splitClipToSegments(clip: any, outputDir: string, outputFileName: string, globalConfig: any) {\r\n  // 获取视频宽高\r\n  const videoRatio = globalConfig.videoRatio;\r\n  const videoResolution = globalConfig.videoResolution;\r\n  const videoResolutonPart = videoResolution.split('x').map(v => parseInt(v));\r\n  const videoWidth = videoRatio === '9:16' ? videoResolutonPart[0] : videoResolutonPart[1];\r\n  const videoHeight = videoRatio === '9:16' ? videoResolutonPart[1] : videoResolutonPart[0];\r\n  // 获取音频\r\n  const audio = clip.zimuConfig.datas[0]\r\n  const audioPath = audio.path;\r\n  let audioDuration = audio.duration ?? await getDurationWithFfmpeg(audioPath);\r\n  audioDuration = Math.ceil(audioDuration * 100) / 100;\r\n  // 获取视频列表\r\n  const videoList = clip.videoList;\r\n  // 获取是否开启原声\r\n  const isOpenOriginAudio = clip.isOpenOriginAudio ?? true;\r\n  // 获取分段列表\r\n  const clipSegments: any[] = [];\r\n  const tempBaseName = `${outputFileName}_${clip.name}_`;\r\n  // 获取字幕列表\r\n  const subtitles = clip.zimuConfig.datas.map(v => ({\r\n    text: v.text,\r\n    start: 0,\r\n    duration: audioDuration\r\n  }));\r\n  // 获取字幕文件路径\r\n  const subtitlePath = path.join(outputDir, `${outputFileName}_${clip.name}_subtitles.srt`);\r\n  // 获取标题配置\r\n  const titleConfig = clip.videoTitleConfig.datas[0];\r\n  for (const video of videoList) {\r\n    const videoPath = video.path;\r\n    const videoDuration = video.duration ?? await getDurationWithFfmpeg(videoPath);\r\n    const segmentDuration = audioDuration;\r\n    const segmentCount = Math.ceil(videoDuration / segmentDuration)\r\n    const baseName = tempBaseName + path.basename(videoPath, path.extname(videoPath))\r\n    for (let i = 0; i < segmentCount; i++) {\r\n      const startTime = i * segmentDuration\r\n      const remainingDuration = video.duration - startTime\r\n      const currentDuration = Math.min(segmentDuration, remainingDuration)\r\n      \r\n      const outputPath = path.join(\r\n        outputDir,\r\n        `${baseName}_part${i + 1}_${startTime}-${startTime + currentDuration}.mp4`\r\n      )\r\n      clipSegments.push({\r\n        videoPath: videoPath,\r\n        audioPath: audioPath,\r\n        outputPath: outputPath,\r\n        startTime: startTime,\r\n        currentDuration: currentDuration,\r\n        isOpenOriginAudio: isOpenOriginAudio,\r\n        subtitles: subtitles,\r\n        subtitlePath: subtitlePath,\r\n        titleConfig: titleConfig,\r\n        videoWidth: videoWidth,\r\n        videoHeight: videoHeight\r\n      })\r\n    }\r\n  }\r\n  return clipSegments;\r\n}\r\n\r\nasync function concatVideos(videos: string[], outputPath: string): Promise<void> {\r\n  return new Promise((resolve, reject) => {\r\n    const command = ffmpeg()\r\n    \r\n    // 添加所有输入视频\r\n    videos.forEach(video => {\r\n      command.input(video)\r\n    })\r\n\r\n    const filterComplex = [];\r\n\r\n    for (let i = 0; i < videos.length; i++) {\r\n      filterComplex.push(`[${i}:v]scale=1280:720:force_original_aspect_ratio=decrease,pad=1280:720:(ow-iw)/2:(oh-ih)/2,setsar=1[v${i}]`);\r\n      filterComplex.push(`[${i}:a]aformat=sample_fmts=fltp:sample_rates=44100:channel_layouts=stereo[a${i}]`);\r\n    }\r\n    const concatInput = videos.map((_, i) => `[v${i}][a${i}]`).join('')\r\n    filterComplex.push(`${concatInput} concat=n=${videos.length}:v=1:a=1[v][a]`);\r\n\r\n    command\r\n      .complexFilter(filterComplex)\r\n      .outputOptions([\r\n        '-map [v]', // 映射视频流\r\n        '-map [a]', // 映射音频流\r\n        '-c:v libx264', // 重新编码视频\r\n        '-preset fast',\r\n        '-crf 23',\r\n        '-c:a aac',     // 重新编码音频\r\n        '-b:a 128k',\r\n        '-movflags +faststart' //便于网络播放\r\n      ])\r\n      .on('start', (cmd) => console.log('执行命令:', cmd))\r\n      .on('progress', (progress) => console.log(`处理进度: ${Math.round(progress.percent)}%`))\r\n      .on('end', resolve)\r\n      .on('error', reject)\r\n      .save(outputPath)\r\n  })\r\n}\r\n\r\nasync function processVideoClipList(params) {\r\n  log.log('accept params：')\r\n  log.log(JSON.stringify(params));\r\n  const clipList = params.clips;\r\n  const outputFileName = params.outputFileName;\r\n  const outputDir = params.outputDir ?? ensureAppDataSaveDir();\r\n  const globalConfig = params.globalConfig;\r\n  for (const clip of clipList) {\r\n    // 单镜头分片\r\n    clip.segments = await splitClipToSegments(clip, outputDir, outputFileName, globalConfig);\r\n  }\r\n  log.log('split clip to segments done：')\r\n  log.log(JSON.stringify(clipList));\r\n  // 分片并发处理\r\n  const segments = [];\r\n  for (const clip of clipList) {\r\n    segments.push(...clip.segments);\r\n  }\r\n  log.info('segments:')\r\n  log.info(JSON.stringify(segments));\r\n  const segmentProcessPromiseList = segments.map(segment => {\r\n    return processSegment(segment);\r\n  })\r\n  await Promise.all(segmentProcessPromiseList);\r\n  log.log('segment process done：')\r\n  log.log(JSON.stringify(segments));\r\n  // 镜头合成\r\n  let segmentMinCount = 1;\r\n  for (const clip of clipList) {\r\n    if (segmentMinCount === 1) {\r\n      segmentMinCount = clip.segments.length;\r\n    } else if (clip.segments.length > 1 && clip.segments.length < segmentMinCount) {\r\n      segmentMinCount = clip.segments.length;\r\n    }\r\n  }\r\n  log.log(`we can generate ${segmentMinCount} videos`)\r\n  const outputSegmentList = [];\r\n  for (let i = 0; i < segmentMinCount; i++) {\r\n    const segmentsForOutput = [];\r\n    let segmentsDurationSum = 0;\r\n    for (const clip of clipList) {\r\n      const segments = clip.segments;\r\n      let currentSegment;\r\n      if (segments.length === 1) {\r\n        currentSegment = segments[0];\r\n      } else {\r\n        currentSegment = segments[i];\r\n      }\r\n      segmentsForOutput.push(currentSegment.outputPath);\r\n      segmentsDurationSum += currentSegment.currentDuration;\r\n    }\r\n    outputSegmentList.push({\r\n      videos: segmentsForOutput,\r\n      outputPath: path.join(outputDir, `${outputFileName}_${i + 1}.mp4`),\r\n      duration: segmentsDurationSum\r\n    });\r\n  }\r\n  log.log('concat videos start')\r\n  log.log(JSON.stringify(outputSegmentList));\r\n  const outputPromiseList = outputSegmentList.map(segments => {\r\n    return concatVideos(segments.videos, segments.outputPath);\r\n  })\r\n  await Promise.all(outputPromiseList);\r\n  \r\n  log.log('concat videos done：')\r\n  log.log(JSON.stringify(outputSegmentList));\r\n  return outputSegmentList.map(v => {\r\n    return {\r\n      outputPath: v.outputPath,\r\n      duration: v.duration\r\n    }\r\n  });\r\n}\r\n\r\nexport function initVideoMixAndCut() {\r\n  ipcMain.handle('video-mix-and-cut', async (event, paramsStr: string) => {\r\n    const params = JSON.parse(decodeArg(paramsStr));\r\n    return processVideoClipList(params);\r\n  })\r\n\r\n  ipcMain.handle('get-media-duration', async (event, paramsStr: string) => {\r\n    const params = JSON.parse(decodeArg(paramsStr));\r\n    return getDurationWithFfmpeg(params.path);\r\n  })\r\n}\r\n\r\n","import { ipcMain, BrowserWindow, dialog } from \"electron\";\r\nimport { getPlatformAppDataPath } from \"./default-save-path\";\r\nimport path from 'path';\r\nimport { getDurationWithFfmpeg } from '../utils/ffmpeg-utils'\r\nimport fs from 'fs';\r\nimport { getMimeType } from \"../utils\";\r\n\r\nexport function initOpenFileDialog(mainWindow: BrowserWindow) {\r\n  ipcMain.handle('open-file-dialog', async (_, options) => {\r\n    if (!mainWindow) return null;\r\n    \r\n    const defaultPath = options?.defaultPath || getPlatformAppDataPath();\r\n    const properties = options?.properties || ['openFile'];\r\n    const title = options?.title || '选择文件';\r\n    const buttonLabel = options?.buttonLabel || '选择';\r\n    const filters = options?.filters || [\r\n      { name: 'All Files', extensions: ['*'] }\r\n    ];\r\n    if (options?.multiple && !properties.includes('multiSelections')) {\r\n      properties.push('multiSelections');\r\n    }\r\n    const result: any = await dialog.showOpenDialog(mainWindow, {\r\n      title,\r\n      defaultPath,\r\n      buttonLabel,\r\n      filters,\r\n      properties\r\n    });\r\n    if (result.canceled) {\r\n      return [];\r\n    } else {\r\n      const resultListPromise = result.filePaths.map(async v => {\r\n        const duration = await getDurationWithFfmpeg(v);\r\n        const url = `media://${encodeURIComponent(v)}`;\r\n        return {\r\n          path: path.normalize(v),\r\n          name: path.basename(v),\r\n          ext: path.extname(v),\r\n          mimeType: getMimeType(v),\r\n          duration,\r\n          url\r\n        }\r\n      });\r\n      return await Promise.all(resultListPromise);\r\n    }\r\n  });\r\n}\r\n\r\n","import { app, protocol } from 'electron';\r\nimport path from 'path'\r\nimport fs from 'fs'\r\nimport { getPlatformAppDataPath } from './default-save-path'\r\nimport { getMimeType } from '../utils';\r\nimport { Readable } from 'stream';\r\nimport { createWebReadableStream } from '../utils';\r\n\r\n// 安全检查中间件\r\nasync function checkFileSafety(filePath: string): Promise<boolean> {\r\n  // 1. 规范化路径\r\n  const normalized = path.normalize(filePath);\r\n  \r\n  // 2. 防止目录遍历攻击\r\n  if (normalized !== filePath || normalized.includes('..')) {\r\n    return false;\r\n  }\r\n  \r\n  // 3. 限制访问特定目录（示例：只允许用户文档和下载目录）\r\n  const allowedDirs = [\r\n    app.getPath('documents'),\r\n    app.getPath('downloads'),\r\n    app.getPath('videos'),\r\n    getPlatformAppDataPath(),\r\n  ].map(dir => path.normalize(dir));\r\n\r\n  const isAllowed = allowedDirs.some(dir => \r\n    normalized.startsWith(dir + path.sep)\r\n  );\r\n  \r\n  if (!isAllowed) return false;\r\n  \r\n  // 4. 检查文件是否存在且可读\r\n  try {\r\n    await fs.promises.access(normalized, fs.constants.R_OK);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\nexport function initProtocolCustom() {\r\n  // 在主进程中注册自定义协议\r\n  protocol.handle('media', async (request) => {\r\n    try {\r\n      // 提取并安全解码路径\r\n      const unsafePath = request.url.slice('media://'.length);\r\n      const decodedPath = decodeURIComponent(unsafePath)\r\n        .replace(/\\//g, '\\\\') // 统一为Windows路径分隔符\r\n        .replace(/^\\\\/, '');  // 移除开头的多余反斜杠\r\n\r\n      // 标准化路径\r\n      const safePath = path.normalize(decodedPath);\r\n\r\n       // 安全检查\r\n       if (!await checkFileSafety(safePath)) {\r\n        return new Response('Access Denied', { status: 403 });\r\n      }\r\n\r\n      // 获取文件统计信息\r\n      const stats = await fs.promises.stat(safePath);\r\n      if (!stats.isFile()) {\r\n        return new Response('Not a file', { status: 400 });\r\n      }\r\n      \r\n      // 处理范围请求 (视频/音频流式传输)\r\n      const range = request.headers.get('range');\r\n      const fileSize = stats.size;\r\n      const headers = {\r\n        'Content-Type': getMimeType(safePath),\r\n        'Cache-Control': 'public, max-age=31536000'\r\n      }\r\n      if (range) {\r\n        // 解析范围请求\r\n        const parts = range.replace(/bytes=/, '').split('-');\r\n        const start = parseInt(parts[0], 10);\r\n        const end = parts[1] ? parseInt(parts[1], 10) : fileSize - 1;\r\n        const chunkSize = (end - start) + 1;\r\n\r\n        // 创建部分读取流\r\n        const fileStream = fs.createReadStream(safePath, { start, end });\r\n        const webStream = createWebReadableStream(fileStream);\r\n\r\n        return new Response(webStream, {\r\n          status: 206,\r\n          headers: {\r\n            'Content-Range': `bytes ${start}-${end}/${fileSize}`,\r\n            'Accept-Ranges': 'bytes',\r\n            'Content-Length': chunkSize.toString(),\r\n            'Content-Type': await getMimeType(safePath),\r\n            'Cache-Control': 'public, max-age=31536000'\r\n          }\r\n        });\r\n      } else {\r\n        const fileStream = fs.createReadStream(safePath);\r\n        const webStream = createWebReadableStream(fileStream);\r\n\r\n        return new Response(webStream, {\r\n          headers: {\r\n            'Content-Length': fileSize.toString(),\r\n            'Content-Type': await getMimeType(safePath),\r\n            'Cache-Control': 'public, max-age=31536000'\r\n          }\r\n        });\r\n      }\r\n    } catch (error) {\r\n      return new Response('Not Found', { status: 404 });\r\n    }\r\n  });\r\n}\r\n","import { globalShortcut } from \"electron\"\r\n\r\nexport function initGlobalShortcutRegister(win) {\r\n  globalShortcut.register('CommandOrControl+R', () => {\r\n    if (win) win.reload()\r\n  })\r\n}\r\n","import { app, BrowserWindow, globalShortcut } from 'electron'\r\nimport path from 'path'\r\nimport initShowSaveDialog from './show-save-dialog';\r\nimport { setupFFmpeg, initMergeMedia } from './merge-media';\r\nimport initOpenFile from './open-file';\r\nimport { initAliyunTTS } from './services/aliyun-tts';\r\nimport { electronCrypto } from './utils/crypto-polyfill';\r\nimport { setupLogger } from './services/logger';\r\nimport { ensureAppDataSaveDir, initAppDataSaveDir } from './services/default-save-path';\r\nimport { initVideoMixAndCut } from './services/video-mix-and-cut';\r\nimport { initOpenFileDialog } from './services/open-file-dialog';\r\nimport { initProtocolCustom } from './services/protocol-custom';\r\nimport { initGlobalShortcutRegister } from './services/global-shortcut-register';\r\nglobal.crypto = electronCrypto;\r\n// The built directory structure\r\n//\r\n// ├─┬─┬ dist\r\n// │ │ └── index.html\r\n// │ │\r\n// │ ├─┬ dist-electron\r\n// │ │ ├── main.js\r\n// │ │ └── preload.js\r\n// │\r\nprocess.env.LANG = 'zh_CN.UTF-8';\r\nprocess.env.LC_ALL = 'zh_CN.UTF-8';\r\n\r\n// 对于Windows特别设置\r\nif (process.platform === 'win32') {\r\n  process.env.CHCP = '65001';\r\n}\r\nprocess.env.DIST = path.join(__dirname, '../dist')\r\nprocess.env.VITE_PUBLIC = app.isPackaged ? process.env.DIST : path.join(process.env.DIST, '../public')\r\n\r\nlet win: BrowserWindow | null\r\n// 🚧 Use ['ENV_NAME'] avoid vite:define plugin\r\nconst VITE_DEV_SERVER_URL = process.env['VITE_DEV_SERVER_URL']\r\n\r\nfunction createWindow() {\r\n  win = new BrowserWindow({\r\n    icon: path.join(process.env.VITE_PUBLIC, 'electron-vite.svg'),\r\n    webPreferences: {\r\n      nodeIntegration: true,\r\n      contextIsolation: true,\r\n      preload: path.join(__dirname, 'preload.js')\r\n    },\r\n  })\r\n\r\n  // Test active push message to Renderer-process.\r\n  win.webContents.on('did-finish-load', () => {\r\n    win?.webContents.send('main-process-message', (new Date).toLocaleString())\r\n  })\r\n\r\n  if (VITE_DEV_SERVER_URL) {\r\n    win.loadURL(VITE_DEV_SERVER_URL)\r\n  } else {\r\n    // win.loadFile('dist/index.html')\r\n    win.loadFile(path.join(process.env.DIST, 'index.html'))\r\n  }\r\n}\r\n\r\nsetupLogger();\r\ninitMergeMedia();\r\ninitShowSaveDialog();\r\ninitOpenFile();\r\ninitAliyunTTS();\r\ninitAppDataSaveDir();\r\ninitVideoMixAndCut();\r\n\r\n\r\n\r\n\r\napp.whenReady().then(() => {\r\n  ensureAppDataSaveDir();\r\n  setupFFmpeg();\r\n  initProtocolCustom();\r\n  createWindow();\r\n  initOpenFileDialog(win);\r\n  initGlobalShortcutRegister(win);\r\n})\r\n\r\napp.on('window-all-closed', () => {\r\n  if (process.platform !== 'darwin') {\r\n    app.quit()\r\n    win = null\r\n  }\r\n})\r\n\r\napp.on('activate', () => {\r\n  if (BrowserWindow.getAllWindows().length === 0) {\r\n    createWindow()\r\n  }\r\n}) \r\n\r\napp.on('will-quit', () => {\r\n  globalShortcut.unregisterAll()\r\n})\r\n\r\n\r\n"],"names":["initShowSaveDialog","ipcMain","_","options","dialog","app","result","windows","isexe","sync","fs","require$$0","checkPathExt","path","pathext","i","p","checkStat","stat","cb","er","mode","checkMode","mod","uid","gid","myUid","myGid","u","o","ug","ret","core","global","require$$1","require$$2","isexe_1","resolve","reject","is","which_1","which","whichSync","isWindows","COLON","getNotFoundError","cmd","getPathInfo","opt","colon","pathEnv","pathExt","pathExtExe","info","found","F","l","pathPart","E","ii","ll","ext","j","cur","nlRegexp","streamRegexp","filterEscapeRegexp","whichCache","parseProgressLine","line","progress","progressParts","progressSplit","key","value","utils","utilsModule","source","dest","list","argfunc","arg","count","index","cloned","filters","filterSpec","filterString","streamSpec","option","name","callback","err","timemark","parts","secs","command","stderrLine","codecsObject","inputPattern","durPattern","audioPattern","videoPattern","inputStack","inputIndex","inInput","format","dur","audio","video","duration","stderr","messages","message","maxLines","cbs","lines","current","closed","max","emit","str","newLines","inputs","proto","isFile","isStream","hasInputStream","input","protocol","fps","seek","codec","bitrate","channels","freq","quality","constant","frames","getScalePadFilters","width","height","aspect","color","createSizeFilters","output","data","fixedSize","fixedWidth","fixedHeight","percentRatio","ratio","videosize","size","match","pad","target","pipeopts","hasOutputStream","self","spec","custom","doSplit","split","map","misc","preset","modulePath","module","require","async","root","previous_async","only_once","fn","called","_each","arr","iterator","_map","results","x","a","_reduce","memo","_keys","obj","keys","k","completed","iterate","limit","_eachLimit","started","running","replenish","doParallel","args","doParallelLimit","doSeries","_asyncMap","eachfn","v","_mapLimit","reversed","_filter","b","_reject","_detect","main_callback","criteria","left","right","tasks","listeners","addListener","removeListener","taskComplete","task","taskCallback","safeResults","rkey","requires","ready","listener","wrapIterator","next","_parallel","makeCallback","_concat","r","y","test","worker","concurrency","_insert","q","pos","item","workers","payload","working","cargo","process","ts","ds","_console_fn","hasher","queues","memoized","counter","fns","that","newargs","nextargs","_applyEach","go","spawn","require$$3","require$$4","runFfprobe","processor","processCB","endCB","stdoutRing","stdoutClosed","stderrRing","stderrClosed","ffmpegProc","exitError","handleExit","processExited","code","signal","complexFilters","fileOutput","sizeFilters","audioFilters","videoFilters","outputArg","readMetadata","flvmeta","e","encoders","event","outputPresent","outputStream","inputStream","ended","emitEnd","stdout","reportingErr","msg","codecDataSent","codecObject","flvtool","niceness","logger","pid","renice","avCodecRegexp","ffCodecRegexp","ffEncodersRegexp","ffDecodersRegexp","encodersRegexp","formatRegexp","lineBreakRegexp","filterRegexp","cache","capabilities","ffmpegPath","ffprobePath","exists","ffmpeg","ffprobe","flvtool2","types","codecData","decoders","coderData","formats","unavailable","fmts","cdcs","acodec","vcodec","legacyTag","legacyDisposition","parseFfprobeOutput","out","parseBlock","kv","stream","chapter","handleCallback","src","legacyTagKeys","tagKey","legacyDispositionKeys","dispositionKey","PassThrough","recipes","config","folder","interval","percentSize","metadata","getMetadata","meta","t","vstream","biggest","mark","pattern","filenames","padding","idx","f","first","fileInput","hasAudioStreams","hasVideoStreams","util","EventEmitter","FfmpegCommand","prop","fluentFfmpeg","clone","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","file","instance","require$$14","electron","initialize","contextBridge","ipcRenderer","electronLog","level","scope","scopeFactory","label","newScope","d","Buffering","processMessage","Buffering_1","_Logger","allowUnknownLevel","dependencies","errorHandler","eventLogger","initializeFn","isDev","levels","logId","transportFactories","variables","__publicField","factory","passLevel","checkLevel","pass","check","transports","normalizedMessage","transName","transFn","transformedMsg","hook","_e","Logger","Logger_1","consoleError","RendererErrorHandler","logFn","error","errorName","onError","showDialog","preventDefault","_a","reason","RendererErrorHandler_1","transform_1","transform","transport","initialData","transforms","trans","console_1","consoleTransportRendererFactory","consoleMethods","formatDataFn","consoleLogFn","date","substring","_b","ipc","ipcTransportRendererFactory","RESTRICTED_TYPES","serializeFn","serialized","isPrimitive","depth","seen","actualDepth","val","transportConsole","transportIpc","createLogger","packageJson","findAndReadPackageJson","tryReadJsonAt","getMainModulePath","extractPathFromArgs","searchPaths","searchPath","fileName","findUp","json","cwd","currentPath","parsedPath","dir","matchedArgs","childProcess","os","NodeExternalApi","appName","release","osName","osVersion","appVersion","home","_eventName","_handler","handler","eventName","channel","url","logFunction","start","platform","filePath","includeFutureSession","getSessions","title","NodeExternalApi_1","ElectronExternalApi","_c","webContents","onWebContentsCreated","session","setPreload","wnd","ElectronExternalApi_1","preloadInitializeFn","externalApi","preload","spyRendererConsole","initializePreload","initializeSpyRendererConsole","preloadOption","preloadPath","preloadCode","ErrorHandler","processType","normalizeError","versions","createIssue","pageUrl","queryParams","serErr","ErrorHandler_1","EventLogger","details","sourceId","events","formatters","handlerArgs","array","fieldNames","fieldName","disposer","eventSource","formatter","formattedArgs","eventData","eventMap","listen","log","logFns","EventLogger_1","concatFirstStringElements","formatScope","formatText","formatVariables","timeZoneFromOffset","minutesOffset","minutesPositive","sign","hours","minutes","defaultLabel","labelLength","template","scopeText","templatePieces","serialize","child","newJson","createSerializer","inspectOptions","simplifiedData","serializeMapAndSet","style","transformStyles","styleToAnsi","resetAnsiStyle","ANSI_COLORS","string","onStyleFound","onStyleApplied","foundStyles","valueIndex","styleApplied","maxDepth","toJSON","applyAnsiStyles","removeStyles","consoleTransportFactory","DEFAULT_FORMAT","addTemplateColors","formatStyles","levelToStyle","canUseStyles","useStyleValue","File","writeOptions","writeAsync","bytesAfter","content","readFileSyncFromEnd","stats","text","File_1","bytesCount","buffer","readLength","offset","fd","totalBytes","NullFile","NullFile_1","FileRegistry","FileRegistry_1","toString","fileTransportFactory","globalRegistry","registry","pathVariables","logConsole","getDefaultFileName","getFile","readAllLogs","oldPath","inf","quarterOfMaxSize","vars","initializeOnFirstAccess","fileFilter","logsPath","logPath","ipcTransportFactory","http","https","remote","remoteTransportFactory","serverUrl","requestOptions","body","request","transportFile","transportRemote","createDefaultLogger_1","createDefaultLogger","defaultLogger","main","node","isRenderer","isMain","srcModule","iconv","correctPath","rawPath","gbkDecoded","segment","validateFile","correctedPath","normalizedPath","decodeArg","getMimeType","createWebReadableStream","fileStream","controller","chunk","setupFFmpeg","basePath","ffmpegStatic","ffprobeStatic","initMergeMedia","params","videoPaths","audioPaths","outputPath","audioVolumes","files","complexFilter","videoConcat","audioMix","percent","initOpenFile","shell","getRandomValues","rnds8","rng","REGEX","validate","uuid","byteToHex","stringify","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","buf","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","n","parse","stringToBytes","bytes","DNS","URL","v35","version","hashfunc","generateUUID","namespace","md5","md5ToHexEncodedArray","wordsToMd5","bytesToWords","length32","hexTab","hex","getOutputLength","inputLength8","len","c","olda","oldb","oldc","oldd","md5ff","md5gg","md5hh","md5ii","safeAdd","length8","lsw","msw","bitRotateLeft","num","cnt","md5cmn","s","v3","v3$1","v4","rnds","z","ROTL","sha1","K","H","N","M","_i","_i2","W","_t","_t2","T","v5","v5$1","nil","Websocket","assert","uuidv1","uuidv4","NlsClient$1","onmessage","onclose","isBinary","nls","NlsClient","SpeechSynthesizer","enable_real_time","voice","param","enablePing","pingInterval","req","msgObj","tts","COMMON_CONFIG","m","h","w","ms","type","fmtLong","fmtShort","msAbs","plural","isPlural","setup","env","createDebug","coerce","disable","enable","enabled","destroy","selectColor","hash","prevTime","enableOverride","namespacesCache","enabledCache","debug","curr","extend","delimiter","newDebug","namespaces","ns","matchesTemplate","search","searchIndex","templateIndex","starIndex","matchIndex","skip","common","exports","formatArgs","save","load","useColors","localstorage","warned","lastC","hasFlag","flag","argv","prefix","position","terminatorPosition","tty","forceColor","translateLevel","supportsColor","haveStream","streamIsTTY","min","osRelease","getSupportLevel","supportsColor_1","init","colorCode","getDate","zlib","debugBody","debugHeader","httpAgent","httpsAgent","TIMEOUT","READ_TIMER","READ_TIME_OUT","READ_TIMER_START_AT","decompress","response","append","isNumber","lib","opts","parsed","readTimeout","connectTimeout","isHttps","method","defaultAgent","agent","httplib","fulfilled","rejected","abort","startResponseTimer","socket","timer","encoding","readable","makeReadTimeoutError","readTimer","oldReadTimer","remainTime","onData","onEnd","cleanup","bufs","buff","readyToRead","onReadable","Event","id","retry","DATA_PREFIX","EVENT_PREFIX","ID_PREFIX","RETRY_PREFIX","isDigitsOnly","tryGetEvents","head","all","c2","rest","remain","crypto","filename","algorithm","shasum","last","machine","YYYY","MM","DD","interfaces","addresses","globalObject","BigNumber","isNumeric","mathceil","mathfloor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","configObject","div","convertBase","parseNumeric","P","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","ALPHABET","alphabetHasNormalDecimalDigits","alphabet","caseChanged","isNum","intCheck","round","maxOrMin","pow2_53","random53bitInt","dp","rand","sum","decimal","toBaseOut","baseIn","baseOut","arrL","callerIsToString","xc","rm","toFixedPoint","coeffToString","multiply","base","temp","xlo","xhi","carry","klo","khi","compare","aL","bL","cmp","subtract","more","prod","prodL","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","yc","bitFloor","c0","ne","toExponential","normalise","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","p1","p2","sd","ni","rd","pows10","valueOf","half","isModExp","nIsBig","nIsNeg","nIsOdd","isOdd","xLTy","xe","ye","xcL","ycL","ylo","yhi","zc","sqrtBase","rep","g1","g2","groupSeparator","intPart","fractionPart","isNeg","intDigits","md","d0","d1","d2","exp","n0","n1","zs","this","JSON","escapable","gap","indent","quote","holder","length","mind","partial","isBigNumber","replacer","space","suspectProtoRx","suspectConstructorRx","json_parse","_options","at","ch","escapee","number","uffff","startAt","white","word","object","reviver","walk","json_stringify","jsonBigintModule","pkg","helper","httpx","kitx","firstLetterUpper","formatParams","newParams","timestamp","HH","mm","ss","encode","replaceRepeatList","repeat","flatParams","normalize","flated","canonicalize","normalized","fields","RPCClient$1","verbose","accessKeySecret","elem","httpModule","action","credentials","defaultParams","canonicalized","stringToSign","signature","entry","rpc","RPCClient","defaults","assign","getValue","isArray","isEmpty","isFunction","isObject","isPlainObject","slice","hasProp","sources","ref","ctor","Utility","XMLDOMImplementationModule","XMLDOMImplementation","feature","qualifiedName","publicId","systemId","namespaceURI","doctype","XMLDOMErrorHandlerModule","XMLDOMErrorHandler","XMLDOMStringListModule","XMLDOMStringList","XMLDOMConfigurationModule","XMLDOMConfiguration","NodeTypeModule","NodeType","XMLAttributeModule","XMLAttribute","parent","XMLNamedNodeMapModule","XMLNamedNodeMap","nodes","oldNode","localName","XMLNode","XMLElementModule","superClass","XMLElement","attributes","ref1","att","attName","clonedSelf","clonedChild","attValue","newAttr","oldAttr","isId","idAttr","tagname","classNames","XMLCharacterDataModule","XMLCharacterData","XMLCDataModule","XMLCData","XMLCommentModule","XMLComment","XMLDeclarationModule","XMLDeclaration","standalone","XMLDTDAttListModule","XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","XMLDTDEntityModule","XMLDTDEntity","pe","XMLDTDElementModule","XMLDTDElement","XMLDTDNotationModule","XMLDTDNotation","XMLDocTypeModule","XMLDocType","pubID","sysID","ref2","XMLRawModule","XMLRaw","XMLTextModule","XMLText","prev","XMLProcessingInstructionModule","XMLProcessingInstruction","XMLDummyModule","XMLDummy","XMLNodeListModule","XMLNodeList","DocumentPositionModule","DocumentPosition","XMLNodeModule","parent1","childNode","lastChild","len1","ref3","newChild","refChild","removed","insTarget","insValue","instruction","doc","xmldec","clonedRoot","oldChild","deep","other","res","isDescendantChild","nodePos","thisPos","func","bind","me","XMLStringifierModule","XMLStringifier","regex","ampregex","WriterStateModule","WriterState","require$$15","XMLWriterBaseModule","XMLWriterBase","filteredOptions","ref4","ref5","ref6","indentLevel","childNodeCount","firstChildNode","prettySuppressed","XMLStringWriterModule","XMLStringWriter","XMLDocumentModule","XMLDocument","writer","writerOptions","tagName","importedNode","elementId","eventInterface","whatToShow","filter","require$$16","require$$17","require$$18","XMLDocumentCBModule","XMLDocumentCB","oldValidationFlag","XMLStreamWriterModule","XMLStreamWriter","builder","escapeCDATA","requiresCDATA","wrapCDATA","builder_1","Builder","rootObj","attrkey","charkey","render","rootElement","rootName","_this","element","attr","sax","strict","SAXParser","SAXStream","createStream","buffers","parser","clearBuffers","S","rootNS","newf","checkBufferLength","maxAllowed","maxActual","closeText","emitNode","flushBuffers","end","write","Stream","streamWraps","ev","SD","CDATA","DOCTYPE","XML_NAMESPACE","XMLNS_NAMESPACE","nameStart","nameBody","entityStart","entityBody","isWhitespace","isQuote","isAttribEnd","isMatch","notMatch","nodeType","textopts","strictFail","newTag","tag","qname","attribute","qualName","local","attrib","qn","openTag","selfClosing","nv","uri","closeTag","closeTo","close","parseEntity","entity","entityLC","numStr","beginWhiteSpace","charAt","starti","returnState","parsedEntity","stringFromCharCode","floor","fromCodePoint","MAX_SIZE","codeUnits","highSurrogate","lowSurrogate","codePoint","bom","prefixMatch","processors","processItem","setImmediate","thing","Parser","error1","newValue","ontext","stack","processedKey","cdata","emptyStr","nodeName","objClone","old","xpath","charChild","xml2js","ValidationError","_len","_key","_typeof","_console","querystring","keyLowerify","headers","newHeaders","getCanonicalizedHeaders","canonicalizedKeys","getCanonicalizedResource","uriPattern","query","buildStringToSign","accept","contentMD5","contentType","header","canonicalizedHeaders","canonicalizedResource","parseXML","xml","ACSError","hostid","requestid","ROAClient","defaultHeaders","utf8Buff","mixHeaders","postBody","responseBody","statusCode","errorMessage","errorCode","requestId","roa","popCoreModule","getToken","client","getDurationWithFfmpeg","ffmpeg.ffprobe","hasAudio","execAsync","promisify","exec","generateSrtFile","subtitles","srtContent","sub","startTime","formatTime","endTime","seconds","getFontPath","fontName","systemFonts","fontPath","APP_NAME","getPlatformAppDataPath","ensureAppDataSaveDir","appDataPath","initAppDataSaveDir","initAliyunTTS","paramsStr","outputDir","outputFileName","token","outputFile","subtlePolyfill","webcrypto","extractable","keyUsages","electronCrypto","setupLogger","logFile","originalConsole","processSegment","videoPath","audioPath","isOpenOriginAudio","currentDuration","subtitlePath","titleConfig","videoWidth","videoHeight","srtPath","escapedSrtPath","titleDuration","positionMap","subtitleFilter","audioOutput","commandLine","splitClipToSegments","clip","globalConfig","videoRatio","videoResolutonPart","audioDuration","videoList","clipSegments","tempBaseName","videoDuration","segmentDuration","segmentCount","baseName","remainingDuration","concatVideos","videos","filterComplex","concatInput","processVideoClipList","clipList","segments","segmentProcessPromiseList","segmentMinCount","outputSegmentList","segmentsForOutput","segmentsDurationSum","currentSegment","outputPromiseList","initVideoMixAndCut","initOpenFileDialog","mainWindow","defaultPath","properties","buttonLabel","resultListPromise","checkFileSafety","initProtocolCustom","unsafePath","decodedPath","safePath","range","fileSize","chunkSize","webStream","initGlobalShortcutRegister","win","globalShortcut","VITE_DEV_SERVER_URL","createWindow","BrowserWindow"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131]}